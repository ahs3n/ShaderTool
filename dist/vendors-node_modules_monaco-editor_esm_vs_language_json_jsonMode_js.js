"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk"] = self["webpackChunk"] || []).push([["vendors-node_modules_monaco-editor_esm_vs_language_json_jsonMode_js"],{

/***/ "./node_modules/monaco-editor/esm/vs/language/json/jsonMode.js":
/*!*********************************************************************!*\
  !*** ./node_modules/monaco-editor/esm/vs/language/json/jsonMode.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CompletionAdapter: () => (/* binding */ CompletionAdapter),\n/* harmony export */   DefinitionAdapter: () => (/* binding */ DefinitionAdapter),\n/* harmony export */   DiagnosticsAdapter: () => (/* binding */ DiagnosticsAdapter),\n/* harmony export */   DocumentColorAdapter: () => (/* binding */ DocumentColorAdapter),\n/* harmony export */   DocumentFormattingEditProvider: () => (/* binding */ DocumentFormattingEditProvider),\n/* harmony export */   DocumentHighlightAdapter: () => (/* binding */ DocumentHighlightAdapter),\n/* harmony export */   DocumentLinkAdapter: () => (/* binding */ DocumentLinkAdapter),\n/* harmony export */   DocumentRangeFormattingEditProvider: () => (/* binding */ DocumentRangeFormattingEditProvider),\n/* harmony export */   DocumentSymbolAdapter: () => (/* binding */ DocumentSymbolAdapter),\n/* harmony export */   FoldingRangeAdapter: () => (/* binding */ FoldingRangeAdapter),\n/* harmony export */   HoverAdapter: () => (/* binding */ HoverAdapter),\n/* harmony export */   ReferenceAdapter: () => (/* binding */ ReferenceAdapter),\n/* harmony export */   RenameAdapter: () => (/* binding */ RenameAdapter),\n/* harmony export */   SelectionRangeAdapter: () => (/* binding */ SelectionRangeAdapter),\n/* harmony export */   WorkerManager: () => (/* binding */ WorkerManager),\n/* harmony export */   fromPosition: () => (/* binding */ fromPosition),\n/* harmony export */   fromRange: () => (/* binding */ fromRange),\n/* harmony export */   getWorker: () => (/* binding */ getWorker),\n/* harmony export */   setupMode: () => (/* binding */ setupMode),\n/* harmony export */   toRange: () => (/* binding */ toRange),\n/* harmony export */   toTextEdit: () => (/* binding */ toTextEdit)\n/* harmony export */ });\n/* harmony import */ var _editor_editor_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../editor/editor.api.js */ \"./node_modules/monaco-editor/esm/vs/editor/editor.api.js\");\n/*!-----------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Version: 0.50.0(c321d0fbecb50ab8a5365fa1965476b0ae63fc87)\r\n * Released under the MIT license\r\n * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt\r\n *-----------------------------------------------------------------------------*/\r\n\r\nvar __defProp = Object.defineProperty;\r\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\r\nvar __getOwnPropNames = Object.getOwnPropertyNames;\r\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\r\nvar __copyProps = (to, from, except, desc) => {\r\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\r\n    for (let key of __getOwnPropNames(from))\r\n      if (!__hasOwnProp.call(to, key) && key !== except)\r\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\r\n  }\r\n  return to;\r\n};\r\nvar __reExport = (target, mod, secondTarget) => (__copyProps(target, mod, \"default\"), secondTarget && __copyProps(secondTarget, mod, \"default\"));\r\n\r\n// src/fillers/monaco-editor-core.ts\r\nvar monaco_editor_core_exports = {};\r\n__reExport(monaco_editor_core_exports, _editor_editor_api_js__WEBPACK_IMPORTED_MODULE_0__);\r\n\r\n\r\n// src/language/json/workerManager.ts\r\nvar STOP_WHEN_IDLE_FOR = 2 * 60 * 1e3;\r\nvar WorkerManager = class {\r\n  constructor(defaults) {\r\n    this._defaults = defaults;\r\n    this._worker = null;\r\n    this._client = null;\r\n    this._idleCheckInterval = window.setInterval(() => this._checkIfIdle(), 30 * 1e3);\r\n    this._lastUsedTime = 0;\r\n    this._configChangeListener = this._defaults.onDidChange(() => this._stopWorker());\r\n  }\r\n  _stopWorker() {\r\n    if (this._worker) {\r\n      this._worker.dispose();\r\n      this._worker = null;\r\n    }\r\n    this._client = null;\r\n  }\r\n  dispose() {\r\n    clearInterval(this._idleCheckInterval);\r\n    this._configChangeListener.dispose();\r\n    this._stopWorker();\r\n  }\r\n  _checkIfIdle() {\r\n    if (!this._worker) {\r\n      return;\r\n    }\r\n    let timePassedSinceLastUsed = Date.now() - this._lastUsedTime;\r\n    if (timePassedSinceLastUsed > STOP_WHEN_IDLE_FOR) {\r\n      this._stopWorker();\r\n    }\r\n  }\r\n  _getClient() {\r\n    this._lastUsedTime = Date.now();\r\n    if (!this._client) {\r\n      this._worker = monaco_editor_core_exports.editor.createWebWorker({\r\n        // module that exports the create() method and returns a `JSONWorker` instance\r\n        moduleId: \"vs/language/json/jsonWorker\",\r\n        label: this._defaults.languageId,\r\n        // passed in to the create() method\r\n        createData: {\r\n          languageSettings: this._defaults.diagnosticsOptions,\r\n          languageId: this._defaults.languageId,\r\n          enableSchemaRequest: this._defaults.diagnosticsOptions.enableSchemaRequest\r\n        }\r\n      });\r\n      this._client = this._worker.getProxy();\r\n    }\r\n    return this._client;\r\n  }\r\n  getLanguageServiceWorker(...resources) {\r\n    let _client;\r\n    return this._getClient().then((client) => {\r\n      _client = client;\r\n    }).then((_) => {\r\n      if (this._worker) {\r\n        return this._worker.withSyncedResources(resources);\r\n      }\r\n    }).then((_) => _client);\r\n  }\r\n};\r\n\r\n// node_modules/vscode-languageserver-types/lib/esm/main.js\r\nvar DocumentUri;\r\n(function(DocumentUri2) {\r\n  function is(value) {\r\n    return typeof value === \"string\";\r\n  }\r\n  DocumentUri2.is = is;\r\n})(DocumentUri || (DocumentUri = {}));\r\nvar URI;\r\n(function(URI2) {\r\n  function is(value) {\r\n    return typeof value === \"string\";\r\n  }\r\n  URI2.is = is;\r\n})(URI || (URI = {}));\r\nvar integer;\r\n(function(integer2) {\r\n  integer2.MIN_VALUE = -2147483648;\r\n  integer2.MAX_VALUE = 2147483647;\r\n  function is(value) {\r\n    return typeof value === \"number\" && integer2.MIN_VALUE <= value && value <= integer2.MAX_VALUE;\r\n  }\r\n  integer2.is = is;\r\n})(integer || (integer = {}));\r\nvar uinteger;\r\n(function(uinteger2) {\r\n  uinteger2.MIN_VALUE = 0;\r\n  uinteger2.MAX_VALUE = 2147483647;\r\n  function is(value) {\r\n    return typeof value === \"number\" && uinteger2.MIN_VALUE <= value && value <= uinteger2.MAX_VALUE;\r\n  }\r\n  uinteger2.is = is;\r\n})(uinteger || (uinteger = {}));\r\nvar Position;\r\n(function(Position3) {\r\n  function create(line, character) {\r\n    if (line === Number.MAX_VALUE) {\r\n      line = uinteger.MAX_VALUE;\r\n    }\r\n    if (character === Number.MAX_VALUE) {\r\n      character = uinteger.MAX_VALUE;\r\n    }\r\n    return { line, character };\r\n  }\r\n  Position3.create = create;\r\n  function is(value) {\r\n    let candidate = value;\r\n    return Is.objectLiteral(candidate) && Is.uinteger(candidate.line) && Is.uinteger(candidate.character);\r\n  }\r\n  Position3.is = is;\r\n})(Position || (Position = {}));\r\nvar Range;\r\n(function(Range3) {\r\n  function create(one, two, three, four) {\r\n    if (Is.uinteger(one) && Is.uinteger(two) && Is.uinteger(three) && Is.uinteger(four)) {\r\n      return { start: Position.create(one, two), end: Position.create(three, four) };\r\n    } else if (Position.is(one) && Position.is(two)) {\r\n      return { start: one, end: two };\r\n    } else {\r\n      throw new Error(`Range#create called with invalid arguments[${one}, ${two}, ${three}, ${four}]`);\r\n    }\r\n  }\r\n  Range3.create = create;\r\n  function is(value) {\r\n    let candidate = value;\r\n    return Is.objectLiteral(candidate) && Position.is(candidate.start) && Position.is(candidate.end);\r\n  }\r\n  Range3.is = is;\r\n})(Range || (Range = {}));\r\nvar Location;\r\n(function(Location2) {\r\n  function create(uri, range) {\r\n    return { uri, range };\r\n  }\r\n  Location2.create = create;\r\n  function is(value) {\r\n    let candidate = value;\r\n    return Is.objectLiteral(candidate) && Range.is(candidate.range) && (Is.string(candidate.uri) || Is.undefined(candidate.uri));\r\n  }\r\n  Location2.is = is;\r\n})(Location || (Location = {}));\r\nvar LocationLink;\r\n(function(LocationLink2) {\r\n  function create(targetUri, targetRange, targetSelectionRange, originSelectionRange) {\r\n    return { targetUri, targetRange, targetSelectionRange, originSelectionRange };\r\n  }\r\n  LocationLink2.create = create;\r\n  function is(value) {\r\n    let candidate = value;\r\n    return Is.objectLiteral(candidate) && Range.is(candidate.targetRange) && Is.string(candidate.targetUri) && Range.is(candidate.targetSelectionRange) && (Range.is(candidate.originSelectionRange) || Is.undefined(candidate.originSelectionRange));\r\n  }\r\n  LocationLink2.is = is;\r\n})(LocationLink || (LocationLink = {}));\r\nvar Color;\r\n(function(Color2) {\r\n  function create(red, green, blue, alpha) {\r\n    return {\r\n      red,\r\n      green,\r\n      blue,\r\n      alpha\r\n    };\r\n  }\r\n  Color2.create = create;\r\n  function is(value) {\r\n    const candidate = value;\r\n    return Is.objectLiteral(candidate) && Is.numberRange(candidate.red, 0, 1) && Is.numberRange(candidate.green, 0, 1) && Is.numberRange(candidate.blue, 0, 1) && Is.numberRange(candidate.alpha, 0, 1);\r\n  }\r\n  Color2.is = is;\r\n})(Color || (Color = {}));\r\nvar ColorInformation;\r\n(function(ColorInformation2) {\r\n  function create(range, color) {\r\n    return {\r\n      range,\r\n      color\r\n    };\r\n  }\r\n  ColorInformation2.create = create;\r\n  function is(value) {\r\n    const candidate = value;\r\n    return Is.objectLiteral(candidate) && Range.is(candidate.range) && Color.is(candidate.color);\r\n  }\r\n  ColorInformation2.is = is;\r\n})(ColorInformation || (ColorInformation = {}));\r\nvar ColorPresentation;\r\n(function(ColorPresentation2) {\r\n  function create(label, textEdit, additionalTextEdits) {\r\n    return {\r\n      label,\r\n      textEdit,\r\n      additionalTextEdits\r\n    };\r\n  }\r\n  ColorPresentation2.create = create;\r\n  function is(value) {\r\n    const candidate = value;\r\n    return Is.objectLiteral(candidate) && Is.string(candidate.label) && (Is.undefined(candidate.textEdit) || TextEdit.is(candidate)) && (Is.undefined(candidate.additionalTextEdits) || Is.typedArray(candidate.additionalTextEdits, TextEdit.is));\r\n  }\r\n  ColorPresentation2.is = is;\r\n})(ColorPresentation || (ColorPresentation = {}));\r\nvar FoldingRangeKind;\r\n(function(FoldingRangeKind2) {\r\n  FoldingRangeKind2.Comment = \"comment\";\r\n  FoldingRangeKind2.Imports = \"imports\";\r\n  FoldingRangeKind2.Region = \"region\";\r\n})(FoldingRangeKind || (FoldingRangeKind = {}));\r\nvar FoldingRange;\r\n(function(FoldingRange2) {\r\n  function create(startLine, endLine, startCharacter, endCharacter, kind, collapsedText) {\r\n    const result = {\r\n      startLine,\r\n      endLine\r\n    };\r\n    if (Is.defined(startCharacter)) {\r\n      result.startCharacter = startCharacter;\r\n    }\r\n    if (Is.defined(endCharacter)) {\r\n      result.endCharacter = endCharacter;\r\n    }\r\n    if (Is.defined(kind)) {\r\n      result.kind = kind;\r\n    }\r\n    if (Is.defined(collapsedText)) {\r\n      result.collapsedText = collapsedText;\r\n    }\r\n    return result;\r\n  }\r\n  FoldingRange2.create = create;\r\n  function is(value) {\r\n    const candidate = value;\r\n    return Is.objectLiteral(candidate) && Is.uinteger(candidate.startLine) && Is.uinteger(candidate.startLine) && (Is.undefined(candidate.startCharacter) || Is.uinteger(candidate.startCharacter)) && (Is.undefined(candidate.endCharacter) || Is.uinteger(candidate.endCharacter)) && (Is.undefined(candidate.kind) || Is.string(candidate.kind));\r\n  }\r\n  FoldingRange2.is = is;\r\n})(FoldingRange || (FoldingRange = {}));\r\nvar DiagnosticRelatedInformation;\r\n(function(DiagnosticRelatedInformation2) {\r\n  function create(location, message) {\r\n    return {\r\n      location,\r\n      message\r\n    };\r\n  }\r\n  DiagnosticRelatedInformation2.create = create;\r\n  function is(value) {\r\n    let candidate = value;\r\n    return Is.defined(candidate) && Location.is(candidate.location) && Is.string(candidate.message);\r\n  }\r\n  DiagnosticRelatedInformation2.is = is;\r\n})(DiagnosticRelatedInformation || (DiagnosticRelatedInformation = {}));\r\nvar DiagnosticSeverity;\r\n(function(DiagnosticSeverity2) {\r\n  DiagnosticSeverity2.Error = 1;\r\n  DiagnosticSeverity2.Warning = 2;\r\n  DiagnosticSeverity2.Information = 3;\r\n  DiagnosticSeverity2.Hint = 4;\r\n})(DiagnosticSeverity || (DiagnosticSeverity = {}));\r\nvar DiagnosticTag;\r\n(function(DiagnosticTag2) {\r\n  DiagnosticTag2.Unnecessary = 1;\r\n  DiagnosticTag2.Deprecated = 2;\r\n})(DiagnosticTag || (DiagnosticTag = {}));\r\nvar CodeDescription;\r\n(function(CodeDescription2) {\r\n  function is(value) {\r\n    const candidate = value;\r\n    return Is.objectLiteral(candidate) && Is.string(candidate.href);\r\n  }\r\n  CodeDescription2.is = is;\r\n})(CodeDescription || (CodeDescription = {}));\r\nvar Diagnostic;\r\n(function(Diagnostic2) {\r\n  function create(range, message, severity, code, source, relatedInformation) {\r\n    let result = { range, message };\r\n    if (Is.defined(severity)) {\r\n      result.severity = severity;\r\n    }\r\n    if (Is.defined(code)) {\r\n      result.code = code;\r\n    }\r\n    if (Is.defined(source)) {\r\n      result.source = source;\r\n    }\r\n    if (Is.defined(relatedInformation)) {\r\n      result.relatedInformation = relatedInformation;\r\n    }\r\n    return result;\r\n  }\r\n  Diagnostic2.create = create;\r\n  function is(value) {\r\n    var _a;\r\n    let candidate = value;\r\n    return Is.defined(candidate) && Range.is(candidate.range) && Is.string(candidate.message) && (Is.number(candidate.severity) || Is.undefined(candidate.severity)) && (Is.integer(candidate.code) || Is.string(candidate.code) || Is.undefined(candidate.code)) && (Is.undefined(candidate.codeDescription) || Is.string((_a = candidate.codeDescription) === null || _a === void 0 ? void 0 : _a.href)) && (Is.string(candidate.source) || Is.undefined(candidate.source)) && (Is.undefined(candidate.relatedInformation) || Is.typedArray(candidate.relatedInformation, DiagnosticRelatedInformation.is));\r\n  }\r\n  Diagnostic2.is = is;\r\n})(Diagnostic || (Diagnostic = {}));\r\nvar Command;\r\n(function(Command2) {\r\n  function create(title, command, ...args) {\r\n    let result = { title, command };\r\n    if (Is.defined(args) && args.length > 0) {\r\n      result.arguments = args;\r\n    }\r\n    return result;\r\n  }\r\n  Command2.create = create;\r\n  function is(value) {\r\n    let candidate = value;\r\n    return Is.defined(candidate) && Is.string(candidate.title) && Is.string(candidate.command);\r\n  }\r\n  Command2.is = is;\r\n})(Command || (Command = {}));\r\nvar TextEdit;\r\n(function(TextEdit2) {\r\n  function replace(range, newText) {\r\n    return { range, newText };\r\n  }\r\n  TextEdit2.replace = replace;\r\n  function insert(position, newText) {\r\n    return { range: { start: position, end: position }, newText };\r\n  }\r\n  TextEdit2.insert = insert;\r\n  function del(range) {\r\n    return { range, newText: \"\" };\r\n  }\r\n  TextEdit2.del = del;\r\n  function is(value) {\r\n    const candidate = value;\r\n    return Is.objectLiteral(candidate) && Is.string(candidate.newText) && Range.is(candidate.range);\r\n  }\r\n  TextEdit2.is = is;\r\n})(TextEdit || (TextEdit = {}));\r\nvar ChangeAnnotation;\r\n(function(ChangeAnnotation2) {\r\n  function create(label, needsConfirmation, description) {\r\n    const result = { label };\r\n    if (needsConfirmation !== void 0) {\r\n      result.needsConfirmation = needsConfirmation;\r\n    }\r\n    if (description !== void 0) {\r\n      result.description = description;\r\n    }\r\n    return result;\r\n  }\r\n  ChangeAnnotation2.create = create;\r\n  function is(value) {\r\n    const candidate = value;\r\n    return Is.objectLiteral(candidate) && Is.string(candidate.label) && (Is.boolean(candidate.needsConfirmation) || candidate.needsConfirmation === void 0) && (Is.string(candidate.description) || candidate.description === void 0);\r\n  }\r\n  ChangeAnnotation2.is = is;\r\n})(ChangeAnnotation || (ChangeAnnotation = {}));\r\nvar ChangeAnnotationIdentifier;\r\n(function(ChangeAnnotationIdentifier2) {\r\n  function is(value) {\r\n    const candidate = value;\r\n    return Is.string(candidate);\r\n  }\r\n  ChangeAnnotationIdentifier2.is = is;\r\n})(ChangeAnnotationIdentifier || (ChangeAnnotationIdentifier = {}));\r\nvar AnnotatedTextEdit;\r\n(function(AnnotatedTextEdit2) {\r\n  function replace(range, newText, annotation) {\r\n    return { range, newText, annotationId: annotation };\r\n  }\r\n  AnnotatedTextEdit2.replace = replace;\r\n  function insert(position, newText, annotation) {\r\n    return { range: { start: position, end: position }, newText, annotationId: annotation };\r\n  }\r\n  AnnotatedTextEdit2.insert = insert;\r\n  function del(range, annotation) {\r\n    return { range, newText: \"\", annotationId: annotation };\r\n  }\r\n  AnnotatedTextEdit2.del = del;\r\n  function is(value) {\r\n    const candidate = value;\r\n    return TextEdit.is(candidate) && (ChangeAnnotation.is(candidate.annotationId) || ChangeAnnotationIdentifier.is(candidate.annotationId));\r\n  }\r\n  AnnotatedTextEdit2.is = is;\r\n})(AnnotatedTextEdit || (AnnotatedTextEdit = {}));\r\nvar TextDocumentEdit;\r\n(function(TextDocumentEdit2) {\r\n  function create(textDocument, edits) {\r\n    return { textDocument, edits };\r\n  }\r\n  TextDocumentEdit2.create = create;\r\n  function is(value) {\r\n    let candidate = value;\r\n    return Is.defined(candidate) && OptionalVersionedTextDocumentIdentifier.is(candidate.textDocument) && Array.isArray(candidate.edits);\r\n  }\r\n  TextDocumentEdit2.is = is;\r\n})(TextDocumentEdit || (TextDocumentEdit = {}));\r\nvar CreateFile;\r\n(function(CreateFile2) {\r\n  function create(uri, options, annotation) {\r\n    let result = {\r\n      kind: \"create\",\r\n      uri\r\n    };\r\n    if (options !== void 0 && (options.overwrite !== void 0 || options.ignoreIfExists !== void 0)) {\r\n      result.options = options;\r\n    }\r\n    if (annotation !== void 0) {\r\n      result.annotationId = annotation;\r\n    }\r\n    return result;\r\n  }\r\n  CreateFile2.create = create;\r\n  function is(value) {\r\n    let candidate = value;\r\n    return candidate && candidate.kind === \"create\" && Is.string(candidate.uri) && (candidate.options === void 0 || (candidate.options.overwrite === void 0 || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === void 0 || Is.boolean(candidate.options.ignoreIfExists))) && (candidate.annotationId === void 0 || ChangeAnnotationIdentifier.is(candidate.annotationId));\r\n  }\r\n  CreateFile2.is = is;\r\n})(CreateFile || (CreateFile = {}));\r\nvar RenameFile;\r\n(function(RenameFile2) {\r\n  function create(oldUri, newUri, options, annotation) {\r\n    let result = {\r\n      kind: \"rename\",\r\n      oldUri,\r\n      newUri\r\n    };\r\n    if (options !== void 0 && (options.overwrite !== void 0 || options.ignoreIfExists !== void 0)) {\r\n      result.options = options;\r\n    }\r\n    if (annotation !== void 0) {\r\n      result.annotationId = annotation;\r\n    }\r\n    return result;\r\n  }\r\n  RenameFile2.create = create;\r\n  function is(value) {\r\n    let candidate = value;\r\n    return candidate && candidate.kind === \"rename\" && Is.string(candidate.oldUri) && Is.string(candidate.newUri) && (candidate.options === void 0 || (candidate.options.overwrite === void 0 || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === void 0 || Is.boolean(candidate.options.ignoreIfExists))) && (candidate.annotationId === void 0 || ChangeAnnotationIdentifier.is(candidate.annotationId));\r\n  }\r\n  RenameFile2.is = is;\r\n})(RenameFile || (RenameFile = {}));\r\nvar DeleteFile;\r\n(function(DeleteFile2) {\r\n  function create(uri, options, annotation) {\r\n    let result = {\r\n      kind: \"delete\",\r\n      uri\r\n    };\r\n    if (options !== void 0 && (options.recursive !== void 0 || options.ignoreIfNotExists !== void 0)) {\r\n      result.options = options;\r\n    }\r\n    if (annotation !== void 0) {\r\n      result.annotationId = annotation;\r\n    }\r\n    return result;\r\n  }\r\n  DeleteFile2.create = create;\r\n  function is(value) {\r\n    let candidate = value;\r\n    return candidate && candidate.kind === \"delete\" && Is.string(candidate.uri) && (candidate.options === void 0 || (candidate.options.recursive === void 0 || Is.boolean(candidate.options.recursive)) && (candidate.options.ignoreIfNotExists === void 0 || Is.boolean(candidate.options.ignoreIfNotExists))) && (candidate.annotationId === void 0 || ChangeAnnotationIdentifier.is(candidate.annotationId));\r\n  }\r\n  DeleteFile2.is = is;\r\n})(DeleteFile || (DeleteFile = {}));\r\nvar WorkspaceEdit;\r\n(function(WorkspaceEdit2) {\r\n  function is(value) {\r\n    let candidate = value;\r\n    return candidate && (candidate.changes !== void 0 || candidate.documentChanges !== void 0) && (candidate.documentChanges === void 0 || candidate.documentChanges.every((change) => {\r\n      if (Is.string(change.kind)) {\r\n        return CreateFile.is(change) || RenameFile.is(change) || DeleteFile.is(change);\r\n      } else {\r\n        return TextDocumentEdit.is(change);\r\n      }\r\n    }));\r\n  }\r\n  WorkspaceEdit2.is = is;\r\n})(WorkspaceEdit || (WorkspaceEdit = {}));\r\nvar TextDocumentIdentifier;\r\n(function(TextDocumentIdentifier2) {\r\n  function create(uri) {\r\n    return { uri };\r\n  }\r\n  TextDocumentIdentifier2.create = create;\r\n  function is(value) {\r\n    let candidate = value;\r\n    return Is.defined(candidate) && Is.string(candidate.uri);\r\n  }\r\n  TextDocumentIdentifier2.is = is;\r\n})(TextDocumentIdentifier || (TextDocumentIdentifier = {}));\r\nvar VersionedTextDocumentIdentifier;\r\n(function(VersionedTextDocumentIdentifier2) {\r\n  function create(uri, version) {\r\n    return { uri, version };\r\n  }\r\n  VersionedTextDocumentIdentifier2.create = create;\r\n  function is(value) {\r\n    let candidate = value;\r\n    return Is.defined(candidate) && Is.string(candidate.uri) && Is.integer(candidate.version);\r\n  }\r\n  VersionedTextDocumentIdentifier2.is = is;\r\n})(VersionedTextDocumentIdentifier || (VersionedTextDocumentIdentifier = {}));\r\nvar OptionalVersionedTextDocumentIdentifier;\r\n(function(OptionalVersionedTextDocumentIdentifier2) {\r\n  function create(uri, version) {\r\n    return { uri, version };\r\n  }\r\n  OptionalVersionedTextDocumentIdentifier2.create = create;\r\n  function is(value) {\r\n    let candidate = value;\r\n    return Is.defined(candidate) && Is.string(candidate.uri) && (candidate.version === null || Is.integer(candidate.version));\r\n  }\r\n  OptionalVersionedTextDocumentIdentifier2.is = is;\r\n})(OptionalVersionedTextDocumentIdentifier || (OptionalVersionedTextDocumentIdentifier = {}));\r\nvar TextDocumentItem;\r\n(function(TextDocumentItem2) {\r\n  function create(uri, languageId, version, text) {\r\n    return { uri, languageId, version, text };\r\n  }\r\n  TextDocumentItem2.create = create;\r\n  function is(value) {\r\n    let candidate = value;\r\n    return Is.defined(candidate) && Is.string(candidate.uri) && Is.string(candidate.languageId) && Is.integer(candidate.version) && Is.string(candidate.text);\r\n  }\r\n  TextDocumentItem2.is = is;\r\n})(TextDocumentItem || (TextDocumentItem = {}));\r\nvar MarkupKind;\r\n(function(MarkupKind2) {\r\n  MarkupKind2.PlainText = \"plaintext\";\r\n  MarkupKind2.Markdown = \"markdown\";\r\n  function is(value) {\r\n    const candidate = value;\r\n    return candidate === MarkupKind2.PlainText || candidate === MarkupKind2.Markdown;\r\n  }\r\n  MarkupKind2.is = is;\r\n})(MarkupKind || (MarkupKind = {}));\r\nvar MarkupContent;\r\n(function(MarkupContent2) {\r\n  function is(value) {\r\n    const candidate = value;\r\n    return Is.objectLiteral(value) && MarkupKind.is(candidate.kind) && Is.string(candidate.value);\r\n  }\r\n  MarkupContent2.is = is;\r\n})(MarkupContent || (MarkupContent = {}));\r\nvar CompletionItemKind;\r\n(function(CompletionItemKind2) {\r\n  CompletionItemKind2.Text = 1;\r\n  CompletionItemKind2.Method = 2;\r\n  CompletionItemKind2.Function = 3;\r\n  CompletionItemKind2.Constructor = 4;\r\n  CompletionItemKind2.Field = 5;\r\n  CompletionItemKind2.Variable = 6;\r\n  CompletionItemKind2.Class = 7;\r\n  CompletionItemKind2.Interface = 8;\r\n  CompletionItemKind2.Module = 9;\r\n  CompletionItemKind2.Property = 10;\r\n  CompletionItemKind2.Unit = 11;\r\n  CompletionItemKind2.Value = 12;\r\n  CompletionItemKind2.Enum = 13;\r\n  CompletionItemKind2.Keyword = 14;\r\n  CompletionItemKind2.Snippet = 15;\r\n  CompletionItemKind2.Color = 16;\r\n  CompletionItemKind2.File = 17;\r\n  CompletionItemKind2.Reference = 18;\r\n  CompletionItemKind2.Folder = 19;\r\n  CompletionItemKind2.EnumMember = 20;\r\n  CompletionItemKind2.Constant = 21;\r\n  CompletionItemKind2.Struct = 22;\r\n  CompletionItemKind2.Event = 23;\r\n  CompletionItemKind2.Operator = 24;\r\n  CompletionItemKind2.TypeParameter = 25;\r\n})(CompletionItemKind || (CompletionItemKind = {}));\r\nvar InsertTextFormat;\r\n(function(InsertTextFormat2) {\r\n  InsertTextFormat2.PlainText = 1;\r\n  InsertTextFormat2.Snippet = 2;\r\n})(InsertTextFormat || (InsertTextFormat = {}));\r\nvar CompletionItemTag;\r\n(function(CompletionItemTag2) {\r\n  CompletionItemTag2.Deprecated = 1;\r\n})(CompletionItemTag || (CompletionItemTag = {}));\r\nvar InsertReplaceEdit;\r\n(function(InsertReplaceEdit2) {\r\n  function create(newText, insert, replace) {\r\n    return { newText, insert, replace };\r\n  }\r\n  InsertReplaceEdit2.create = create;\r\n  function is(value) {\r\n    const candidate = value;\r\n    return candidate && Is.string(candidate.newText) && Range.is(candidate.insert) && Range.is(candidate.replace);\r\n  }\r\n  InsertReplaceEdit2.is = is;\r\n})(InsertReplaceEdit || (InsertReplaceEdit = {}));\r\nvar InsertTextMode;\r\n(function(InsertTextMode2) {\r\n  InsertTextMode2.asIs = 1;\r\n  InsertTextMode2.adjustIndentation = 2;\r\n})(InsertTextMode || (InsertTextMode = {}));\r\nvar CompletionItemLabelDetails;\r\n(function(CompletionItemLabelDetails2) {\r\n  function is(value) {\r\n    const candidate = value;\r\n    return candidate && (Is.string(candidate.detail) || candidate.detail === void 0) && (Is.string(candidate.description) || candidate.description === void 0);\r\n  }\r\n  CompletionItemLabelDetails2.is = is;\r\n})(CompletionItemLabelDetails || (CompletionItemLabelDetails = {}));\r\nvar CompletionItem;\r\n(function(CompletionItem2) {\r\n  function create(label) {\r\n    return { label };\r\n  }\r\n  CompletionItem2.create = create;\r\n})(CompletionItem || (CompletionItem = {}));\r\nvar CompletionList;\r\n(function(CompletionList2) {\r\n  function create(items, isIncomplete) {\r\n    return { items: items ? items : [], isIncomplete: !!isIncomplete };\r\n  }\r\n  CompletionList2.create = create;\r\n})(CompletionList || (CompletionList = {}));\r\nvar MarkedString;\r\n(function(MarkedString2) {\r\n  function fromPlainText(plainText) {\r\n    return plainText.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, \"\\\\$&\");\r\n  }\r\n  MarkedString2.fromPlainText = fromPlainText;\r\n  function is(value) {\r\n    const candidate = value;\r\n    return Is.string(candidate) || Is.objectLiteral(candidate) && Is.string(candidate.language) && Is.string(candidate.value);\r\n  }\r\n  MarkedString2.is = is;\r\n})(MarkedString || (MarkedString = {}));\r\nvar Hover;\r\n(function(Hover2) {\r\n  function is(value) {\r\n    let candidate = value;\r\n    return !!candidate && Is.objectLiteral(candidate) && (MarkupContent.is(candidate.contents) || MarkedString.is(candidate.contents) || Is.typedArray(candidate.contents, MarkedString.is)) && (value.range === void 0 || Range.is(value.range));\r\n  }\r\n  Hover2.is = is;\r\n})(Hover || (Hover = {}));\r\nvar ParameterInformation;\r\n(function(ParameterInformation2) {\r\n  function create(label, documentation) {\r\n    return documentation ? { label, documentation } : { label };\r\n  }\r\n  ParameterInformation2.create = create;\r\n})(ParameterInformation || (ParameterInformation = {}));\r\nvar SignatureInformation;\r\n(function(SignatureInformation2) {\r\n  function create(label, documentation, ...parameters) {\r\n    let result = { label };\r\n    if (Is.defined(documentation)) {\r\n      result.documentation = documentation;\r\n    }\r\n    if (Is.defined(parameters)) {\r\n      result.parameters = parameters;\r\n    } else {\r\n      result.parameters = [];\r\n    }\r\n    return result;\r\n  }\r\n  SignatureInformation2.create = create;\r\n})(SignatureInformation || (SignatureInformation = {}));\r\nvar DocumentHighlightKind;\r\n(function(DocumentHighlightKind2) {\r\n  DocumentHighlightKind2.Text = 1;\r\n  DocumentHighlightKind2.Read = 2;\r\n  DocumentHighlightKind2.Write = 3;\r\n})(DocumentHighlightKind || (DocumentHighlightKind = {}));\r\nvar DocumentHighlight;\r\n(function(DocumentHighlight2) {\r\n  function create(range, kind) {\r\n    let result = { range };\r\n    if (Is.number(kind)) {\r\n      result.kind = kind;\r\n    }\r\n    return result;\r\n  }\r\n  DocumentHighlight2.create = create;\r\n})(DocumentHighlight || (DocumentHighlight = {}));\r\nvar SymbolKind;\r\n(function(SymbolKind2) {\r\n  SymbolKind2.File = 1;\r\n  SymbolKind2.Module = 2;\r\n  SymbolKind2.Namespace = 3;\r\n  SymbolKind2.Package = 4;\r\n  SymbolKind2.Class = 5;\r\n  SymbolKind2.Method = 6;\r\n  SymbolKind2.Property = 7;\r\n  SymbolKind2.Field = 8;\r\n  SymbolKind2.Constructor = 9;\r\n  SymbolKind2.Enum = 10;\r\n  SymbolKind2.Interface = 11;\r\n  SymbolKind2.Function = 12;\r\n  SymbolKind2.Variable = 13;\r\n  SymbolKind2.Constant = 14;\r\n  SymbolKind2.String = 15;\r\n  SymbolKind2.Number = 16;\r\n  SymbolKind2.Boolean = 17;\r\n  SymbolKind2.Array = 18;\r\n  SymbolKind2.Object = 19;\r\n  SymbolKind2.Key = 20;\r\n  SymbolKind2.Null = 21;\r\n  SymbolKind2.EnumMember = 22;\r\n  SymbolKind2.Struct = 23;\r\n  SymbolKind2.Event = 24;\r\n  SymbolKind2.Operator = 25;\r\n  SymbolKind2.TypeParameter = 26;\r\n})(SymbolKind || (SymbolKind = {}));\r\nvar SymbolTag;\r\n(function(SymbolTag2) {\r\n  SymbolTag2.Deprecated = 1;\r\n})(SymbolTag || (SymbolTag = {}));\r\nvar SymbolInformation;\r\n(function(SymbolInformation2) {\r\n  function create(name, kind, range, uri, containerName) {\r\n    let result = {\r\n      name,\r\n      kind,\r\n      location: { uri, range }\r\n    };\r\n    if (containerName) {\r\n      result.containerName = containerName;\r\n    }\r\n    return result;\r\n  }\r\n  SymbolInformation2.create = create;\r\n})(SymbolInformation || (SymbolInformation = {}));\r\nvar WorkspaceSymbol;\r\n(function(WorkspaceSymbol2) {\r\n  function create(name, kind, uri, range) {\r\n    return range !== void 0 ? { name, kind, location: { uri, range } } : { name, kind, location: { uri } };\r\n  }\r\n  WorkspaceSymbol2.create = create;\r\n})(WorkspaceSymbol || (WorkspaceSymbol = {}));\r\nvar DocumentSymbol;\r\n(function(DocumentSymbol2) {\r\n  function create(name, detail, kind, range, selectionRange, children) {\r\n    let result = {\r\n      name,\r\n      detail,\r\n      kind,\r\n      range,\r\n      selectionRange\r\n    };\r\n    if (children !== void 0) {\r\n      result.children = children;\r\n    }\r\n    return result;\r\n  }\r\n  DocumentSymbol2.create = create;\r\n  function is(value) {\r\n    let candidate = value;\r\n    return candidate && Is.string(candidate.name) && Is.number(candidate.kind) && Range.is(candidate.range) && Range.is(candidate.selectionRange) && (candidate.detail === void 0 || Is.string(candidate.detail)) && (candidate.deprecated === void 0 || Is.boolean(candidate.deprecated)) && (candidate.children === void 0 || Array.isArray(candidate.children)) && (candidate.tags === void 0 || Array.isArray(candidate.tags));\r\n  }\r\n  DocumentSymbol2.is = is;\r\n})(DocumentSymbol || (DocumentSymbol = {}));\r\nvar CodeActionKind;\r\n(function(CodeActionKind2) {\r\n  CodeActionKind2.Empty = \"\";\r\n  CodeActionKind2.QuickFix = \"quickfix\";\r\n  CodeActionKind2.Refactor = \"refactor\";\r\n  CodeActionKind2.RefactorExtract = \"refactor.extract\";\r\n  CodeActionKind2.RefactorInline = \"refactor.inline\";\r\n  CodeActionKind2.RefactorRewrite = \"refactor.rewrite\";\r\n  CodeActionKind2.Source = \"source\";\r\n  CodeActionKind2.SourceOrganizeImports = \"source.organizeImports\";\r\n  CodeActionKind2.SourceFixAll = \"source.fixAll\";\r\n})(CodeActionKind || (CodeActionKind = {}));\r\nvar CodeActionTriggerKind;\r\n(function(CodeActionTriggerKind2) {\r\n  CodeActionTriggerKind2.Invoked = 1;\r\n  CodeActionTriggerKind2.Automatic = 2;\r\n})(CodeActionTriggerKind || (CodeActionTriggerKind = {}));\r\nvar CodeActionContext;\r\n(function(CodeActionContext2) {\r\n  function create(diagnostics, only, triggerKind) {\r\n    let result = { diagnostics };\r\n    if (only !== void 0 && only !== null) {\r\n      result.only = only;\r\n    }\r\n    if (triggerKind !== void 0 && triggerKind !== null) {\r\n      result.triggerKind = triggerKind;\r\n    }\r\n    return result;\r\n  }\r\n  CodeActionContext2.create = create;\r\n  function is(value) {\r\n    let candidate = value;\r\n    return Is.defined(candidate) && Is.typedArray(candidate.diagnostics, Diagnostic.is) && (candidate.only === void 0 || Is.typedArray(candidate.only, Is.string)) && (candidate.triggerKind === void 0 || candidate.triggerKind === CodeActionTriggerKind.Invoked || candidate.triggerKind === CodeActionTriggerKind.Automatic);\r\n  }\r\n  CodeActionContext2.is = is;\r\n})(CodeActionContext || (CodeActionContext = {}));\r\nvar CodeAction;\r\n(function(CodeAction2) {\r\n  function create(title, kindOrCommandOrEdit, kind) {\r\n    let result = { title };\r\n    let checkKind = true;\r\n    if (typeof kindOrCommandOrEdit === \"string\") {\r\n      checkKind = false;\r\n      result.kind = kindOrCommandOrEdit;\r\n    } else if (Command.is(kindOrCommandOrEdit)) {\r\n      result.command = kindOrCommandOrEdit;\r\n    } else {\r\n      result.edit = kindOrCommandOrEdit;\r\n    }\r\n    if (checkKind && kind !== void 0) {\r\n      result.kind = kind;\r\n    }\r\n    return result;\r\n  }\r\n  CodeAction2.create = create;\r\n  function is(value) {\r\n    let candidate = value;\r\n    return candidate && Is.string(candidate.title) && (candidate.diagnostics === void 0 || Is.typedArray(candidate.diagnostics, Diagnostic.is)) && (candidate.kind === void 0 || Is.string(candidate.kind)) && (candidate.edit !== void 0 || candidate.command !== void 0) && (candidate.command === void 0 || Command.is(candidate.command)) && (candidate.isPreferred === void 0 || Is.boolean(candidate.isPreferred)) && (candidate.edit === void 0 || WorkspaceEdit.is(candidate.edit));\r\n  }\r\n  CodeAction2.is = is;\r\n})(CodeAction || (CodeAction = {}));\r\nvar CodeLens;\r\n(function(CodeLens2) {\r\n  function create(range, data) {\r\n    let result = { range };\r\n    if (Is.defined(data)) {\r\n      result.data = data;\r\n    }\r\n    return result;\r\n  }\r\n  CodeLens2.create = create;\r\n  function is(value) {\r\n    let candidate = value;\r\n    return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.command) || Command.is(candidate.command));\r\n  }\r\n  CodeLens2.is = is;\r\n})(CodeLens || (CodeLens = {}));\r\nvar FormattingOptions;\r\n(function(FormattingOptions2) {\r\n  function create(tabSize, insertSpaces) {\r\n    return { tabSize, insertSpaces };\r\n  }\r\n  FormattingOptions2.create = create;\r\n  function is(value) {\r\n    let candidate = value;\r\n    return Is.defined(candidate) && Is.uinteger(candidate.tabSize) && Is.boolean(candidate.insertSpaces);\r\n  }\r\n  FormattingOptions2.is = is;\r\n})(FormattingOptions || (FormattingOptions = {}));\r\nvar DocumentLink;\r\n(function(DocumentLink2) {\r\n  function create(range, target, data) {\r\n    return { range, target, data };\r\n  }\r\n  DocumentLink2.create = create;\r\n  function is(value) {\r\n    let candidate = value;\r\n    return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.target) || Is.string(candidate.target));\r\n  }\r\n  DocumentLink2.is = is;\r\n})(DocumentLink || (DocumentLink = {}));\r\nvar SelectionRange;\r\n(function(SelectionRange2) {\r\n  function create(range, parent) {\r\n    return { range, parent };\r\n  }\r\n  SelectionRange2.create = create;\r\n  function is(value) {\r\n    let candidate = value;\r\n    return Is.objectLiteral(candidate) && Range.is(candidate.range) && (candidate.parent === void 0 || SelectionRange2.is(candidate.parent));\r\n  }\r\n  SelectionRange2.is = is;\r\n})(SelectionRange || (SelectionRange = {}));\r\nvar SemanticTokenTypes;\r\n(function(SemanticTokenTypes2) {\r\n  SemanticTokenTypes2[\"namespace\"] = \"namespace\";\r\n  SemanticTokenTypes2[\"type\"] = \"type\";\r\n  SemanticTokenTypes2[\"class\"] = \"class\";\r\n  SemanticTokenTypes2[\"enum\"] = \"enum\";\r\n  SemanticTokenTypes2[\"interface\"] = \"interface\";\r\n  SemanticTokenTypes2[\"struct\"] = \"struct\";\r\n  SemanticTokenTypes2[\"typeParameter\"] = \"typeParameter\";\r\n  SemanticTokenTypes2[\"parameter\"] = \"parameter\";\r\n  SemanticTokenTypes2[\"variable\"] = \"variable\";\r\n  SemanticTokenTypes2[\"property\"] = \"property\";\r\n  SemanticTokenTypes2[\"enumMember\"] = \"enumMember\";\r\n  SemanticTokenTypes2[\"event\"] = \"event\";\r\n  SemanticTokenTypes2[\"function\"] = \"function\";\r\n  SemanticTokenTypes2[\"method\"] = \"method\";\r\n  SemanticTokenTypes2[\"macro\"] = \"macro\";\r\n  SemanticTokenTypes2[\"keyword\"] = \"keyword\";\r\n  SemanticTokenTypes2[\"modifier\"] = \"modifier\";\r\n  SemanticTokenTypes2[\"comment\"] = \"comment\";\r\n  SemanticTokenTypes2[\"string\"] = \"string\";\r\n  SemanticTokenTypes2[\"number\"] = \"number\";\r\n  SemanticTokenTypes2[\"regexp\"] = \"regexp\";\r\n  SemanticTokenTypes2[\"operator\"] = \"operator\";\r\n  SemanticTokenTypes2[\"decorator\"] = \"decorator\";\r\n})(SemanticTokenTypes || (SemanticTokenTypes = {}));\r\nvar SemanticTokenModifiers;\r\n(function(SemanticTokenModifiers2) {\r\n  SemanticTokenModifiers2[\"declaration\"] = \"declaration\";\r\n  SemanticTokenModifiers2[\"definition\"] = \"definition\";\r\n  SemanticTokenModifiers2[\"readonly\"] = \"readonly\";\r\n  SemanticTokenModifiers2[\"static\"] = \"static\";\r\n  SemanticTokenModifiers2[\"deprecated\"] = \"deprecated\";\r\n  SemanticTokenModifiers2[\"abstract\"] = \"abstract\";\r\n  SemanticTokenModifiers2[\"async\"] = \"async\";\r\n  SemanticTokenModifiers2[\"modification\"] = \"modification\";\r\n  SemanticTokenModifiers2[\"documentation\"] = \"documentation\";\r\n  SemanticTokenModifiers2[\"defaultLibrary\"] = \"defaultLibrary\";\r\n})(SemanticTokenModifiers || (SemanticTokenModifiers = {}));\r\nvar SemanticTokens;\r\n(function(SemanticTokens2) {\r\n  function is(value) {\r\n    const candidate = value;\r\n    return Is.objectLiteral(candidate) && (candidate.resultId === void 0 || typeof candidate.resultId === \"string\") && Array.isArray(candidate.data) && (candidate.data.length === 0 || typeof candidate.data[0] === \"number\");\r\n  }\r\n  SemanticTokens2.is = is;\r\n})(SemanticTokens || (SemanticTokens = {}));\r\nvar InlineValueText;\r\n(function(InlineValueText2) {\r\n  function create(range, text) {\r\n    return { range, text };\r\n  }\r\n  InlineValueText2.create = create;\r\n  function is(value) {\r\n    const candidate = value;\r\n    return candidate !== void 0 && candidate !== null && Range.is(candidate.range) && Is.string(candidate.text);\r\n  }\r\n  InlineValueText2.is = is;\r\n})(InlineValueText || (InlineValueText = {}));\r\nvar InlineValueVariableLookup;\r\n(function(InlineValueVariableLookup2) {\r\n  function create(range, variableName, caseSensitiveLookup) {\r\n    return { range, variableName, caseSensitiveLookup };\r\n  }\r\n  InlineValueVariableLookup2.create = create;\r\n  function is(value) {\r\n    const candidate = value;\r\n    return candidate !== void 0 && candidate !== null && Range.is(candidate.range) && Is.boolean(candidate.caseSensitiveLookup) && (Is.string(candidate.variableName) || candidate.variableName === void 0);\r\n  }\r\n  InlineValueVariableLookup2.is = is;\r\n})(InlineValueVariableLookup || (InlineValueVariableLookup = {}));\r\nvar InlineValueEvaluatableExpression;\r\n(function(InlineValueEvaluatableExpression2) {\r\n  function create(range, expression) {\r\n    return { range, expression };\r\n  }\r\n  InlineValueEvaluatableExpression2.create = create;\r\n  function is(value) {\r\n    const candidate = value;\r\n    return candidate !== void 0 && candidate !== null && Range.is(candidate.range) && (Is.string(candidate.expression) || candidate.expression === void 0);\r\n  }\r\n  InlineValueEvaluatableExpression2.is = is;\r\n})(InlineValueEvaluatableExpression || (InlineValueEvaluatableExpression = {}));\r\nvar InlineValueContext;\r\n(function(InlineValueContext2) {\r\n  function create(frameId, stoppedLocation) {\r\n    return { frameId, stoppedLocation };\r\n  }\r\n  InlineValueContext2.create = create;\r\n  function is(value) {\r\n    const candidate = value;\r\n    return Is.defined(candidate) && Range.is(value.stoppedLocation);\r\n  }\r\n  InlineValueContext2.is = is;\r\n})(InlineValueContext || (InlineValueContext = {}));\r\nvar InlayHintKind;\r\n(function(InlayHintKind2) {\r\n  InlayHintKind2.Type = 1;\r\n  InlayHintKind2.Parameter = 2;\r\n  function is(value) {\r\n    return value === 1 || value === 2;\r\n  }\r\n  InlayHintKind2.is = is;\r\n})(InlayHintKind || (InlayHintKind = {}));\r\nvar InlayHintLabelPart;\r\n(function(InlayHintLabelPart2) {\r\n  function create(value) {\r\n    return { value };\r\n  }\r\n  InlayHintLabelPart2.create = create;\r\n  function is(value) {\r\n    const candidate = value;\r\n    return Is.objectLiteral(candidate) && (candidate.tooltip === void 0 || Is.string(candidate.tooltip) || MarkupContent.is(candidate.tooltip)) && (candidate.location === void 0 || Location.is(candidate.location)) && (candidate.command === void 0 || Command.is(candidate.command));\r\n  }\r\n  InlayHintLabelPart2.is = is;\r\n})(InlayHintLabelPart || (InlayHintLabelPart = {}));\r\nvar InlayHint;\r\n(function(InlayHint2) {\r\n  function create(position, label, kind) {\r\n    const result = { position, label };\r\n    if (kind !== void 0) {\r\n      result.kind = kind;\r\n    }\r\n    return result;\r\n  }\r\n  InlayHint2.create = create;\r\n  function is(value) {\r\n    const candidate = value;\r\n    return Is.objectLiteral(candidate) && Position.is(candidate.position) && (Is.string(candidate.label) || Is.typedArray(candidate.label, InlayHintLabelPart.is)) && (candidate.kind === void 0 || InlayHintKind.is(candidate.kind)) && candidate.textEdits === void 0 || Is.typedArray(candidate.textEdits, TextEdit.is) && (candidate.tooltip === void 0 || Is.string(candidate.tooltip) || MarkupContent.is(candidate.tooltip)) && (candidate.paddingLeft === void 0 || Is.boolean(candidate.paddingLeft)) && (candidate.paddingRight === void 0 || Is.boolean(candidate.paddingRight));\r\n  }\r\n  InlayHint2.is = is;\r\n})(InlayHint || (InlayHint = {}));\r\nvar StringValue;\r\n(function(StringValue2) {\r\n  function createSnippet(value) {\r\n    return { kind: \"snippet\", value };\r\n  }\r\n  StringValue2.createSnippet = createSnippet;\r\n})(StringValue || (StringValue = {}));\r\nvar InlineCompletionItem;\r\n(function(InlineCompletionItem2) {\r\n  function create(insertText, filterText, range, command) {\r\n    return { insertText, filterText, range, command };\r\n  }\r\n  InlineCompletionItem2.create = create;\r\n})(InlineCompletionItem || (InlineCompletionItem = {}));\r\nvar InlineCompletionList;\r\n(function(InlineCompletionList2) {\r\n  function create(items) {\r\n    return { items };\r\n  }\r\n  InlineCompletionList2.create = create;\r\n})(InlineCompletionList || (InlineCompletionList = {}));\r\nvar InlineCompletionTriggerKind;\r\n(function(InlineCompletionTriggerKind2) {\r\n  InlineCompletionTriggerKind2.Invoked = 0;\r\n  InlineCompletionTriggerKind2.Automatic = 1;\r\n})(InlineCompletionTriggerKind || (InlineCompletionTriggerKind = {}));\r\nvar SelectedCompletionInfo;\r\n(function(SelectedCompletionInfo2) {\r\n  function create(range, text) {\r\n    return { range, text };\r\n  }\r\n  SelectedCompletionInfo2.create = create;\r\n})(SelectedCompletionInfo || (SelectedCompletionInfo = {}));\r\nvar InlineCompletionContext;\r\n(function(InlineCompletionContext2) {\r\n  function create(triggerKind, selectedCompletionInfo) {\r\n    return { triggerKind, selectedCompletionInfo };\r\n  }\r\n  InlineCompletionContext2.create = create;\r\n})(InlineCompletionContext || (InlineCompletionContext = {}));\r\nvar WorkspaceFolder;\r\n(function(WorkspaceFolder2) {\r\n  function is(value) {\r\n    const candidate = value;\r\n    return Is.objectLiteral(candidate) && URI.is(candidate.uri) && Is.string(candidate.name);\r\n  }\r\n  WorkspaceFolder2.is = is;\r\n})(WorkspaceFolder || (WorkspaceFolder = {}));\r\nvar TextDocument;\r\n(function(TextDocument2) {\r\n  function create(uri, languageId, version, content) {\r\n    return new FullTextDocument(uri, languageId, version, content);\r\n  }\r\n  TextDocument2.create = create;\r\n  function is(value) {\r\n    let candidate = value;\r\n    return Is.defined(candidate) && Is.string(candidate.uri) && (Is.undefined(candidate.languageId) || Is.string(candidate.languageId)) && Is.uinteger(candidate.lineCount) && Is.func(candidate.getText) && Is.func(candidate.positionAt) && Is.func(candidate.offsetAt) ? true : false;\r\n  }\r\n  TextDocument2.is = is;\r\n  function applyEdits(document, edits) {\r\n    let text = document.getText();\r\n    let sortedEdits = mergeSort(edits, (a, b) => {\r\n      let diff = a.range.start.line - b.range.start.line;\r\n      if (diff === 0) {\r\n        return a.range.start.character - b.range.start.character;\r\n      }\r\n      return diff;\r\n    });\r\n    let lastModifiedOffset = text.length;\r\n    for (let i = sortedEdits.length - 1; i >= 0; i--) {\r\n      let e = sortedEdits[i];\r\n      let startOffset = document.offsetAt(e.range.start);\r\n      let endOffset = document.offsetAt(e.range.end);\r\n      if (endOffset <= lastModifiedOffset) {\r\n        text = text.substring(0, startOffset) + e.newText + text.substring(endOffset, text.length);\r\n      } else {\r\n        throw new Error(\"Overlapping edit\");\r\n      }\r\n      lastModifiedOffset = startOffset;\r\n    }\r\n    return text;\r\n  }\r\n  TextDocument2.applyEdits = applyEdits;\r\n  function mergeSort(data, compare) {\r\n    if (data.length <= 1) {\r\n      return data;\r\n    }\r\n    const p = data.length / 2 | 0;\r\n    const left = data.slice(0, p);\r\n    const right = data.slice(p);\r\n    mergeSort(left, compare);\r\n    mergeSort(right, compare);\r\n    let leftIdx = 0;\r\n    let rightIdx = 0;\r\n    let i = 0;\r\n    while (leftIdx < left.length && rightIdx < right.length) {\r\n      let ret = compare(left[leftIdx], right[rightIdx]);\r\n      if (ret <= 0) {\r\n        data[i++] = left[leftIdx++];\r\n      } else {\r\n        data[i++] = right[rightIdx++];\r\n      }\r\n    }\r\n    while (leftIdx < left.length) {\r\n      data[i++] = left[leftIdx++];\r\n    }\r\n    while (rightIdx < right.length) {\r\n      data[i++] = right[rightIdx++];\r\n    }\r\n    return data;\r\n  }\r\n})(TextDocument || (TextDocument = {}));\r\nvar FullTextDocument = class {\r\n  constructor(uri, languageId, version, content) {\r\n    this._uri = uri;\r\n    this._languageId = languageId;\r\n    this._version = version;\r\n    this._content = content;\r\n    this._lineOffsets = void 0;\r\n  }\r\n  get uri() {\r\n    return this._uri;\r\n  }\r\n  get languageId() {\r\n    return this._languageId;\r\n  }\r\n  get version() {\r\n    return this._version;\r\n  }\r\n  getText(range) {\r\n    if (range) {\r\n      let start = this.offsetAt(range.start);\r\n      let end = this.offsetAt(range.end);\r\n      return this._content.substring(start, end);\r\n    }\r\n    return this._content;\r\n  }\r\n  update(event, version) {\r\n    this._content = event.text;\r\n    this._version = version;\r\n    this._lineOffsets = void 0;\r\n  }\r\n  getLineOffsets() {\r\n    if (this._lineOffsets === void 0) {\r\n      let lineOffsets = [];\r\n      let text = this._content;\r\n      let isLineStart = true;\r\n      for (let i = 0; i < text.length; i++) {\r\n        if (isLineStart) {\r\n          lineOffsets.push(i);\r\n          isLineStart = false;\r\n        }\r\n        let ch = text.charAt(i);\r\n        isLineStart = ch === \"\\r\" || ch === \"\\n\";\r\n        if (ch === \"\\r\" && i + 1 < text.length && text.charAt(i + 1) === \"\\n\") {\r\n          i++;\r\n        }\r\n      }\r\n      if (isLineStart && text.length > 0) {\r\n        lineOffsets.push(text.length);\r\n      }\r\n      this._lineOffsets = lineOffsets;\r\n    }\r\n    return this._lineOffsets;\r\n  }\r\n  positionAt(offset) {\r\n    offset = Math.max(Math.min(offset, this._content.length), 0);\r\n    let lineOffsets = this.getLineOffsets();\r\n    let low = 0, high = lineOffsets.length;\r\n    if (high === 0) {\r\n      return Position.create(0, offset);\r\n    }\r\n    while (low < high) {\r\n      let mid = Math.floor((low + high) / 2);\r\n      if (lineOffsets[mid] > offset) {\r\n        high = mid;\r\n      } else {\r\n        low = mid + 1;\r\n      }\r\n    }\r\n    let line = low - 1;\r\n    return Position.create(line, offset - lineOffsets[line]);\r\n  }\r\n  offsetAt(position) {\r\n    let lineOffsets = this.getLineOffsets();\r\n    if (position.line >= lineOffsets.length) {\r\n      return this._content.length;\r\n    } else if (position.line < 0) {\r\n      return 0;\r\n    }\r\n    let lineOffset = lineOffsets[position.line];\r\n    let nextLineOffset = position.line + 1 < lineOffsets.length ? lineOffsets[position.line + 1] : this._content.length;\r\n    return Math.max(Math.min(lineOffset + position.character, nextLineOffset), lineOffset);\r\n  }\r\n  get lineCount() {\r\n    return this.getLineOffsets().length;\r\n  }\r\n};\r\nvar Is;\r\n(function(Is2) {\r\n  const toString = Object.prototype.toString;\r\n  function defined(value) {\r\n    return typeof value !== \"undefined\";\r\n  }\r\n  Is2.defined = defined;\r\n  function undefined2(value) {\r\n    return typeof value === \"undefined\";\r\n  }\r\n  Is2.undefined = undefined2;\r\n  function boolean(value) {\r\n    return value === true || value === false;\r\n  }\r\n  Is2.boolean = boolean;\r\n  function string(value) {\r\n    return toString.call(value) === \"[object String]\";\r\n  }\r\n  Is2.string = string;\r\n  function number(value) {\r\n    return toString.call(value) === \"[object Number]\";\r\n  }\r\n  Is2.number = number;\r\n  function numberRange(value, min, max) {\r\n    return toString.call(value) === \"[object Number]\" && min <= value && value <= max;\r\n  }\r\n  Is2.numberRange = numberRange;\r\n  function integer2(value) {\r\n    return toString.call(value) === \"[object Number]\" && -2147483648 <= value && value <= 2147483647;\r\n  }\r\n  Is2.integer = integer2;\r\n  function uinteger2(value) {\r\n    return toString.call(value) === \"[object Number]\" && 0 <= value && value <= 2147483647;\r\n  }\r\n  Is2.uinteger = uinteger2;\r\n  function func(value) {\r\n    return toString.call(value) === \"[object Function]\";\r\n  }\r\n  Is2.func = func;\r\n  function objectLiteral(value) {\r\n    return value !== null && typeof value === \"object\";\r\n  }\r\n  Is2.objectLiteral = objectLiteral;\r\n  function typedArray(value, check) {\r\n    return Array.isArray(value) && value.every(check);\r\n  }\r\n  Is2.typedArray = typedArray;\r\n})(Is || (Is = {}));\r\n\r\n// src/language/common/lspLanguageFeatures.ts\r\nvar DiagnosticsAdapter = class {\r\n  constructor(_languageId, _worker, configChangeEvent) {\r\n    this._languageId = _languageId;\r\n    this._worker = _worker;\r\n    this._disposables = [];\r\n    this._listener = /* @__PURE__ */ Object.create(null);\r\n    const onModelAdd = (model) => {\r\n      let modeId = model.getLanguageId();\r\n      if (modeId !== this._languageId) {\r\n        return;\r\n      }\r\n      let handle;\r\n      this._listener[model.uri.toString()] = model.onDidChangeContent(() => {\r\n        window.clearTimeout(handle);\r\n        handle = window.setTimeout(() => this._doValidate(model.uri, modeId), 500);\r\n      });\r\n      this._doValidate(model.uri, modeId);\r\n    };\r\n    const onModelRemoved = (model) => {\r\n      monaco_editor_core_exports.editor.setModelMarkers(model, this._languageId, []);\r\n      let uriStr = model.uri.toString();\r\n      let listener = this._listener[uriStr];\r\n      if (listener) {\r\n        listener.dispose();\r\n        delete this._listener[uriStr];\r\n      }\r\n    };\r\n    this._disposables.push(monaco_editor_core_exports.editor.onDidCreateModel(onModelAdd));\r\n    this._disposables.push(monaco_editor_core_exports.editor.onWillDisposeModel(onModelRemoved));\r\n    this._disposables.push(\r\n      monaco_editor_core_exports.editor.onDidChangeModelLanguage((event) => {\r\n        onModelRemoved(event.model);\r\n        onModelAdd(event.model);\r\n      })\r\n    );\r\n    this._disposables.push(\r\n      configChangeEvent((_) => {\r\n        monaco_editor_core_exports.editor.getModels().forEach((model) => {\r\n          if (model.getLanguageId() === this._languageId) {\r\n            onModelRemoved(model);\r\n            onModelAdd(model);\r\n          }\r\n        });\r\n      })\r\n    );\r\n    this._disposables.push({\r\n      dispose: () => {\r\n        monaco_editor_core_exports.editor.getModels().forEach(onModelRemoved);\r\n        for (let key in this._listener) {\r\n          this._listener[key].dispose();\r\n        }\r\n      }\r\n    });\r\n    monaco_editor_core_exports.editor.getModels().forEach(onModelAdd);\r\n  }\r\n  dispose() {\r\n    this._disposables.forEach((d) => d && d.dispose());\r\n    this._disposables.length = 0;\r\n  }\r\n  _doValidate(resource, languageId) {\r\n    this._worker(resource).then((worker2) => {\r\n      return worker2.doValidation(resource.toString());\r\n    }).then((diagnostics) => {\r\n      const markers = diagnostics.map((d) => toDiagnostics(resource, d));\r\n      let model = monaco_editor_core_exports.editor.getModel(resource);\r\n      if (model && model.getLanguageId() === languageId) {\r\n        monaco_editor_core_exports.editor.setModelMarkers(model, languageId, markers);\r\n      }\r\n    }).then(void 0, (err) => {\r\n      console.error(err);\r\n    });\r\n  }\r\n};\r\nfunction toSeverity(lsSeverity) {\r\n  switch (lsSeverity) {\r\n    case DiagnosticSeverity.Error:\r\n      return monaco_editor_core_exports.MarkerSeverity.Error;\r\n    case DiagnosticSeverity.Warning:\r\n      return monaco_editor_core_exports.MarkerSeverity.Warning;\r\n    case DiagnosticSeverity.Information:\r\n      return monaco_editor_core_exports.MarkerSeverity.Info;\r\n    case DiagnosticSeverity.Hint:\r\n      return monaco_editor_core_exports.MarkerSeverity.Hint;\r\n    default:\r\n      return monaco_editor_core_exports.MarkerSeverity.Info;\r\n  }\r\n}\r\nfunction toDiagnostics(resource, diag) {\r\n  let code = typeof diag.code === \"number\" ? String(diag.code) : diag.code;\r\n  return {\r\n    severity: toSeverity(diag.severity),\r\n    startLineNumber: diag.range.start.line + 1,\r\n    startColumn: diag.range.start.character + 1,\r\n    endLineNumber: diag.range.end.line + 1,\r\n    endColumn: diag.range.end.character + 1,\r\n    message: diag.message,\r\n    code,\r\n    source: diag.source\r\n  };\r\n}\r\nvar CompletionAdapter = class {\r\n  constructor(_worker, _triggerCharacters) {\r\n    this._worker = _worker;\r\n    this._triggerCharacters = _triggerCharacters;\r\n  }\r\n  get triggerCharacters() {\r\n    return this._triggerCharacters;\r\n  }\r\n  provideCompletionItems(model, position, context, token) {\r\n    const resource = model.uri;\r\n    return this._worker(resource).then((worker2) => {\r\n      return worker2.doComplete(resource.toString(), fromPosition(position));\r\n    }).then((info) => {\r\n      if (!info) {\r\n        return;\r\n      }\r\n      const wordInfo = model.getWordUntilPosition(position);\r\n      const wordRange = new monaco_editor_core_exports.Range(\r\n        position.lineNumber,\r\n        wordInfo.startColumn,\r\n        position.lineNumber,\r\n        wordInfo.endColumn\r\n      );\r\n      const items = info.items.map((entry) => {\r\n        const item = {\r\n          label: entry.label,\r\n          insertText: entry.insertText || entry.label,\r\n          sortText: entry.sortText,\r\n          filterText: entry.filterText,\r\n          documentation: entry.documentation,\r\n          detail: entry.detail,\r\n          command: toCommand(entry.command),\r\n          range: wordRange,\r\n          kind: toCompletionItemKind(entry.kind)\r\n        };\r\n        if (entry.textEdit) {\r\n          if (isInsertReplaceEdit(entry.textEdit)) {\r\n            item.range = {\r\n              insert: toRange(entry.textEdit.insert),\r\n              replace: toRange(entry.textEdit.replace)\r\n            };\r\n          } else {\r\n            item.range = toRange(entry.textEdit.range);\r\n          }\r\n          item.insertText = entry.textEdit.newText;\r\n        }\r\n        if (entry.additionalTextEdits) {\r\n          item.additionalTextEdits = entry.additionalTextEdits.map(toTextEdit);\r\n        }\r\n        if (entry.insertTextFormat === InsertTextFormat.Snippet) {\r\n          item.insertTextRules = monaco_editor_core_exports.languages.CompletionItemInsertTextRule.InsertAsSnippet;\r\n        }\r\n        return item;\r\n      });\r\n      return {\r\n        isIncomplete: info.isIncomplete,\r\n        suggestions: items\r\n      };\r\n    });\r\n  }\r\n};\r\nfunction fromPosition(position) {\r\n  if (!position) {\r\n    return void 0;\r\n  }\r\n  return { character: position.column - 1, line: position.lineNumber - 1 };\r\n}\r\nfunction fromRange(range) {\r\n  if (!range) {\r\n    return void 0;\r\n  }\r\n  return {\r\n    start: {\r\n      line: range.startLineNumber - 1,\r\n      character: range.startColumn - 1\r\n    },\r\n    end: { line: range.endLineNumber - 1, character: range.endColumn - 1 }\r\n  };\r\n}\r\nfunction toRange(range) {\r\n  if (!range) {\r\n    return void 0;\r\n  }\r\n  return new monaco_editor_core_exports.Range(\r\n    range.start.line + 1,\r\n    range.start.character + 1,\r\n    range.end.line + 1,\r\n    range.end.character + 1\r\n  );\r\n}\r\nfunction isInsertReplaceEdit(edit) {\r\n  return typeof edit.insert !== \"undefined\" && typeof edit.replace !== \"undefined\";\r\n}\r\nfunction toCompletionItemKind(kind) {\r\n  const mItemKind = monaco_editor_core_exports.languages.CompletionItemKind;\r\n  switch (kind) {\r\n    case CompletionItemKind.Text:\r\n      return mItemKind.Text;\r\n    case CompletionItemKind.Method:\r\n      return mItemKind.Method;\r\n    case CompletionItemKind.Function:\r\n      return mItemKind.Function;\r\n    case CompletionItemKind.Constructor:\r\n      return mItemKind.Constructor;\r\n    case CompletionItemKind.Field:\r\n      return mItemKind.Field;\r\n    case CompletionItemKind.Variable:\r\n      return mItemKind.Variable;\r\n    case CompletionItemKind.Class:\r\n      return mItemKind.Class;\r\n    case CompletionItemKind.Interface:\r\n      return mItemKind.Interface;\r\n    case CompletionItemKind.Module:\r\n      return mItemKind.Module;\r\n    case CompletionItemKind.Property:\r\n      return mItemKind.Property;\r\n    case CompletionItemKind.Unit:\r\n      return mItemKind.Unit;\r\n    case CompletionItemKind.Value:\r\n      return mItemKind.Value;\r\n    case CompletionItemKind.Enum:\r\n      return mItemKind.Enum;\r\n    case CompletionItemKind.Keyword:\r\n      return mItemKind.Keyword;\r\n    case CompletionItemKind.Snippet:\r\n      return mItemKind.Snippet;\r\n    case CompletionItemKind.Color:\r\n      return mItemKind.Color;\r\n    case CompletionItemKind.File:\r\n      return mItemKind.File;\r\n    case CompletionItemKind.Reference:\r\n      return mItemKind.Reference;\r\n  }\r\n  return mItemKind.Property;\r\n}\r\nfunction toTextEdit(textEdit) {\r\n  if (!textEdit) {\r\n    return void 0;\r\n  }\r\n  return {\r\n    range: toRange(textEdit.range),\r\n    text: textEdit.newText\r\n  };\r\n}\r\nfunction toCommand(c) {\r\n  return c && c.command === \"editor.action.triggerSuggest\" ? { id: c.command, title: c.title, arguments: c.arguments } : void 0;\r\n}\r\nvar HoverAdapter = class {\r\n  constructor(_worker) {\r\n    this._worker = _worker;\r\n  }\r\n  provideHover(model, position, token) {\r\n    let resource = model.uri;\r\n    return this._worker(resource).then((worker2) => {\r\n      return worker2.doHover(resource.toString(), fromPosition(position));\r\n    }).then((info) => {\r\n      if (!info) {\r\n        return;\r\n      }\r\n      return {\r\n        range: toRange(info.range),\r\n        contents: toMarkedStringArray(info.contents)\r\n      };\r\n    });\r\n  }\r\n};\r\nfunction isMarkupContent(thing) {\r\n  return thing && typeof thing === \"object\" && typeof thing.kind === \"string\";\r\n}\r\nfunction toMarkdownString(entry) {\r\n  if (typeof entry === \"string\") {\r\n    return {\r\n      value: entry\r\n    };\r\n  }\r\n  if (isMarkupContent(entry)) {\r\n    if (entry.kind === \"plaintext\") {\r\n      return {\r\n        value: entry.value.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, \"\\\\$&\")\r\n      };\r\n    }\r\n    return {\r\n      value: entry.value\r\n    };\r\n  }\r\n  return { value: \"```\" + entry.language + \"\\n\" + entry.value + \"\\n```\\n\" };\r\n}\r\nfunction toMarkedStringArray(contents) {\r\n  if (!contents) {\r\n    return void 0;\r\n  }\r\n  if (Array.isArray(contents)) {\r\n    return contents.map(toMarkdownString);\r\n  }\r\n  return [toMarkdownString(contents)];\r\n}\r\nvar DocumentHighlightAdapter = class {\r\n  constructor(_worker) {\r\n    this._worker = _worker;\r\n  }\r\n  provideDocumentHighlights(model, position, token) {\r\n    const resource = model.uri;\r\n    return this._worker(resource).then((worker2) => worker2.findDocumentHighlights(resource.toString(), fromPosition(position))).then((entries) => {\r\n      if (!entries) {\r\n        return;\r\n      }\r\n      return entries.map((entry) => {\r\n        return {\r\n          range: toRange(entry.range),\r\n          kind: toDocumentHighlightKind(entry.kind)\r\n        };\r\n      });\r\n    });\r\n  }\r\n};\r\nfunction toDocumentHighlightKind(kind) {\r\n  switch (kind) {\r\n    case DocumentHighlightKind.Read:\r\n      return monaco_editor_core_exports.languages.DocumentHighlightKind.Read;\r\n    case DocumentHighlightKind.Write:\r\n      return monaco_editor_core_exports.languages.DocumentHighlightKind.Write;\r\n    case DocumentHighlightKind.Text:\r\n      return monaco_editor_core_exports.languages.DocumentHighlightKind.Text;\r\n  }\r\n  return monaco_editor_core_exports.languages.DocumentHighlightKind.Text;\r\n}\r\nvar DefinitionAdapter = class {\r\n  constructor(_worker) {\r\n    this._worker = _worker;\r\n  }\r\n  provideDefinition(model, position, token) {\r\n    const resource = model.uri;\r\n    return this._worker(resource).then((worker2) => {\r\n      return worker2.findDefinition(resource.toString(), fromPosition(position));\r\n    }).then((definition) => {\r\n      if (!definition) {\r\n        return;\r\n      }\r\n      return [toLocation(definition)];\r\n    });\r\n  }\r\n};\r\nfunction toLocation(location) {\r\n  return {\r\n    uri: monaco_editor_core_exports.Uri.parse(location.uri),\r\n    range: toRange(location.range)\r\n  };\r\n}\r\nvar ReferenceAdapter = class {\r\n  constructor(_worker) {\r\n    this._worker = _worker;\r\n  }\r\n  provideReferences(model, position, context, token) {\r\n    const resource = model.uri;\r\n    return this._worker(resource).then((worker2) => {\r\n      return worker2.findReferences(resource.toString(), fromPosition(position));\r\n    }).then((entries) => {\r\n      if (!entries) {\r\n        return;\r\n      }\r\n      return entries.map(toLocation);\r\n    });\r\n  }\r\n};\r\nvar RenameAdapter = class {\r\n  constructor(_worker) {\r\n    this._worker = _worker;\r\n  }\r\n  provideRenameEdits(model, position, newName, token) {\r\n    const resource = model.uri;\r\n    return this._worker(resource).then((worker2) => {\r\n      return worker2.doRename(resource.toString(), fromPosition(position), newName);\r\n    }).then((edit) => {\r\n      return toWorkspaceEdit(edit);\r\n    });\r\n  }\r\n};\r\nfunction toWorkspaceEdit(edit) {\r\n  if (!edit || !edit.changes) {\r\n    return void 0;\r\n  }\r\n  let resourceEdits = [];\r\n  for (let uri in edit.changes) {\r\n    const _uri = monaco_editor_core_exports.Uri.parse(uri);\r\n    for (let e of edit.changes[uri]) {\r\n      resourceEdits.push({\r\n        resource: _uri,\r\n        versionId: void 0,\r\n        textEdit: {\r\n          range: toRange(e.range),\r\n          text: e.newText\r\n        }\r\n      });\r\n    }\r\n  }\r\n  return {\r\n    edits: resourceEdits\r\n  };\r\n}\r\nvar DocumentSymbolAdapter = class {\r\n  constructor(_worker) {\r\n    this._worker = _worker;\r\n  }\r\n  provideDocumentSymbols(model, token) {\r\n    const resource = model.uri;\r\n    return this._worker(resource).then((worker2) => worker2.findDocumentSymbols(resource.toString())).then((items) => {\r\n      if (!items) {\r\n        return;\r\n      }\r\n      return items.map((item) => {\r\n        if (isDocumentSymbol(item)) {\r\n          return toDocumentSymbol(item);\r\n        }\r\n        return {\r\n          name: item.name,\r\n          detail: \"\",\r\n          containerName: item.containerName,\r\n          kind: toSymbolKind(item.kind),\r\n          range: toRange(item.location.range),\r\n          selectionRange: toRange(item.location.range),\r\n          tags: []\r\n        };\r\n      });\r\n    });\r\n  }\r\n};\r\nfunction isDocumentSymbol(symbol) {\r\n  return \"children\" in symbol;\r\n}\r\nfunction toDocumentSymbol(symbol) {\r\n  return {\r\n    name: symbol.name,\r\n    detail: symbol.detail ?? \"\",\r\n    kind: toSymbolKind(symbol.kind),\r\n    range: toRange(symbol.range),\r\n    selectionRange: toRange(symbol.selectionRange),\r\n    tags: symbol.tags ?? [],\r\n    children: (symbol.children ?? []).map((item) => toDocumentSymbol(item))\r\n  };\r\n}\r\nfunction toSymbolKind(kind) {\r\n  let mKind = monaco_editor_core_exports.languages.SymbolKind;\r\n  switch (kind) {\r\n    case SymbolKind.File:\r\n      return mKind.File;\r\n    case SymbolKind.Module:\r\n      return mKind.Module;\r\n    case SymbolKind.Namespace:\r\n      return mKind.Namespace;\r\n    case SymbolKind.Package:\r\n      return mKind.Package;\r\n    case SymbolKind.Class:\r\n      return mKind.Class;\r\n    case SymbolKind.Method:\r\n      return mKind.Method;\r\n    case SymbolKind.Property:\r\n      return mKind.Property;\r\n    case SymbolKind.Field:\r\n      return mKind.Field;\r\n    case SymbolKind.Constructor:\r\n      return mKind.Constructor;\r\n    case SymbolKind.Enum:\r\n      return mKind.Enum;\r\n    case SymbolKind.Interface:\r\n      return mKind.Interface;\r\n    case SymbolKind.Function:\r\n      return mKind.Function;\r\n    case SymbolKind.Variable:\r\n      return mKind.Variable;\r\n    case SymbolKind.Constant:\r\n      return mKind.Constant;\r\n    case SymbolKind.String:\r\n      return mKind.String;\r\n    case SymbolKind.Number:\r\n      return mKind.Number;\r\n    case SymbolKind.Boolean:\r\n      return mKind.Boolean;\r\n    case SymbolKind.Array:\r\n      return mKind.Array;\r\n  }\r\n  return mKind.Function;\r\n}\r\nvar DocumentLinkAdapter = class {\r\n  constructor(_worker) {\r\n    this._worker = _worker;\r\n  }\r\n  provideLinks(model, token) {\r\n    const resource = model.uri;\r\n    return this._worker(resource).then((worker2) => worker2.findDocumentLinks(resource.toString())).then((items) => {\r\n      if (!items) {\r\n        return;\r\n      }\r\n      return {\r\n        links: items.map((item) => ({\r\n          range: toRange(item.range),\r\n          url: item.target\r\n        }))\r\n      };\r\n    });\r\n  }\r\n};\r\nvar DocumentFormattingEditProvider = class {\r\n  constructor(_worker) {\r\n    this._worker = _worker;\r\n  }\r\n  provideDocumentFormattingEdits(model, options, token) {\r\n    const resource = model.uri;\r\n    return this._worker(resource).then((worker2) => {\r\n      return worker2.format(resource.toString(), null, fromFormattingOptions(options)).then((edits) => {\r\n        if (!edits || edits.length === 0) {\r\n          return;\r\n        }\r\n        return edits.map(toTextEdit);\r\n      });\r\n    });\r\n  }\r\n};\r\nvar DocumentRangeFormattingEditProvider = class {\r\n  constructor(_worker) {\r\n    this._worker = _worker;\r\n    this.canFormatMultipleRanges = false;\r\n  }\r\n  provideDocumentRangeFormattingEdits(model, range, options, token) {\r\n    const resource = model.uri;\r\n    return this._worker(resource).then((worker2) => {\r\n      return worker2.format(resource.toString(), fromRange(range), fromFormattingOptions(options)).then((edits) => {\r\n        if (!edits || edits.length === 0) {\r\n          return;\r\n        }\r\n        return edits.map(toTextEdit);\r\n      });\r\n    });\r\n  }\r\n};\r\nfunction fromFormattingOptions(options) {\r\n  return {\r\n    tabSize: options.tabSize,\r\n    insertSpaces: options.insertSpaces\r\n  };\r\n}\r\nvar DocumentColorAdapter = class {\r\n  constructor(_worker) {\r\n    this._worker = _worker;\r\n  }\r\n  provideDocumentColors(model, token) {\r\n    const resource = model.uri;\r\n    return this._worker(resource).then((worker2) => worker2.findDocumentColors(resource.toString())).then((infos) => {\r\n      if (!infos) {\r\n        return;\r\n      }\r\n      return infos.map((item) => ({\r\n        color: item.color,\r\n        range: toRange(item.range)\r\n      }));\r\n    });\r\n  }\r\n  provideColorPresentations(model, info, token) {\r\n    const resource = model.uri;\r\n    return this._worker(resource).then(\r\n      (worker2) => worker2.getColorPresentations(resource.toString(), info.color, fromRange(info.range))\r\n    ).then((presentations) => {\r\n      if (!presentations) {\r\n        return;\r\n      }\r\n      return presentations.map((presentation) => {\r\n        let item = {\r\n          label: presentation.label\r\n        };\r\n        if (presentation.textEdit) {\r\n          item.textEdit = toTextEdit(presentation.textEdit);\r\n        }\r\n        if (presentation.additionalTextEdits) {\r\n          item.additionalTextEdits = presentation.additionalTextEdits.map(toTextEdit);\r\n        }\r\n        return item;\r\n      });\r\n    });\r\n  }\r\n};\r\nvar FoldingRangeAdapter = class {\r\n  constructor(_worker) {\r\n    this._worker = _worker;\r\n  }\r\n  provideFoldingRanges(model, context, token) {\r\n    const resource = model.uri;\r\n    return this._worker(resource).then((worker2) => worker2.getFoldingRanges(resource.toString(), context)).then((ranges) => {\r\n      if (!ranges) {\r\n        return;\r\n      }\r\n      return ranges.map((range) => {\r\n        const result = {\r\n          start: range.startLine + 1,\r\n          end: range.endLine + 1\r\n        };\r\n        if (typeof range.kind !== \"undefined\") {\r\n          result.kind = toFoldingRangeKind(range.kind);\r\n        }\r\n        return result;\r\n      });\r\n    });\r\n  }\r\n};\r\nfunction toFoldingRangeKind(kind) {\r\n  switch (kind) {\r\n    case FoldingRangeKind.Comment:\r\n      return monaco_editor_core_exports.languages.FoldingRangeKind.Comment;\r\n    case FoldingRangeKind.Imports:\r\n      return monaco_editor_core_exports.languages.FoldingRangeKind.Imports;\r\n    case FoldingRangeKind.Region:\r\n      return monaco_editor_core_exports.languages.FoldingRangeKind.Region;\r\n  }\r\n  return void 0;\r\n}\r\nvar SelectionRangeAdapter = class {\r\n  constructor(_worker) {\r\n    this._worker = _worker;\r\n  }\r\n  provideSelectionRanges(model, positions, token) {\r\n    const resource = model.uri;\r\n    return this._worker(resource).then(\r\n      (worker2) => worker2.getSelectionRanges(\r\n        resource.toString(),\r\n        positions.map(fromPosition)\r\n      )\r\n    ).then((selectionRanges) => {\r\n      if (!selectionRanges) {\r\n        return;\r\n      }\r\n      return selectionRanges.map((selectionRange) => {\r\n        const result = [];\r\n        while (selectionRange) {\r\n          result.push({ range: toRange(selectionRange.range) });\r\n          selectionRange = selectionRange.parent;\r\n        }\r\n        return result;\r\n      });\r\n    });\r\n  }\r\n};\r\n\r\n// node_modules/jsonc-parser/lib/esm/impl/scanner.js\r\nfunction createScanner(text, ignoreTrivia = false) {\r\n  const len = text.length;\r\n  let pos = 0, value = \"\", tokenOffset = 0, token = 16, lineNumber = 0, lineStartOffset = 0, tokenLineStartOffset = 0, prevTokenLineStartOffset = 0, scanError = 0;\r\n  function scanHexDigits(count, exact) {\r\n    let digits = 0;\r\n    let value2 = 0;\r\n    while (digits < count || !exact) {\r\n      let ch = text.charCodeAt(pos);\r\n      if (ch >= 48 && ch <= 57) {\r\n        value2 = value2 * 16 + ch - 48;\r\n      } else if (ch >= 65 && ch <= 70) {\r\n        value2 = value2 * 16 + ch - 65 + 10;\r\n      } else if (ch >= 97 && ch <= 102) {\r\n        value2 = value2 * 16 + ch - 97 + 10;\r\n      } else {\r\n        break;\r\n      }\r\n      pos++;\r\n      digits++;\r\n    }\r\n    if (digits < count) {\r\n      value2 = -1;\r\n    }\r\n    return value2;\r\n  }\r\n  function setPosition(newPosition) {\r\n    pos = newPosition;\r\n    value = \"\";\r\n    tokenOffset = 0;\r\n    token = 16;\r\n    scanError = 0;\r\n  }\r\n  function scanNumber() {\r\n    let start = pos;\r\n    if (text.charCodeAt(pos) === 48) {\r\n      pos++;\r\n    } else {\r\n      pos++;\r\n      while (pos < text.length && isDigit(text.charCodeAt(pos))) {\r\n        pos++;\r\n      }\r\n    }\r\n    if (pos < text.length && text.charCodeAt(pos) === 46) {\r\n      pos++;\r\n      if (pos < text.length && isDigit(text.charCodeAt(pos))) {\r\n        pos++;\r\n        while (pos < text.length && isDigit(text.charCodeAt(pos))) {\r\n          pos++;\r\n        }\r\n      } else {\r\n        scanError = 3;\r\n        return text.substring(start, pos);\r\n      }\r\n    }\r\n    let end = pos;\r\n    if (pos < text.length && (text.charCodeAt(pos) === 69 || text.charCodeAt(pos) === 101)) {\r\n      pos++;\r\n      if (pos < text.length && text.charCodeAt(pos) === 43 || text.charCodeAt(pos) === 45) {\r\n        pos++;\r\n      }\r\n      if (pos < text.length && isDigit(text.charCodeAt(pos))) {\r\n        pos++;\r\n        while (pos < text.length && isDigit(text.charCodeAt(pos))) {\r\n          pos++;\r\n        }\r\n        end = pos;\r\n      } else {\r\n        scanError = 3;\r\n      }\r\n    }\r\n    return text.substring(start, end);\r\n  }\r\n  function scanString() {\r\n    let result = \"\", start = pos;\r\n    while (true) {\r\n      if (pos >= len) {\r\n        result += text.substring(start, pos);\r\n        scanError = 2;\r\n        break;\r\n      }\r\n      const ch = text.charCodeAt(pos);\r\n      if (ch === 34) {\r\n        result += text.substring(start, pos);\r\n        pos++;\r\n        break;\r\n      }\r\n      if (ch === 92) {\r\n        result += text.substring(start, pos);\r\n        pos++;\r\n        if (pos >= len) {\r\n          scanError = 2;\r\n          break;\r\n        }\r\n        const ch2 = text.charCodeAt(pos++);\r\n        switch (ch2) {\r\n          case 34:\r\n            result += '\"';\r\n            break;\r\n          case 92:\r\n            result += \"\\\\\";\r\n            break;\r\n          case 47:\r\n            result += \"/\";\r\n            break;\r\n          case 98:\r\n            result += \"\\b\";\r\n            break;\r\n          case 102:\r\n            result += \"\\f\";\r\n            break;\r\n          case 110:\r\n            result += \"\\n\";\r\n            break;\r\n          case 114:\r\n            result += \"\\r\";\r\n            break;\r\n          case 116:\r\n            result += \"\t\";\r\n            break;\r\n          case 117:\r\n            const ch3 = scanHexDigits(4, true);\r\n            if (ch3 >= 0) {\r\n              result += String.fromCharCode(ch3);\r\n            } else {\r\n              scanError = 4;\r\n            }\r\n            break;\r\n          default:\r\n            scanError = 5;\r\n        }\r\n        start = pos;\r\n        continue;\r\n      }\r\n      if (ch >= 0 && ch <= 31) {\r\n        if (isLineBreak(ch)) {\r\n          result += text.substring(start, pos);\r\n          scanError = 2;\r\n          break;\r\n        } else {\r\n          scanError = 6;\r\n        }\r\n      }\r\n      pos++;\r\n    }\r\n    return result;\r\n  }\r\n  function scanNext() {\r\n    value = \"\";\r\n    scanError = 0;\r\n    tokenOffset = pos;\r\n    lineStartOffset = lineNumber;\r\n    prevTokenLineStartOffset = tokenLineStartOffset;\r\n    if (pos >= len) {\r\n      tokenOffset = len;\r\n      return token = 17;\r\n    }\r\n    let code = text.charCodeAt(pos);\r\n    if (isWhiteSpace(code)) {\r\n      do {\r\n        pos++;\r\n        value += String.fromCharCode(code);\r\n        code = text.charCodeAt(pos);\r\n      } while (isWhiteSpace(code));\r\n      return token = 15;\r\n    }\r\n    if (isLineBreak(code)) {\r\n      pos++;\r\n      value += String.fromCharCode(code);\r\n      if (code === 13 && text.charCodeAt(pos) === 10) {\r\n        pos++;\r\n        value += \"\\n\";\r\n      }\r\n      lineNumber++;\r\n      tokenLineStartOffset = pos;\r\n      return token = 14;\r\n    }\r\n    switch (code) {\r\n      case 123:\r\n        pos++;\r\n        return token = 1;\r\n      case 125:\r\n        pos++;\r\n        return token = 2;\r\n      case 91:\r\n        pos++;\r\n        return token = 3;\r\n      case 93:\r\n        pos++;\r\n        return token = 4;\r\n      case 58:\r\n        pos++;\r\n        return token = 6;\r\n      case 44:\r\n        pos++;\r\n        return token = 5;\r\n      case 34:\r\n        pos++;\r\n        value = scanString();\r\n        return token = 10;\r\n      case 47:\r\n        const start = pos - 1;\r\n        if (text.charCodeAt(pos + 1) === 47) {\r\n          pos += 2;\r\n          while (pos < len) {\r\n            if (isLineBreak(text.charCodeAt(pos))) {\r\n              break;\r\n            }\r\n            pos++;\r\n          }\r\n          value = text.substring(start, pos);\r\n          return token = 12;\r\n        }\r\n        if (text.charCodeAt(pos + 1) === 42) {\r\n          pos += 2;\r\n          const safeLength = len - 1;\r\n          let commentClosed = false;\r\n          while (pos < safeLength) {\r\n            const ch = text.charCodeAt(pos);\r\n            if (ch === 42 && text.charCodeAt(pos + 1) === 47) {\r\n              pos += 2;\r\n              commentClosed = true;\r\n              break;\r\n            }\r\n            pos++;\r\n            if (isLineBreak(ch)) {\r\n              if (ch === 13 && text.charCodeAt(pos) === 10) {\r\n                pos++;\r\n              }\r\n              lineNumber++;\r\n              tokenLineStartOffset = pos;\r\n            }\r\n          }\r\n          if (!commentClosed) {\r\n            pos++;\r\n            scanError = 1;\r\n          }\r\n          value = text.substring(start, pos);\r\n          return token = 13;\r\n        }\r\n        value += String.fromCharCode(code);\r\n        pos++;\r\n        return token = 16;\r\n      case 45:\r\n        value += String.fromCharCode(code);\r\n        pos++;\r\n        if (pos === len || !isDigit(text.charCodeAt(pos))) {\r\n          return token = 16;\r\n        }\r\n      case 48:\r\n      case 49:\r\n      case 50:\r\n      case 51:\r\n      case 52:\r\n      case 53:\r\n      case 54:\r\n      case 55:\r\n      case 56:\r\n      case 57:\r\n        value += scanNumber();\r\n        return token = 11;\r\n      default:\r\n        while (pos < len && isUnknownContentCharacter(code)) {\r\n          pos++;\r\n          code = text.charCodeAt(pos);\r\n        }\r\n        if (tokenOffset !== pos) {\r\n          value = text.substring(tokenOffset, pos);\r\n          switch (value) {\r\n            case \"true\":\r\n              return token = 8;\r\n            case \"false\":\r\n              return token = 9;\r\n            case \"null\":\r\n              return token = 7;\r\n          }\r\n          return token = 16;\r\n        }\r\n        value += String.fromCharCode(code);\r\n        pos++;\r\n        return token = 16;\r\n    }\r\n  }\r\n  function isUnknownContentCharacter(code) {\r\n    if (isWhiteSpace(code) || isLineBreak(code)) {\r\n      return false;\r\n    }\r\n    switch (code) {\r\n      case 125:\r\n      case 93:\r\n      case 123:\r\n      case 91:\r\n      case 34:\r\n      case 58:\r\n      case 44:\r\n      case 47:\r\n        return false;\r\n    }\r\n    return true;\r\n  }\r\n  function scanNextNonTrivia() {\r\n    let result;\r\n    do {\r\n      result = scanNext();\r\n    } while (result >= 12 && result <= 15);\r\n    return result;\r\n  }\r\n  return {\r\n    setPosition,\r\n    getPosition: () => pos,\r\n    scan: ignoreTrivia ? scanNextNonTrivia : scanNext,\r\n    getToken: () => token,\r\n    getTokenValue: () => value,\r\n    getTokenOffset: () => tokenOffset,\r\n    getTokenLength: () => pos - tokenOffset,\r\n    getTokenStartLine: () => lineStartOffset,\r\n    getTokenStartCharacter: () => tokenOffset - prevTokenLineStartOffset,\r\n    getTokenError: () => scanError\r\n  };\r\n}\r\nfunction isWhiteSpace(ch) {\r\n  return ch === 32 || ch === 9;\r\n}\r\nfunction isLineBreak(ch) {\r\n  return ch === 10 || ch === 13;\r\n}\r\nfunction isDigit(ch) {\r\n  return ch >= 48 && ch <= 57;\r\n}\r\nvar CharacterCodes;\r\n(function(CharacterCodes2) {\r\n  CharacterCodes2[CharacterCodes2[\"lineFeed\"] = 10] = \"lineFeed\";\r\n  CharacterCodes2[CharacterCodes2[\"carriageReturn\"] = 13] = \"carriageReturn\";\r\n  CharacterCodes2[CharacterCodes2[\"space\"] = 32] = \"space\";\r\n  CharacterCodes2[CharacterCodes2[\"_0\"] = 48] = \"_0\";\r\n  CharacterCodes2[CharacterCodes2[\"_1\"] = 49] = \"_1\";\r\n  CharacterCodes2[CharacterCodes2[\"_2\"] = 50] = \"_2\";\r\n  CharacterCodes2[CharacterCodes2[\"_3\"] = 51] = \"_3\";\r\n  CharacterCodes2[CharacterCodes2[\"_4\"] = 52] = \"_4\";\r\n  CharacterCodes2[CharacterCodes2[\"_5\"] = 53] = \"_5\";\r\n  CharacterCodes2[CharacterCodes2[\"_6\"] = 54] = \"_6\";\r\n  CharacterCodes2[CharacterCodes2[\"_7\"] = 55] = \"_7\";\r\n  CharacterCodes2[CharacterCodes2[\"_8\"] = 56] = \"_8\";\r\n  CharacterCodes2[CharacterCodes2[\"_9\"] = 57] = \"_9\";\r\n  CharacterCodes2[CharacterCodes2[\"a\"] = 97] = \"a\";\r\n  CharacterCodes2[CharacterCodes2[\"b\"] = 98] = \"b\";\r\n  CharacterCodes2[CharacterCodes2[\"c\"] = 99] = \"c\";\r\n  CharacterCodes2[CharacterCodes2[\"d\"] = 100] = \"d\";\r\n  CharacterCodes2[CharacterCodes2[\"e\"] = 101] = \"e\";\r\n  CharacterCodes2[CharacterCodes2[\"f\"] = 102] = \"f\";\r\n  CharacterCodes2[CharacterCodes2[\"g\"] = 103] = \"g\";\r\n  CharacterCodes2[CharacterCodes2[\"h\"] = 104] = \"h\";\r\n  CharacterCodes2[CharacterCodes2[\"i\"] = 105] = \"i\";\r\n  CharacterCodes2[CharacterCodes2[\"j\"] = 106] = \"j\";\r\n  CharacterCodes2[CharacterCodes2[\"k\"] = 107] = \"k\";\r\n  CharacterCodes2[CharacterCodes2[\"l\"] = 108] = \"l\";\r\n  CharacterCodes2[CharacterCodes2[\"m\"] = 109] = \"m\";\r\n  CharacterCodes2[CharacterCodes2[\"n\"] = 110] = \"n\";\r\n  CharacterCodes2[CharacterCodes2[\"o\"] = 111] = \"o\";\r\n  CharacterCodes2[CharacterCodes2[\"p\"] = 112] = \"p\";\r\n  CharacterCodes2[CharacterCodes2[\"q\"] = 113] = \"q\";\r\n  CharacterCodes2[CharacterCodes2[\"r\"] = 114] = \"r\";\r\n  CharacterCodes2[CharacterCodes2[\"s\"] = 115] = \"s\";\r\n  CharacterCodes2[CharacterCodes2[\"t\"] = 116] = \"t\";\r\n  CharacterCodes2[CharacterCodes2[\"u\"] = 117] = \"u\";\r\n  CharacterCodes2[CharacterCodes2[\"v\"] = 118] = \"v\";\r\n  CharacterCodes2[CharacterCodes2[\"w\"] = 119] = \"w\";\r\n  CharacterCodes2[CharacterCodes2[\"x\"] = 120] = \"x\";\r\n  CharacterCodes2[CharacterCodes2[\"y\"] = 121] = \"y\";\r\n  CharacterCodes2[CharacterCodes2[\"z\"] = 122] = \"z\";\r\n  CharacterCodes2[CharacterCodes2[\"A\"] = 65] = \"A\";\r\n  CharacterCodes2[CharacterCodes2[\"B\"] = 66] = \"B\";\r\n  CharacterCodes2[CharacterCodes2[\"C\"] = 67] = \"C\";\r\n  CharacterCodes2[CharacterCodes2[\"D\"] = 68] = \"D\";\r\n  CharacterCodes2[CharacterCodes2[\"E\"] = 69] = \"E\";\r\n  CharacterCodes2[CharacterCodes2[\"F\"] = 70] = \"F\";\r\n  CharacterCodes2[CharacterCodes2[\"G\"] = 71] = \"G\";\r\n  CharacterCodes2[CharacterCodes2[\"H\"] = 72] = \"H\";\r\n  CharacterCodes2[CharacterCodes2[\"I\"] = 73] = \"I\";\r\n  CharacterCodes2[CharacterCodes2[\"J\"] = 74] = \"J\";\r\n  CharacterCodes2[CharacterCodes2[\"K\"] = 75] = \"K\";\r\n  CharacterCodes2[CharacterCodes2[\"L\"] = 76] = \"L\";\r\n  CharacterCodes2[CharacterCodes2[\"M\"] = 77] = \"M\";\r\n  CharacterCodes2[CharacterCodes2[\"N\"] = 78] = \"N\";\r\n  CharacterCodes2[CharacterCodes2[\"O\"] = 79] = \"O\";\r\n  CharacterCodes2[CharacterCodes2[\"P\"] = 80] = \"P\";\r\n  CharacterCodes2[CharacterCodes2[\"Q\"] = 81] = \"Q\";\r\n  CharacterCodes2[CharacterCodes2[\"R\"] = 82] = \"R\";\r\n  CharacterCodes2[CharacterCodes2[\"S\"] = 83] = \"S\";\r\n  CharacterCodes2[CharacterCodes2[\"T\"] = 84] = \"T\";\r\n  CharacterCodes2[CharacterCodes2[\"U\"] = 85] = \"U\";\r\n  CharacterCodes2[CharacterCodes2[\"V\"] = 86] = \"V\";\r\n  CharacterCodes2[CharacterCodes2[\"W\"] = 87] = \"W\";\r\n  CharacterCodes2[CharacterCodes2[\"X\"] = 88] = \"X\";\r\n  CharacterCodes2[CharacterCodes2[\"Y\"] = 89] = \"Y\";\r\n  CharacterCodes2[CharacterCodes2[\"Z\"] = 90] = \"Z\";\r\n  CharacterCodes2[CharacterCodes2[\"asterisk\"] = 42] = \"asterisk\";\r\n  CharacterCodes2[CharacterCodes2[\"backslash\"] = 92] = \"backslash\";\r\n  CharacterCodes2[CharacterCodes2[\"closeBrace\"] = 125] = \"closeBrace\";\r\n  CharacterCodes2[CharacterCodes2[\"closeBracket\"] = 93] = \"closeBracket\";\r\n  CharacterCodes2[CharacterCodes2[\"colon\"] = 58] = \"colon\";\r\n  CharacterCodes2[CharacterCodes2[\"comma\"] = 44] = \"comma\";\r\n  CharacterCodes2[CharacterCodes2[\"dot\"] = 46] = \"dot\";\r\n  CharacterCodes2[CharacterCodes2[\"doubleQuote\"] = 34] = \"doubleQuote\";\r\n  CharacterCodes2[CharacterCodes2[\"minus\"] = 45] = \"minus\";\r\n  CharacterCodes2[CharacterCodes2[\"openBrace\"] = 123] = \"openBrace\";\r\n  CharacterCodes2[CharacterCodes2[\"openBracket\"] = 91] = \"openBracket\";\r\n  CharacterCodes2[CharacterCodes2[\"plus\"] = 43] = \"plus\";\r\n  CharacterCodes2[CharacterCodes2[\"slash\"] = 47] = \"slash\";\r\n  CharacterCodes2[CharacterCodes2[\"formFeed\"] = 12] = \"formFeed\";\r\n  CharacterCodes2[CharacterCodes2[\"tab\"] = 9] = \"tab\";\r\n})(CharacterCodes || (CharacterCodes = {}));\r\n\r\n// node_modules/jsonc-parser/lib/esm/impl/string-intern.js\r\nvar cachedSpaces = new Array(20).fill(0).map((_, index) => {\r\n  return \" \".repeat(index);\r\n});\r\nvar maxCachedValues = 200;\r\nvar cachedBreakLinesWithSpaces = {\r\n  \" \": {\r\n    \"\\n\": new Array(maxCachedValues).fill(0).map((_, index) => {\r\n      return \"\\n\" + \" \".repeat(index);\r\n    }),\r\n    \"\\r\": new Array(maxCachedValues).fill(0).map((_, index) => {\r\n      return \"\\r\" + \" \".repeat(index);\r\n    }),\r\n    \"\\r\\n\": new Array(maxCachedValues).fill(0).map((_, index) => {\r\n      return \"\\r\\n\" + \" \".repeat(index);\r\n    })\r\n  },\r\n  \"\t\": {\r\n    \"\\n\": new Array(maxCachedValues).fill(0).map((_, index) => {\r\n      return \"\\n\" + \"\t\".repeat(index);\r\n    }),\r\n    \"\\r\": new Array(maxCachedValues).fill(0).map((_, index) => {\r\n      return \"\\r\" + \"\t\".repeat(index);\r\n    }),\r\n    \"\\r\\n\": new Array(maxCachedValues).fill(0).map((_, index) => {\r\n      return \"\\r\\n\" + \"\t\".repeat(index);\r\n    })\r\n  }\r\n};\r\n\r\n// node_modules/jsonc-parser/lib/esm/impl/parser.js\r\nvar ParseOptions;\r\n(function(ParseOptions2) {\r\n  ParseOptions2.DEFAULT = {\r\n    allowTrailingComma: false\r\n  };\r\n})(ParseOptions || (ParseOptions = {}));\r\n\r\n// node_modules/jsonc-parser/lib/esm/main.js\r\nvar createScanner2 = createScanner;\r\nvar ScanError;\r\n(function(ScanError2) {\r\n  ScanError2[ScanError2[\"None\"] = 0] = \"None\";\r\n  ScanError2[ScanError2[\"UnexpectedEndOfComment\"] = 1] = \"UnexpectedEndOfComment\";\r\n  ScanError2[ScanError2[\"UnexpectedEndOfString\"] = 2] = \"UnexpectedEndOfString\";\r\n  ScanError2[ScanError2[\"UnexpectedEndOfNumber\"] = 3] = \"UnexpectedEndOfNumber\";\r\n  ScanError2[ScanError2[\"InvalidUnicode\"] = 4] = \"InvalidUnicode\";\r\n  ScanError2[ScanError2[\"InvalidEscapeCharacter\"] = 5] = \"InvalidEscapeCharacter\";\r\n  ScanError2[ScanError2[\"InvalidCharacter\"] = 6] = \"InvalidCharacter\";\r\n})(ScanError || (ScanError = {}));\r\nvar SyntaxKind;\r\n(function(SyntaxKind2) {\r\n  SyntaxKind2[SyntaxKind2[\"OpenBraceToken\"] = 1] = \"OpenBraceToken\";\r\n  SyntaxKind2[SyntaxKind2[\"CloseBraceToken\"] = 2] = \"CloseBraceToken\";\r\n  SyntaxKind2[SyntaxKind2[\"OpenBracketToken\"] = 3] = \"OpenBracketToken\";\r\n  SyntaxKind2[SyntaxKind2[\"CloseBracketToken\"] = 4] = \"CloseBracketToken\";\r\n  SyntaxKind2[SyntaxKind2[\"CommaToken\"] = 5] = \"CommaToken\";\r\n  SyntaxKind2[SyntaxKind2[\"ColonToken\"] = 6] = \"ColonToken\";\r\n  SyntaxKind2[SyntaxKind2[\"NullKeyword\"] = 7] = \"NullKeyword\";\r\n  SyntaxKind2[SyntaxKind2[\"TrueKeyword\"] = 8] = \"TrueKeyword\";\r\n  SyntaxKind2[SyntaxKind2[\"FalseKeyword\"] = 9] = \"FalseKeyword\";\r\n  SyntaxKind2[SyntaxKind2[\"StringLiteral\"] = 10] = \"StringLiteral\";\r\n  SyntaxKind2[SyntaxKind2[\"NumericLiteral\"] = 11] = \"NumericLiteral\";\r\n  SyntaxKind2[SyntaxKind2[\"LineCommentTrivia\"] = 12] = \"LineCommentTrivia\";\r\n  SyntaxKind2[SyntaxKind2[\"BlockCommentTrivia\"] = 13] = \"BlockCommentTrivia\";\r\n  SyntaxKind2[SyntaxKind2[\"LineBreakTrivia\"] = 14] = \"LineBreakTrivia\";\r\n  SyntaxKind2[SyntaxKind2[\"Trivia\"] = 15] = \"Trivia\";\r\n  SyntaxKind2[SyntaxKind2[\"Unknown\"] = 16] = \"Unknown\";\r\n  SyntaxKind2[SyntaxKind2[\"EOF\"] = 17] = \"EOF\";\r\n})(SyntaxKind || (SyntaxKind = {}));\r\nvar ParseErrorCode;\r\n(function(ParseErrorCode2) {\r\n  ParseErrorCode2[ParseErrorCode2[\"InvalidSymbol\"] = 1] = \"InvalidSymbol\";\r\n  ParseErrorCode2[ParseErrorCode2[\"InvalidNumberFormat\"] = 2] = \"InvalidNumberFormat\";\r\n  ParseErrorCode2[ParseErrorCode2[\"PropertyNameExpected\"] = 3] = \"PropertyNameExpected\";\r\n  ParseErrorCode2[ParseErrorCode2[\"ValueExpected\"] = 4] = \"ValueExpected\";\r\n  ParseErrorCode2[ParseErrorCode2[\"ColonExpected\"] = 5] = \"ColonExpected\";\r\n  ParseErrorCode2[ParseErrorCode2[\"CommaExpected\"] = 6] = \"CommaExpected\";\r\n  ParseErrorCode2[ParseErrorCode2[\"CloseBraceExpected\"] = 7] = \"CloseBraceExpected\";\r\n  ParseErrorCode2[ParseErrorCode2[\"CloseBracketExpected\"] = 8] = \"CloseBracketExpected\";\r\n  ParseErrorCode2[ParseErrorCode2[\"EndOfFileExpected\"] = 9] = \"EndOfFileExpected\";\r\n  ParseErrorCode2[ParseErrorCode2[\"InvalidCommentToken\"] = 10] = \"InvalidCommentToken\";\r\n  ParseErrorCode2[ParseErrorCode2[\"UnexpectedEndOfComment\"] = 11] = \"UnexpectedEndOfComment\";\r\n  ParseErrorCode2[ParseErrorCode2[\"UnexpectedEndOfString\"] = 12] = \"UnexpectedEndOfString\";\r\n  ParseErrorCode2[ParseErrorCode2[\"UnexpectedEndOfNumber\"] = 13] = \"UnexpectedEndOfNumber\";\r\n  ParseErrorCode2[ParseErrorCode2[\"InvalidUnicode\"] = 14] = \"InvalidUnicode\";\r\n  ParseErrorCode2[ParseErrorCode2[\"InvalidEscapeCharacter\"] = 15] = \"InvalidEscapeCharacter\";\r\n  ParseErrorCode2[ParseErrorCode2[\"InvalidCharacter\"] = 16] = \"InvalidCharacter\";\r\n})(ParseErrorCode || (ParseErrorCode = {}));\r\n\r\n// src/language/json/tokenization.ts\r\nfunction createTokenizationSupport(supportComments) {\r\n  return {\r\n    getInitialState: () => new JSONState(null, null, false, null),\r\n    tokenize: (line, state) => tokenize(supportComments, line, state)\r\n  };\r\n}\r\nvar TOKEN_DELIM_OBJECT = \"delimiter.bracket.json\";\r\nvar TOKEN_DELIM_ARRAY = \"delimiter.array.json\";\r\nvar TOKEN_DELIM_COLON = \"delimiter.colon.json\";\r\nvar TOKEN_DELIM_COMMA = \"delimiter.comma.json\";\r\nvar TOKEN_VALUE_BOOLEAN = \"keyword.json\";\r\nvar TOKEN_VALUE_NULL = \"keyword.json\";\r\nvar TOKEN_VALUE_STRING = \"string.value.json\";\r\nvar TOKEN_VALUE_NUMBER = \"number.json\";\r\nvar TOKEN_PROPERTY_NAME = \"string.key.json\";\r\nvar TOKEN_COMMENT_BLOCK = \"comment.block.json\";\r\nvar TOKEN_COMMENT_LINE = \"comment.line.json\";\r\nvar ParentsStack = class _ParentsStack {\r\n  constructor(parent, type) {\r\n    this.parent = parent;\r\n    this.type = type;\r\n  }\r\n  static pop(parents) {\r\n    if (parents) {\r\n      return parents.parent;\r\n    }\r\n    return null;\r\n  }\r\n  static push(parents, type) {\r\n    return new _ParentsStack(parents, type);\r\n  }\r\n  static equals(a, b) {\r\n    if (!a && !b) {\r\n      return true;\r\n    }\r\n    if (!a || !b) {\r\n      return false;\r\n    }\r\n    while (a && b) {\r\n      if (a === b) {\r\n        return true;\r\n      }\r\n      if (a.type !== b.type) {\r\n        return false;\r\n      }\r\n      a = a.parent;\r\n      b = b.parent;\r\n    }\r\n    return true;\r\n  }\r\n};\r\nvar JSONState = class _JSONState {\r\n  constructor(state, scanError, lastWasColon, parents) {\r\n    this._state = state;\r\n    this.scanError = scanError;\r\n    this.lastWasColon = lastWasColon;\r\n    this.parents = parents;\r\n  }\r\n  clone() {\r\n    return new _JSONState(this._state, this.scanError, this.lastWasColon, this.parents);\r\n  }\r\n  equals(other) {\r\n    if (other === this) {\r\n      return true;\r\n    }\r\n    if (!other || !(other instanceof _JSONState)) {\r\n      return false;\r\n    }\r\n    return this.scanError === other.scanError && this.lastWasColon === other.lastWasColon && ParentsStack.equals(this.parents, other.parents);\r\n  }\r\n  getStateData() {\r\n    return this._state;\r\n  }\r\n  setStateData(state) {\r\n    this._state = state;\r\n  }\r\n};\r\nfunction tokenize(comments, line, state, offsetDelta = 0) {\r\n  let numberOfInsertedCharacters = 0;\r\n  let adjustOffset = false;\r\n  switch (state.scanError) {\r\n    case 2 /* UnexpectedEndOfString */:\r\n      line = '\"' + line;\r\n      numberOfInsertedCharacters = 1;\r\n      break;\r\n    case 1 /* UnexpectedEndOfComment */:\r\n      line = \"/*\" + line;\r\n      numberOfInsertedCharacters = 2;\r\n      break;\r\n  }\r\n  const scanner = createScanner2(line);\r\n  let lastWasColon = state.lastWasColon;\r\n  let parents = state.parents;\r\n  const ret = {\r\n    tokens: [],\r\n    endState: state.clone()\r\n  };\r\n  while (true) {\r\n    let offset = offsetDelta + scanner.getPosition();\r\n    let type = \"\";\r\n    const kind = scanner.scan();\r\n    if (kind === 17 /* EOF */) {\r\n      break;\r\n    }\r\n    if (offset === offsetDelta + scanner.getPosition()) {\r\n      throw new Error(\r\n        \"Scanner did not advance, next 3 characters are: \" + line.substr(scanner.getPosition(), 3)\r\n      );\r\n    }\r\n    if (adjustOffset) {\r\n      offset -= numberOfInsertedCharacters;\r\n    }\r\n    adjustOffset = numberOfInsertedCharacters > 0;\r\n    switch (kind) {\r\n      case 1 /* OpenBraceToken */:\r\n        parents = ParentsStack.push(parents, 0 /* Object */);\r\n        type = TOKEN_DELIM_OBJECT;\r\n        lastWasColon = false;\r\n        break;\r\n      case 2 /* CloseBraceToken */:\r\n        parents = ParentsStack.pop(parents);\r\n        type = TOKEN_DELIM_OBJECT;\r\n        lastWasColon = false;\r\n        break;\r\n      case 3 /* OpenBracketToken */:\r\n        parents = ParentsStack.push(parents, 1 /* Array */);\r\n        type = TOKEN_DELIM_ARRAY;\r\n        lastWasColon = false;\r\n        break;\r\n      case 4 /* CloseBracketToken */:\r\n        parents = ParentsStack.pop(parents);\r\n        type = TOKEN_DELIM_ARRAY;\r\n        lastWasColon = false;\r\n        break;\r\n      case 6 /* ColonToken */:\r\n        type = TOKEN_DELIM_COLON;\r\n        lastWasColon = true;\r\n        break;\r\n      case 5 /* CommaToken */:\r\n        type = TOKEN_DELIM_COMMA;\r\n        lastWasColon = false;\r\n        break;\r\n      case 8 /* TrueKeyword */:\r\n      case 9 /* FalseKeyword */:\r\n        type = TOKEN_VALUE_BOOLEAN;\r\n        lastWasColon = false;\r\n        break;\r\n      case 7 /* NullKeyword */:\r\n        type = TOKEN_VALUE_NULL;\r\n        lastWasColon = false;\r\n        break;\r\n      case 10 /* StringLiteral */:\r\n        const currentParent = parents ? parents.type : 0 /* Object */;\r\n        const inArray = currentParent === 1 /* Array */;\r\n        type = lastWasColon || inArray ? TOKEN_VALUE_STRING : TOKEN_PROPERTY_NAME;\r\n        lastWasColon = false;\r\n        break;\r\n      case 11 /* NumericLiteral */:\r\n        type = TOKEN_VALUE_NUMBER;\r\n        lastWasColon = false;\r\n        break;\r\n    }\r\n    if (comments) {\r\n      switch (kind) {\r\n        case 12 /* LineCommentTrivia */:\r\n          type = TOKEN_COMMENT_LINE;\r\n          break;\r\n        case 13 /* BlockCommentTrivia */:\r\n          type = TOKEN_COMMENT_BLOCK;\r\n          break;\r\n      }\r\n    }\r\n    ret.endState = new JSONState(\r\n      state.getStateData(),\r\n      scanner.getTokenError(),\r\n      lastWasColon,\r\n      parents\r\n    );\r\n    ret.tokens.push({\r\n      startIndex: offset,\r\n      scopes: type\r\n    });\r\n  }\r\n  return ret;\r\n}\r\n\r\n// src/language/json/jsonMode.ts\r\nvar worker;\r\nfunction getWorker() {\r\n  return new Promise((resolve, reject) => {\r\n    if (!worker) {\r\n      return reject(\"JSON not registered!\");\r\n    }\r\n    resolve(worker);\r\n  });\r\n}\r\nvar JSONDiagnosticsAdapter = class extends DiagnosticsAdapter {\r\n  constructor(languageId, worker2, defaults) {\r\n    super(languageId, worker2, defaults.onDidChange);\r\n    this._disposables.push(\r\n      monaco_editor_core_exports.editor.onWillDisposeModel((model) => {\r\n        this._resetSchema(model.uri);\r\n      })\r\n    );\r\n    this._disposables.push(\r\n      monaco_editor_core_exports.editor.onDidChangeModelLanguage((event) => {\r\n        this._resetSchema(event.model.uri);\r\n      })\r\n    );\r\n  }\r\n  _resetSchema(resource) {\r\n    this._worker().then((worker2) => {\r\n      worker2.resetSchema(resource.toString());\r\n    });\r\n  }\r\n};\r\nfunction setupMode(defaults) {\r\n  const disposables = [];\r\n  const providers = [];\r\n  const client = new WorkerManager(defaults);\r\n  disposables.push(client);\r\n  worker = (...uris) => {\r\n    return client.getLanguageServiceWorker(...uris);\r\n  };\r\n  function registerProviders() {\r\n    const { languageId, modeConfiguration: modeConfiguration2 } = defaults;\r\n    disposeAll(providers);\r\n    if (modeConfiguration2.documentFormattingEdits) {\r\n      providers.push(\r\n        monaco_editor_core_exports.languages.registerDocumentFormattingEditProvider(\r\n          languageId,\r\n          new DocumentFormattingEditProvider(worker)\r\n        )\r\n      );\r\n    }\r\n    if (modeConfiguration2.documentRangeFormattingEdits) {\r\n      providers.push(\r\n        monaco_editor_core_exports.languages.registerDocumentRangeFormattingEditProvider(\r\n          languageId,\r\n          new DocumentRangeFormattingEditProvider(worker)\r\n        )\r\n      );\r\n    }\r\n    if (modeConfiguration2.completionItems) {\r\n      providers.push(\r\n        monaco_editor_core_exports.languages.registerCompletionItemProvider(\r\n          languageId,\r\n          new CompletionAdapter(worker, [\" \", \":\", '\"'])\r\n        )\r\n      );\r\n    }\r\n    if (modeConfiguration2.hovers) {\r\n      providers.push(\r\n        monaco_editor_core_exports.languages.registerHoverProvider(languageId, new HoverAdapter(worker))\r\n      );\r\n    }\r\n    if (modeConfiguration2.documentSymbols) {\r\n      providers.push(\r\n        monaco_editor_core_exports.languages.registerDocumentSymbolProvider(\r\n          languageId,\r\n          new DocumentSymbolAdapter(worker)\r\n        )\r\n      );\r\n    }\r\n    if (modeConfiguration2.tokens) {\r\n      providers.push(monaco_editor_core_exports.languages.setTokensProvider(languageId, createTokenizationSupport(true)));\r\n    }\r\n    if (modeConfiguration2.colors) {\r\n      providers.push(\r\n        monaco_editor_core_exports.languages.registerColorProvider(\r\n          languageId,\r\n          new DocumentColorAdapter(worker)\r\n        )\r\n      );\r\n    }\r\n    if (modeConfiguration2.foldingRanges) {\r\n      providers.push(\r\n        monaco_editor_core_exports.languages.registerFoldingRangeProvider(\r\n          languageId,\r\n          new FoldingRangeAdapter(worker)\r\n        )\r\n      );\r\n    }\r\n    if (modeConfiguration2.diagnostics) {\r\n      providers.push(new JSONDiagnosticsAdapter(languageId, worker, defaults));\r\n    }\r\n    if (modeConfiguration2.selectionRanges) {\r\n      providers.push(\r\n        monaco_editor_core_exports.languages.registerSelectionRangeProvider(\r\n          languageId,\r\n          new SelectionRangeAdapter(worker)\r\n        )\r\n      );\r\n    }\r\n  }\r\n  registerProviders();\r\n  disposables.push(monaco_editor_core_exports.languages.setLanguageConfiguration(defaults.languageId, richEditConfiguration));\r\n  let modeConfiguration = defaults.modeConfiguration;\r\n  defaults.onDidChange((newDefaults) => {\r\n    if (newDefaults.modeConfiguration !== modeConfiguration) {\r\n      modeConfiguration = newDefaults.modeConfiguration;\r\n      registerProviders();\r\n    }\r\n  });\r\n  disposables.push(asDisposable(providers));\r\n  return asDisposable(disposables);\r\n}\r\nfunction asDisposable(disposables) {\r\n  return { dispose: () => disposeAll(disposables) };\r\n}\r\nfunction disposeAll(disposables) {\r\n  while (disposables.length) {\r\n    disposables.pop().dispose();\r\n  }\r\n}\r\nvar richEditConfiguration = {\r\n  wordPattern: /(-?\\d*\\.\\d\\w*)|([^\\[\\{\\]\\}\\:\\\"\\,\\s]+)/g,\r\n  comments: {\r\n    lineComment: \"//\",\r\n    blockComment: [\"/*\", \"*/\"]\r\n  },\r\n  brackets: [\r\n    [\"{\", \"}\"],\r\n    [\"[\", \"]\"]\r\n  ],\r\n  autoClosingPairs: [\r\n    { open: \"{\", close: \"}\", notIn: [\"string\"] },\r\n    { open: \"[\", close: \"]\", notIn: [\"string\"] },\r\n    { open: '\"', close: '\"', notIn: [\"string\"] }\r\n  ]\r\n};\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvbGFuZ3VhZ2UvanNvbi9qc29uTW9kZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLDRGQUE0RjtBQUN6SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxrREFBdUI7QUFDUTtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsa0NBQWtDO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsa0JBQWtCO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDBCQUEwQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyw0QkFBNEI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyw0QkFBNEI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2YsTUFBTTtBQUNOLGVBQWU7QUFDZixNQUFNO0FBQ04sb0VBQW9FLElBQUksSUFBSSxJQUFJLElBQUksTUFBTSxJQUFJLEtBQUs7QUFDbkc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsc0JBQXNCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsNEJBQTRCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsb0NBQW9DO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxzQkFBc0I7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsNENBQTRDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsOENBQThDO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDRDQUE0QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLG9DQUFvQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxvRUFBb0U7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxnREFBZ0Q7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHNDQUFzQztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsMENBQTBDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLGdDQUFnQztBQUNqQztBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsMEJBQTBCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhLFNBQVMsZ0NBQWdDO0FBQ3REO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsNEJBQTRCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyw0Q0FBNEM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLGdFQUFnRTtBQUNqRTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYSxTQUFTLGdDQUFnQztBQUN0RDtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDhDQUE4QztBQUMvQztBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDRDQUE0QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLGdDQUFnQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsZ0NBQWdDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsZ0NBQWdDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLENBQUMsc0NBQXNDO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsd0RBQXdEO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsMEVBQTBFO0FBQzNFO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsMEZBQTBGO0FBQzNGO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsNENBQTRDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsZ0NBQWdDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxzQ0FBc0M7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxnREFBZ0Q7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDRDQUE0QztBQUM3QztBQUNBO0FBQ0E7QUFDQSxDQUFDLDhDQUE4QztBQUMvQztBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDhDQUE4QztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsd0NBQXdDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxnRUFBZ0U7QUFDakU7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxDQUFDLHdDQUF3QztBQUN6QztBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLENBQUMsd0NBQXdDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsb0NBQW9DO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxzQkFBc0I7QUFDdkI7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLHVCQUF1QixJQUFJO0FBQ3hEO0FBQ0E7QUFDQSxDQUFDLG9EQUFvRDtBQUNyRDtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxvREFBb0Q7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsc0RBQXNEO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDhDQUE4QztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsZ0NBQWdDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLENBQUMsOEJBQThCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsOENBQThDO0FBQy9DO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyx3QkFBd0IsZUFBZSxJQUFJLHdCQUF3QjtBQUNuRztBQUNBO0FBQ0EsQ0FBQywwQ0FBMEM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyx3Q0FBd0M7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsd0NBQXdDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxzREFBc0Q7QUFDdkQ7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDhDQUE4QztBQUMvQztBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLGdDQUFnQztBQUNqQztBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsNEJBQTRCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsOENBQThDO0FBQy9DO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsb0NBQW9DO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsd0NBQXdDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxnREFBZ0Q7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyx3REFBd0Q7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHdDQUF3QztBQUN6QztBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDBDQUEwQztBQUMzQztBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDhEQUE4RDtBQUMvRDtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDRFQUE0RTtBQUM3RTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLGdEQUFnRDtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxzQ0FBc0M7QUFDdkM7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxnREFBZ0Q7QUFDakQ7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDhCQUE4QjtBQUMvQjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLENBQUMsa0NBQWtDO0FBQ25DO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsQ0FBQyxvREFBb0Q7QUFDckQ7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxDQUFDLG9EQUFvRDtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsa0VBQWtFO0FBQ25FO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsQ0FBQyx3REFBd0Q7QUFDekQ7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxDQUFDLDBEQUEwRDtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsMENBQTBDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EseUNBQXlDLFFBQVE7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLG9DQUFvQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLGlCQUFpQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLGdCQUFnQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtEQUErRCx3REFBd0Q7QUFDdkg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEM7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isc0NBQXNDO0FBQzlEO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHdDQUF3QztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLG9DQUFvQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDhCQUE4QjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsZ0NBQWdDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsd0NBQXdDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxvREFBb0Q7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxJQUFJO0FBQzFDO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLE9BQU8sS0FBSztBQUNaO0FBQ0E7QUFDQTtBQUNBLE1BQU0sUUFBUSxZQUFZLHNCQUFzQjtBQUNoRCxNQUFNLDBDQUEwQztBQUNoRCxNQUFNO0FBQ047QUFDQTtBQXVCRSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9sYW5ndWFnZS9qc29uL2pzb25Nb2RlLmpzPzQ3YjkiXSwic291cmNlc0NvbnRlbnQiOlsiLyohLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIFZlcnNpb246IDAuNTAuMChjMzIxZDBmYmVjYjUwYWI4YTUzNjVmYTE5NjU0NzZiMGFlNjNmYzg3KVxyXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcclxuICogaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9tb25hY28tZWRpdG9yL2Jsb2IvbWFpbi9MSUNFTlNFLnR4dFxyXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuXHJcbnZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XHJcbnZhciBfX2dldE93blByb3BEZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcclxudmFyIF9fZ2V0T3duUHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM7XHJcbnZhciBfX2hhc093blByb3AgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xyXG52YXIgX19jb3B5UHJvcHMgPSAodG8sIGZyb20sIGV4Y2VwdCwgZGVzYykgPT4ge1xyXG4gIGlmIChmcm9tICYmIHR5cGVvZiBmcm9tID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBmcm9tID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgIGZvciAobGV0IGtleSBvZiBfX2dldE93blByb3BOYW1lcyhmcm9tKSlcclxuICAgICAgaWYgKCFfX2hhc093blByb3AuY2FsbCh0bywga2V5KSAmJiBrZXkgIT09IGV4Y2VwdClcclxuICAgICAgICBfX2RlZlByb3AodG8sIGtleSwgeyBnZXQ6ICgpID0+IGZyb21ba2V5XSwgZW51bWVyYWJsZTogIShkZXNjID0gX19nZXRPd25Qcm9wRGVzYyhmcm9tLCBrZXkpKSB8fCBkZXNjLmVudW1lcmFibGUgfSk7XHJcbiAgfVxyXG4gIHJldHVybiB0bztcclxufTtcclxudmFyIF9fcmVFeHBvcnQgPSAodGFyZ2V0LCBtb2QsIHNlY29uZFRhcmdldCkgPT4gKF9fY29weVByb3BzKHRhcmdldCwgbW9kLCBcImRlZmF1bHRcIiksIHNlY29uZFRhcmdldCAmJiBfX2NvcHlQcm9wcyhzZWNvbmRUYXJnZXQsIG1vZCwgXCJkZWZhdWx0XCIpKTtcclxuXHJcbi8vIHNyYy9maWxsZXJzL21vbmFjby1lZGl0b3ItY29yZS50c1xyXG52YXIgbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMgPSB7fTtcclxuX19yZUV4cG9ydChtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cywgbW9uYWNvX2VkaXRvcl9jb3JlX3N0YXIpO1xyXG5pbXBvcnQgKiBhcyBtb25hY29fZWRpdG9yX2NvcmVfc3RhciBmcm9tIFwiLi4vLi4vZWRpdG9yL2VkaXRvci5hcGkuanNcIjtcclxuXHJcbi8vIHNyYy9sYW5ndWFnZS9qc29uL3dvcmtlck1hbmFnZXIudHNcclxudmFyIFNUT1BfV0hFTl9JRExFX0ZPUiA9IDIgKiA2MCAqIDFlMztcclxudmFyIFdvcmtlck1hbmFnZXIgPSBjbGFzcyB7XHJcbiAgY29uc3RydWN0b3IoZGVmYXVsdHMpIHtcclxuICAgIHRoaXMuX2RlZmF1bHRzID0gZGVmYXVsdHM7XHJcbiAgICB0aGlzLl93b3JrZXIgPSBudWxsO1xyXG4gICAgdGhpcy5fY2xpZW50ID0gbnVsbDtcclxuICAgIHRoaXMuX2lkbGVDaGVja0ludGVydmFsID0gd2luZG93LnNldEludGVydmFsKCgpID0+IHRoaXMuX2NoZWNrSWZJZGxlKCksIDMwICogMWUzKTtcclxuICAgIHRoaXMuX2xhc3RVc2VkVGltZSA9IDA7XHJcbiAgICB0aGlzLl9jb25maWdDaGFuZ2VMaXN0ZW5lciA9IHRoaXMuX2RlZmF1bHRzLm9uRGlkQ2hhbmdlKCgpID0+IHRoaXMuX3N0b3BXb3JrZXIoKSk7XHJcbiAgfVxyXG4gIF9zdG9wV29ya2VyKCkge1xyXG4gICAgaWYgKHRoaXMuX3dvcmtlcikge1xyXG4gICAgICB0aGlzLl93b3JrZXIuZGlzcG9zZSgpO1xyXG4gICAgICB0aGlzLl93b3JrZXIgPSBudWxsO1xyXG4gICAgfVxyXG4gICAgdGhpcy5fY2xpZW50ID0gbnVsbDtcclxuICB9XHJcbiAgZGlzcG9zZSgpIHtcclxuICAgIGNsZWFySW50ZXJ2YWwodGhpcy5faWRsZUNoZWNrSW50ZXJ2YWwpO1xyXG4gICAgdGhpcy5fY29uZmlnQ2hhbmdlTGlzdGVuZXIuZGlzcG9zZSgpO1xyXG4gICAgdGhpcy5fc3RvcFdvcmtlcigpO1xyXG4gIH1cclxuICBfY2hlY2tJZklkbGUoKSB7XHJcbiAgICBpZiAoIXRoaXMuX3dvcmtlcikge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBsZXQgdGltZVBhc3NlZFNpbmNlTGFzdFVzZWQgPSBEYXRlLm5vdygpIC0gdGhpcy5fbGFzdFVzZWRUaW1lO1xyXG4gICAgaWYgKHRpbWVQYXNzZWRTaW5jZUxhc3RVc2VkID4gU1RPUF9XSEVOX0lETEVfRk9SKSB7XHJcbiAgICAgIHRoaXMuX3N0b3BXb3JrZXIoKTtcclxuICAgIH1cclxuICB9XHJcbiAgX2dldENsaWVudCgpIHtcclxuICAgIHRoaXMuX2xhc3RVc2VkVGltZSA9IERhdGUubm93KCk7XHJcbiAgICBpZiAoIXRoaXMuX2NsaWVudCkge1xyXG4gICAgICB0aGlzLl93b3JrZXIgPSBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5lZGl0b3IuY3JlYXRlV2ViV29ya2VyKHtcclxuICAgICAgICAvLyBtb2R1bGUgdGhhdCBleHBvcnRzIHRoZSBjcmVhdGUoKSBtZXRob2QgYW5kIHJldHVybnMgYSBgSlNPTldvcmtlcmAgaW5zdGFuY2VcclxuICAgICAgICBtb2R1bGVJZDogXCJ2cy9sYW5ndWFnZS9qc29uL2pzb25Xb3JrZXJcIixcclxuICAgICAgICBsYWJlbDogdGhpcy5fZGVmYXVsdHMubGFuZ3VhZ2VJZCxcclxuICAgICAgICAvLyBwYXNzZWQgaW4gdG8gdGhlIGNyZWF0ZSgpIG1ldGhvZFxyXG4gICAgICAgIGNyZWF0ZURhdGE6IHtcclxuICAgICAgICAgIGxhbmd1YWdlU2V0dGluZ3M6IHRoaXMuX2RlZmF1bHRzLmRpYWdub3N0aWNzT3B0aW9ucyxcclxuICAgICAgICAgIGxhbmd1YWdlSWQ6IHRoaXMuX2RlZmF1bHRzLmxhbmd1YWdlSWQsXHJcbiAgICAgICAgICBlbmFibGVTY2hlbWFSZXF1ZXN0OiB0aGlzLl9kZWZhdWx0cy5kaWFnbm9zdGljc09wdGlvbnMuZW5hYmxlU2NoZW1hUmVxdWVzdFxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIHRoaXMuX2NsaWVudCA9IHRoaXMuX3dvcmtlci5nZXRQcm94eSgpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudDtcclxuICB9XHJcbiAgZ2V0TGFuZ3VhZ2VTZXJ2aWNlV29ya2VyKC4uLnJlc291cmNlcykge1xyXG4gICAgbGV0IF9jbGllbnQ7XHJcbiAgICByZXR1cm4gdGhpcy5fZ2V0Q2xpZW50KCkudGhlbigoY2xpZW50KSA9PiB7XHJcbiAgICAgIF9jbGllbnQgPSBjbGllbnQ7XHJcbiAgICB9KS50aGVuKChfKSA9PiB7XHJcbiAgICAgIGlmICh0aGlzLl93b3JrZXIpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fd29ya2VyLndpdGhTeW5jZWRSZXNvdXJjZXMocmVzb3VyY2VzKTtcclxuICAgICAgfVxyXG4gICAgfSkudGhlbigoXykgPT4gX2NsaWVudCk7XHJcbiAgfVxyXG59O1xyXG5cclxuLy8gbm9kZV9tb2R1bGVzL3ZzY29kZS1sYW5ndWFnZXNlcnZlci10eXBlcy9saWIvZXNtL21haW4uanNcclxudmFyIERvY3VtZW50VXJpO1xyXG4oZnVuY3Rpb24oRG9jdW1lbnRVcmkyKSB7XHJcbiAgZnVuY3Rpb24gaXModmFsdWUpIHtcclxuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCI7XHJcbiAgfVxyXG4gIERvY3VtZW50VXJpMi5pcyA9IGlzO1xyXG59KShEb2N1bWVudFVyaSB8fCAoRG9jdW1lbnRVcmkgPSB7fSkpO1xyXG52YXIgVVJJO1xyXG4oZnVuY3Rpb24oVVJJMikge1xyXG4gIGZ1bmN0aW9uIGlzKHZhbHVlKSB7XHJcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiO1xyXG4gIH1cclxuICBVUkkyLmlzID0gaXM7XHJcbn0pKFVSSSB8fCAoVVJJID0ge30pKTtcclxudmFyIGludGVnZXI7XHJcbihmdW5jdGlvbihpbnRlZ2VyMikge1xyXG4gIGludGVnZXIyLk1JTl9WQUxVRSA9IC0yMTQ3NDgzNjQ4O1xyXG4gIGludGVnZXIyLk1BWF9WQUxVRSA9IDIxNDc0ODM2NDc7XHJcbiAgZnVuY3Rpb24gaXModmFsdWUpIHtcclxuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIgJiYgaW50ZWdlcjIuTUlOX1ZBTFVFIDw9IHZhbHVlICYmIHZhbHVlIDw9IGludGVnZXIyLk1BWF9WQUxVRTtcclxuICB9XHJcbiAgaW50ZWdlcjIuaXMgPSBpcztcclxufSkoaW50ZWdlciB8fCAoaW50ZWdlciA9IHt9KSk7XHJcbnZhciB1aW50ZWdlcjtcclxuKGZ1bmN0aW9uKHVpbnRlZ2VyMikge1xyXG4gIHVpbnRlZ2VyMi5NSU5fVkFMVUUgPSAwO1xyXG4gIHVpbnRlZ2VyMi5NQVhfVkFMVUUgPSAyMTQ3NDgzNjQ3O1xyXG4gIGZ1bmN0aW9uIGlzKHZhbHVlKSB7XHJcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiICYmIHVpbnRlZ2VyMi5NSU5fVkFMVUUgPD0gdmFsdWUgJiYgdmFsdWUgPD0gdWludGVnZXIyLk1BWF9WQUxVRTtcclxuICB9XHJcbiAgdWludGVnZXIyLmlzID0gaXM7XHJcbn0pKHVpbnRlZ2VyIHx8ICh1aW50ZWdlciA9IHt9KSk7XHJcbnZhciBQb3NpdGlvbjtcclxuKGZ1bmN0aW9uKFBvc2l0aW9uMykge1xyXG4gIGZ1bmN0aW9uIGNyZWF0ZShsaW5lLCBjaGFyYWN0ZXIpIHtcclxuICAgIGlmIChsaW5lID09PSBOdW1iZXIuTUFYX1ZBTFVFKSB7XHJcbiAgICAgIGxpbmUgPSB1aW50ZWdlci5NQVhfVkFMVUU7XHJcbiAgICB9XHJcbiAgICBpZiAoY2hhcmFjdGVyID09PSBOdW1iZXIuTUFYX1ZBTFVFKSB7XHJcbiAgICAgIGNoYXJhY3RlciA9IHVpbnRlZ2VyLk1BWF9WQUxVRTtcclxuICAgIH1cclxuICAgIHJldHVybiB7IGxpbmUsIGNoYXJhY3RlciB9O1xyXG4gIH1cclxuICBQb3NpdGlvbjMuY3JlYXRlID0gY3JlYXRlO1xyXG4gIGZ1bmN0aW9uIGlzKHZhbHVlKSB7XHJcbiAgICBsZXQgY2FuZGlkYXRlID0gdmFsdWU7XHJcbiAgICByZXR1cm4gSXMub2JqZWN0TGl0ZXJhbChjYW5kaWRhdGUpICYmIElzLnVpbnRlZ2VyKGNhbmRpZGF0ZS5saW5lKSAmJiBJcy51aW50ZWdlcihjYW5kaWRhdGUuY2hhcmFjdGVyKTtcclxuICB9XHJcbiAgUG9zaXRpb24zLmlzID0gaXM7XHJcbn0pKFBvc2l0aW9uIHx8IChQb3NpdGlvbiA9IHt9KSk7XHJcbnZhciBSYW5nZTtcclxuKGZ1bmN0aW9uKFJhbmdlMykge1xyXG4gIGZ1bmN0aW9uIGNyZWF0ZShvbmUsIHR3bywgdGhyZWUsIGZvdXIpIHtcclxuICAgIGlmIChJcy51aW50ZWdlcihvbmUpICYmIElzLnVpbnRlZ2VyKHR3bykgJiYgSXMudWludGVnZXIodGhyZWUpICYmIElzLnVpbnRlZ2VyKGZvdXIpKSB7XHJcbiAgICAgIHJldHVybiB7IHN0YXJ0OiBQb3NpdGlvbi5jcmVhdGUob25lLCB0d28pLCBlbmQ6IFBvc2l0aW9uLmNyZWF0ZSh0aHJlZSwgZm91cikgfTtcclxuICAgIH0gZWxzZSBpZiAoUG9zaXRpb24uaXMob25lKSAmJiBQb3NpdGlvbi5pcyh0d28pKSB7XHJcbiAgICAgIHJldHVybiB7IHN0YXJ0OiBvbmUsIGVuZDogdHdvIH07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFJhbmdlI2NyZWF0ZSBjYWxsZWQgd2l0aCBpbnZhbGlkIGFyZ3VtZW50c1ske29uZX0sICR7dHdvfSwgJHt0aHJlZX0sICR7Zm91cn1dYCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIFJhbmdlMy5jcmVhdGUgPSBjcmVhdGU7XHJcbiAgZnVuY3Rpb24gaXModmFsdWUpIHtcclxuICAgIGxldCBjYW5kaWRhdGUgPSB2YWx1ZTtcclxuICAgIHJldHVybiBJcy5vYmplY3RMaXRlcmFsKGNhbmRpZGF0ZSkgJiYgUG9zaXRpb24uaXMoY2FuZGlkYXRlLnN0YXJ0KSAmJiBQb3NpdGlvbi5pcyhjYW5kaWRhdGUuZW5kKTtcclxuICB9XHJcbiAgUmFuZ2UzLmlzID0gaXM7XHJcbn0pKFJhbmdlIHx8IChSYW5nZSA9IHt9KSk7XHJcbnZhciBMb2NhdGlvbjtcclxuKGZ1bmN0aW9uKExvY2F0aW9uMikge1xyXG4gIGZ1bmN0aW9uIGNyZWF0ZSh1cmksIHJhbmdlKSB7XHJcbiAgICByZXR1cm4geyB1cmksIHJhbmdlIH07XHJcbiAgfVxyXG4gIExvY2F0aW9uMi5jcmVhdGUgPSBjcmVhdGU7XHJcbiAgZnVuY3Rpb24gaXModmFsdWUpIHtcclxuICAgIGxldCBjYW5kaWRhdGUgPSB2YWx1ZTtcclxuICAgIHJldHVybiBJcy5vYmplY3RMaXRlcmFsKGNhbmRpZGF0ZSkgJiYgUmFuZ2UuaXMoY2FuZGlkYXRlLnJhbmdlKSAmJiAoSXMuc3RyaW5nKGNhbmRpZGF0ZS51cmkpIHx8IElzLnVuZGVmaW5lZChjYW5kaWRhdGUudXJpKSk7XHJcbiAgfVxyXG4gIExvY2F0aW9uMi5pcyA9IGlzO1xyXG59KShMb2NhdGlvbiB8fCAoTG9jYXRpb24gPSB7fSkpO1xyXG52YXIgTG9jYXRpb25MaW5rO1xyXG4oZnVuY3Rpb24oTG9jYXRpb25MaW5rMikge1xyXG4gIGZ1bmN0aW9uIGNyZWF0ZSh0YXJnZXRVcmksIHRhcmdldFJhbmdlLCB0YXJnZXRTZWxlY3Rpb25SYW5nZSwgb3JpZ2luU2VsZWN0aW9uUmFuZ2UpIHtcclxuICAgIHJldHVybiB7IHRhcmdldFVyaSwgdGFyZ2V0UmFuZ2UsIHRhcmdldFNlbGVjdGlvblJhbmdlLCBvcmlnaW5TZWxlY3Rpb25SYW5nZSB9O1xyXG4gIH1cclxuICBMb2NhdGlvbkxpbmsyLmNyZWF0ZSA9IGNyZWF0ZTtcclxuICBmdW5jdGlvbiBpcyh2YWx1ZSkge1xyXG4gICAgbGV0IGNhbmRpZGF0ZSA9IHZhbHVlO1xyXG4gICAgcmV0dXJuIElzLm9iamVjdExpdGVyYWwoY2FuZGlkYXRlKSAmJiBSYW5nZS5pcyhjYW5kaWRhdGUudGFyZ2V0UmFuZ2UpICYmIElzLnN0cmluZyhjYW5kaWRhdGUudGFyZ2V0VXJpKSAmJiBSYW5nZS5pcyhjYW5kaWRhdGUudGFyZ2V0U2VsZWN0aW9uUmFuZ2UpICYmIChSYW5nZS5pcyhjYW5kaWRhdGUub3JpZ2luU2VsZWN0aW9uUmFuZ2UpIHx8IElzLnVuZGVmaW5lZChjYW5kaWRhdGUub3JpZ2luU2VsZWN0aW9uUmFuZ2UpKTtcclxuICB9XHJcbiAgTG9jYXRpb25MaW5rMi5pcyA9IGlzO1xyXG59KShMb2NhdGlvbkxpbmsgfHwgKExvY2F0aW9uTGluayA9IHt9KSk7XHJcbnZhciBDb2xvcjtcclxuKGZ1bmN0aW9uKENvbG9yMikge1xyXG4gIGZ1bmN0aW9uIGNyZWF0ZShyZWQsIGdyZWVuLCBibHVlLCBhbHBoYSkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcmVkLFxyXG4gICAgICBncmVlbixcclxuICAgICAgYmx1ZSxcclxuICAgICAgYWxwaGFcclxuICAgIH07XHJcbiAgfVxyXG4gIENvbG9yMi5jcmVhdGUgPSBjcmVhdGU7XHJcbiAgZnVuY3Rpb24gaXModmFsdWUpIHtcclxuICAgIGNvbnN0IGNhbmRpZGF0ZSA9IHZhbHVlO1xyXG4gICAgcmV0dXJuIElzLm9iamVjdExpdGVyYWwoY2FuZGlkYXRlKSAmJiBJcy5udW1iZXJSYW5nZShjYW5kaWRhdGUucmVkLCAwLCAxKSAmJiBJcy5udW1iZXJSYW5nZShjYW5kaWRhdGUuZ3JlZW4sIDAsIDEpICYmIElzLm51bWJlclJhbmdlKGNhbmRpZGF0ZS5ibHVlLCAwLCAxKSAmJiBJcy5udW1iZXJSYW5nZShjYW5kaWRhdGUuYWxwaGEsIDAsIDEpO1xyXG4gIH1cclxuICBDb2xvcjIuaXMgPSBpcztcclxufSkoQ29sb3IgfHwgKENvbG9yID0ge30pKTtcclxudmFyIENvbG9ySW5mb3JtYXRpb247XHJcbihmdW5jdGlvbihDb2xvckluZm9ybWF0aW9uMikge1xyXG4gIGZ1bmN0aW9uIGNyZWF0ZShyYW5nZSwgY29sb3IpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJhbmdlLFxyXG4gICAgICBjb2xvclxyXG4gICAgfTtcclxuICB9XHJcbiAgQ29sb3JJbmZvcm1hdGlvbjIuY3JlYXRlID0gY3JlYXRlO1xyXG4gIGZ1bmN0aW9uIGlzKHZhbHVlKSB7XHJcbiAgICBjb25zdCBjYW5kaWRhdGUgPSB2YWx1ZTtcclxuICAgIHJldHVybiBJcy5vYmplY3RMaXRlcmFsKGNhbmRpZGF0ZSkgJiYgUmFuZ2UuaXMoY2FuZGlkYXRlLnJhbmdlKSAmJiBDb2xvci5pcyhjYW5kaWRhdGUuY29sb3IpO1xyXG4gIH1cclxuICBDb2xvckluZm9ybWF0aW9uMi5pcyA9IGlzO1xyXG59KShDb2xvckluZm9ybWF0aW9uIHx8IChDb2xvckluZm9ybWF0aW9uID0ge30pKTtcclxudmFyIENvbG9yUHJlc2VudGF0aW9uO1xyXG4oZnVuY3Rpb24oQ29sb3JQcmVzZW50YXRpb24yKSB7XHJcbiAgZnVuY3Rpb24gY3JlYXRlKGxhYmVsLCB0ZXh0RWRpdCwgYWRkaXRpb25hbFRleHRFZGl0cykge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgbGFiZWwsXHJcbiAgICAgIHRleHRFZGl0LFxyXG4gICAgICBhZGRpdGlvbmFsVGV4dEVkaXRzXHJcbiAgICB9O1xyXG4gIH1cclxuICBDb2xvclByZXNlbnRhdGlvbjIuY3JlYXRlID0gY3JlYXRlO1xyXG4gIGZ1bmN0aW9uIGlzKHZhbHVlKSB7XHJcbiAgICBjb25zdCBjYW5kaWRhdGUgPSB2YWx1ZTtcclxuICAgIHJldHVybiBJcy5vYmplY3RMaXRlcmFsKGNhbmRpZGF0ZSkgJiYgSXMuc3RyaW5nKGNhbmRpZGF0ZS5sYWJlbCkgJiYgKElzLnVuZGVmaW5lZChjYW5kaWRhdGUudGV4dEVkaXQpIHx8IFRleHRFZGl0LmlzKGNhbmRpZGF0ZSkpICYmIChJcy51bmRlZmluZWQoY2FuZGlkYXRlLmFkZGl0aW9uYWxUZXh0RWRpdHMpIHx8IElzLnR5cGVkQXJyYXkoY2FuZGlkYXRlLmFkZGl0aW9uYWxUZXh0RWRpdHMsIFRleHRFZGl0LmlzKSk7XHJcbiAgfVxyXG4gIENvbG9yUHJlc2VudGF0aW9uMi5pcyA9IGlzO1xyXG59KShDb2xvclByZXNlbnRhdGlvbiB8fCAoQ29sb3JQcmVzZW50YXRpb24gPSB7fSkpO1xyXG52YXIgRm9sZGluZ1JhbmdlS2luZDtcclxuKGZ1bmN0aW9uKEZvbGRpbmdSYW5nZUtpbmQyKSB7XHJcbiAgRm9sZGluZ1JhbmdlS2luZDIuQ29tbWVudCA9IFwiY29tbWVudFwiO1xyXG4gIEZvbGRpbmdSYW5nZUtpbmQyLkltcG9ydHMgPSBcImltcG9ydHNcIjtcclxuICBGb2xkaW5nUmFuZ2VLaW5kMi5SZWdpb24gPSBcInJlZ2lvblwiO1xyXG59KShGb2xkaW5nUmFuZ2VLaW5kIHx8IChGb2xkaW5nUmFuZ2VLaW5kID0ge30pKTtcclxudmFyIEZvbGRpbmdSYW5nZTtcclxuKGZ1bmN0aW9uKEZvbGRpbmdSYW5nZTIpIHtcclxuICBmdW5jdGlvbiBjcmVhdGUoc3RhcnRMaW5lLCBlbmRMaW5lLCBzdGFydENoYXJhY3RlciwgZW5kQ2hhcmFjdGVyLCBraW5kLCBjb2xsYXBzZWRUZXh0KSB7XHJcbiAgICBjb25zdCByZXN1bHQgPSB7XHJcbiAgICAgIHN0YXJ0TGluZSxcclxuICAgICAgZW5kTGluZVxyXG4gICAgfTtcclxuICAgIGlmIChJcy5kZWZpbmVkKHN0YXJ0Q2hhcmFjdGVyKSkge1xyXG4gICAgICByZXN1bHQuc3RhcnRDaGFyYWN0ZXIgPSBzdGFydENoYXJhY3RlcjtcclxuICAgIH1cclxuICAgIGlmIChJcy5kZWZpbmVkKGVuZENoYXJhY3RlcikpIHtcclxuICAgICAgcmVzdWx0LmVuZENoYXJhY3RlciA9IGVuZENoYXJhY3RlcjtcclxuICAgIH1cclxuICAgIGlmIChJcy5kZWZpbmVkKGtpbmQpKSB7XHJcbiAgICAgIHJlc3VsdC5raW5kID0ga2luZDtcclxuICAgIH1cclxuICAgIGlmIChJcy5kZWZpbmVkKGNvbGxhcHNlZFRleHQpKSB7XHJcbiAgICAgIHJlc3VsdC5jb2xsYXBzZWRUZXh0ID0gY29sbGFwc2VkVGV4dDtcclxuICAgIH1cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfVxyXG4gIEZvbGRpbmdSYW5nZTIuY3JlYXRlID0gY3JlYXRlO1xyXG4gIGZ1bmN0aW9uIGlzKHZhbHVlKSB7XHJcbiAgICBjb25zdCBjYW5kaWRhdGUgPSB2YWx1ZTtcclxuICAgIHJldHVybiBJcy5vYmplY3RMaXRlcmFsKGNhbmRpZGF0ZSkgJiYgSXMudWludGVnZXIoY2FuZGlkYXRlLnN0YXJ0TGluZSkgJiYgSXMudWludGVnZXIoY2FuZGlkYXRlLnN0YXJ0TGluZSkgJiYgKElzLnVuZGVmaW5lZChjYW5kaWRhdGUuc3RhcnRDaGFyYWN0ZXIpIHx8IElzLnVpbnRlZ2VyKGNhbmRpZGF0ZS5zdGFydENoYXJhY3RlcikpICYmIChJcy51bmRlZmluZWQoY2FuZGlkYXRlLmVuZENoYXJhY3RlcikgfHwgSXMudWludGVnZXIoY2FuZGlkYXRlLmVuZENoYXJhY3RlcikpICYmIChJcy51bmRlZmluZWQoY2FuZGlkYXRlLmtpbmQpIHx8IElzLnN0cmluZyhjYW5kaWRhdGUua2luZCkpO1xyXG4gIH1cclxuICBGb2xkaW5nUmFuZ2UyLmlzID0gaXM7XHJcbn0pKEZvbGRpbmdSYW5nZSB8fCAoRm9sZGluZ1JhbmdlID0ge30pKTtcclxudmFyIERpYWdub3N0aWNSZWxhdGVkSW5mb3JtYXRpb247XHJcbihmdW5jdGlvbihEaWFnbm9zdGljUmVsYXRlZEluZm9ybWF0aW9uMikge1xyXG4gIGZ1bmN0aW9uIGNyZWF0ZShsb2NhdGlvbiwgbWVzc2FnZSkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgbG9jYXRpb24sXHJcbiAgICAgIG1lc3NhZ2VcclxuICAgIH07XHJcbiAgfVxyXG4gIERpYWdub3N0aWNSZWxhdGVkSW5mb3JtYXRpb24yLmNyZWF0ZSA9IGNyZWF0ZTtcclxuICBmdW5jdGlvbiBpcyh2YWx1ZSkge1xyXG4gICAgbGV0IGNhbmRpZGF0ZSA9IHZhbHVlO1xyXG4gICAgcmV0dXJuIElzLmRlZmluZWQoY2FuZGlkYXRlKSAmJiBMb2NhdGlvbi5pcyhjYW5kaWRhdGUubG9jYXRpb24pICYmIElzLnN0cmluZyhjYW5kaWRhdGUubWVzc2FnZSk7XHJcbiAgfVxyXG4gIERpYWdub3N0aWNSZWxhdGVkSW5mb3JtYXRpb24yLmlzID0gaXM7XHJcbn0pKERpYWdub3N0aWNSZWxhdGVkSW5mb3JtYXRpb24gfHwgKERpYWdub3N0aWNSZWxhdGVkSW5mb3JtYXRpb24gPSB7fSkpO1xyXG52YXIgRGlhZ25vc3RpY1NldmVyaXR5O1xyXG4oZnVuY3Rpb24oRGlhZ25vc3RpY1NldmVyaXR5Mikge1xyXG4gIERpYWdub3N0aWNTZXZlcml0eTIuRXJyb3IgPSAxO1xyXG4gIERpYWdub3N0aWNTZXZlcml0eTIuV2FybmluZyA9IDI7XHJcbiAgRGlhZ25vc3RpY1NldmVyaXR5Mi5JbmZvcm1hdGlvbiA9IDM7XHJcbiAgRGlhZ25vc3RpY1NldmVyaXR5Mi5IaW50ID0gNDtcclxufSkoRGlhZ25vc3RpY1NldmVyaXR5IHx8IChEaWFnbm9zdGljU2V2ZXJpdHkgPSB7fSkpO1xyXG52YXIgRGlhZ25vc3RpY1RhZztcclxuKGZ1bmN0aW9uKERpYWdub3N0aWNUYWcyKSB7XHJcbiAgRGlhZ25vc3RpY1RhZzIuVW5uZWNlc3NhcnkgPSAxO1xyXG4gIERpYWdub3N0aWNUYWcyLkRlcHJlY2F0ZWQgPSAyO1xyXG59KShEaWFnbm9zdGljVGFnIHx8IChEaWFnbm9zdGljVGFnID0ge30pKTtcclxudmFyIENvZGVEZXNjcmlwdGlvbjtcclxuKGZ1bmN0aW9uKENvZGVEZXNjcmlwdGlvbjIpIHtcclxuICBmdW5jdGlvbiBpcyh2YWx1ZSkge1xyXG4gICAgY29uc3QgY2FuZGlkYXRlID0gdmFsdWU7XHJcbiAgICByZXR1cm4gSXMub2JqZWN0TGl0ZXJhbChjYW5kaWRhdGUpICYmIElzLnN0cmluZyhjYW5kaWRhdGUuaHJlZik7XHJcbiAgfVxyXG4gIENvZGVEZXNjcmlwdGlvbjIuaXMgPSBpcztcclxufSkoQ29kZURlc2NyaXB0aW9uIHx8IChDb2RlRGVzY3JpcHRpb24gPSB7fSkpO1xyXG52YXIgRGlhZ25vc3RpYztcclxuKGZ1bmN0aW9uKERpYWdub3N0aWMyKSB7XHJcbiAgZnVuY3Rpb24gY3JlYXRlKHJhbmdlLCBtZXNzYWdlLCBzZXZlcml0eSwgY29kZSwgc291cmNlLCByZWxhdGVkSW5mb3JtYXRpb24pIHtcclxuICAgIGxldCByZXN1bHQgPSB7IHJhbmdlLCBtZXNzYWdlIH07XHJcbiAgICBpZiAoSXMuZGVmaW5lZChzZXZlcml0eSkpIHtcclxuICAgICAgcmVzdWx0LnNldmVyaXR5ID0gc2V2ZXJpdHk7XHJcbiAgICB9XHJcbiAgICBpZiAoSXMuZGVmaW5lZChjb2RlKSkge1xyXG4gICAgICByZXN1bHQuY29kZSA9IGNvZGU7XHJcbiAgICB9XHJcbiAgICBpZiAoSXMuZGVmaW5lZChzb3VyY2UpKSB7XHJcbiAgICAgIHJlc3VsdC5zb3VyY2UgPSBzb3VyY2U7XHJcbiAgICB9XHJcbiAgICBpZiAoSXMuZGVmaW5lZChyZWxhdGVkSW5mb3JtYXRpb24pKSB7XHJcbiAgICAgIHJlc3VsdC5yZWxhdGVkSW5mb3JtYXRpb24gPSByZWxhdGVkSW5mb3JtYXRpb247XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG4gIH1cclxuICBEaWFnbm9zdGljMi5jcmVhdGUgPSBjcmVhdGU7XHJcbiAgZnVuY3Rpb24gaXModmFsdWUpIHtcclxuICAgIHZhciBfYTtcclxuICAgIGxldCBjYW5kaWRhdGUgPSB2YWx1ZTtcclxuICAgIHJldHVybiBJcy5kZWZpbmVkKGNhbmRpZGF0ZSkgJiYgUmFuZ2UuaXMoY2FuZGlkYXRlLnJhbmdlKSAmJiBJcy5zdHJpbmcoY2FuZGlkYXRlLm1lc3NhZ2UpICYmIChJcy5udW1iZXIoY2FuZGlkYXRlLnNldmVyaXR5KSB8fCBJcy51bmRlZmluZWQoY2FuZGlkYXRlLnNldmVyaXR5KSkgJiYgKElzLmludGVnZXIoY2FuZGlkYXRlLmNvZGUpIHx8IElzLnN0cmluZyhjYW5kaWRhdGUuY29kZSkgfHwgSXMudW5kZWZpbmVkKGNhbmRpZGF0ZS5jb2RlKSkgJiYgKElzLnVuZGVmaW5lZChjYW5kaWRhdGUuY29kZURlc2NyaXB0aW9uKSB8fCBJcy5zdHJpbmcoKF9hID0gY2FuZGlkYXRlLmNvZGVEZXNjcmlwdGlvbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmhyZWYpKSAmJiAoSXMuc3RyaW5nKGNhbmRpZGF0ZS5zb3VyY2UpIHx8IElzLnVuZGVmaW5lZChjYW5kaWRhdGUuc291cmNlKSkgJiYgKElzLnVuZGVmaW5lZChjYW5kaWRhdGUucmVsYXRlZEluZm9ybWF0aW9uKSB8fCBJcy50eXBlZEFycmF5KGNhbmRpZGF0ZS5yZWxhdGVkSW5mb3JtYXRpb24sIERpYWdub3N0aWNSZWxhdGVkSW5mb3JtYXRpb24uaXMpKTtcclxuICB9XHJcbiAgRGlhZ25vc3RpYzIuaXMgPSBpcztcclxufSkoRGlhZ25vc3RpYyB8fCAoRGlhZ25vc3RpYyA9IHt9KSk7XHJcbnZhciBDb21tYW5kO1xyXG4oZnVuY3Rpb24oQ29tbWFuZDIpIHtcclxuICBmdW5jdGlvbiBjcmVhdGUodGl0bGUsIGNvbW1hbmQsIC4uLmFyZ3MpIHtcclxuICAgIGxldCByZXN1bHQgPSB7IHRpdGxlLCBjb21tYW5kIH07XHJcbiAgICBpZiAoSXMuZGVmaW5lZChhcmdzKSAmJiBhcmdzLmxlbmd0aCA+IDApIHtcclxuICAgICAgcmVzdWx0LmFyZ3VtZW50cyA9IGFyZ3M7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG4gIH1cclxuICBDb21tYW5kMi5jcmVhdGUgPSBjcmVhdGU7XHJcbiAgZnVuY3Rpb24gaXModmFsdWUpIHtcclxuICAgIGxldCBjYW5kaWRhdGUgPSB2YWx1ZTtcclxuICAgIHJldHVybiBJcy5kZWZpbmVkKGNhbmRpZGF0ZSkgJiYgSXMuc3RyaW5nKGNhbmRpZGF0ZS50aXRsZSkgJiYgSXMuc3RyaW5nKGNhbmRpZGF0ZS5jb21tYW5kKTtcclxuICB9XHJcbiAgQ29tbWFuZDIuaXMgPSBpcztcclxufSkoQ29tbWFuZCB8fCAoQ29tbWFuZCA9IHt9KSk7XHJcbnZhciBUZXh0RWRpdDtcclxuKGZ1bmN0aW9uKFRleHRFZGl0Mikge1xyXG4gIGZ1bmN0aW9uIHJlcGxhY2UocmFuZ2UsIG5ld1RleHQpIHtcclxuICAgIHJldHVybiB7IHJhbmdlLCBuZXdUZXh0IH07XHJcbiAgfVxyXG4gIFRleHRFZGl0Mi5yZXBsYWNlID0gcmVwbGFjZTtcclxuICBmdW5jdGlvbiBpbnNlcnQocG9zaXRpb24sIG5ld1RleHQpIHtcclxuICAgIHJldHVybiB7IHJhbmdlOiB7IHN0YXJ0OiBwb3NpdGlvbiwgZW5kOiBwb3NpdGlvbiB9LCBuZXdUZXh0IH07XHJcbiAgfVxyXG4gIFRleHRFZGl0Mi5pbnNlcnQgPSBpbnNlcnQ7XHJcbiAgZnVuY3Rpb24gZGVsKHJhbmdlKSB7XHJcbiAgICByZXR1cm4geyByYW5nZSwgbmV3VGV4dDogXCJcIiB9O1xyXG4gIH1cclxuICBUZXh0RWRpdDIuZGVsID0gZGVsO1xyXG4gIGZ1bmN0aW9uIGlzKHZhbHVlKSB7XHJcbiAgICBjb25zdCBjYW5kaWRhdGUgPSB2YWx1ZTtcclxuICAgIHJldHVybiBJcy5vYmplY3RMaXRlcmFsKGNhbmRpZGF0ZSkgJiYgSXMuc3RyaW5nKGNhbmRpZGF0ZS5uZXdUZXh0KSAmJiBSYW5nZS5pcyhjYW5kaWRhdGUucmFuZ2UpO1xyXG4gIH1cclxuICBUZXh0RWRpdDIuaXMgPSBpcztcclxufSkoVGV4dEVkaXQgfHwgKFRleHRFZGl0ID0ge30pKTtcclxudmFyIENoYW5nZUFubm90YXRpb247XHJcbihmdW5jdGlvbihDaGFuZ2VBbm5vdGF0aW9uMikge1xyXG4gIGZ1bmN0aW9uIGNyZWF0ZShsYWJlbCwgbmVlZHNDb25maXJtYXRpb24sIGRlc2NyaXB0aW9uKSB7XHJcbiAgICBjb25zdCByZXN1bHQgPSB7IGxhYmVsIH07XHJcbiAgICBpZiAobmVlZHNDb25maXJtYXRpb24gIT09IHZvaWQgMCkge1xyXG4gICAgICByZXN1bHQubmVlZHNDb25maXJtYXRpb24gPSBuZWVkc0NvbmZpcm1hdGlvbjtcclxuICAgIH1cclxuICAgIGlmIChkZXNjcmlwdGlvbiAhPT0gdm9pZCAwKSB7XHJcbiAgICAgIHJlc3VsdC5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9XHJcbiAgQ2hhbmdlQW5ub3RhdGlvbjIuY3JlYXRlID0gY3JlYXRlO1xyXG4gIGZ1bmN0aW9uIGlzKHZhbHVlKSB7XHJcbiAgICBjb25zdCBjYW5kaWRhdGUgPSB2YWx1ZTtcclxuICAgIHJldHVybiBJcy5vYmplY3RMaXRlcmFsKGNhbmRpZGF0ZSkgJiYgSXMuc3RyaW5nKGNhbmRpZGF0ZS5sYWJlbCkgJiYgKElzLmJvb2xlYW4oY2FuZGlkYXRlLm5lZWRzQ29uZmlybWF0aW9uKSB8fCBjYW5kaWRhdGUubmVlZHNDb25maXJtYXRpb24gPT09IHZvaWQgMCkgJiYgKElzLnN0cmluZyhjYW5kaWRhdGUuZGVzY3JpcHRpb24pIHx8IGNhbmRpZGF0ZS5kZXNjcmlwdGlvbiA9PT0gdm9pZCAwKTtcclxuICB9XHJcbiAgQ2hhbmdlQW5ub3RhdGlvbjIuaXMgPSBpcztcclxufSkoQ2hhbmdlQW5ub3RhdGlvbiB8fCAoQ2hhbmdlQW5ub3RhdGlvbiA9IHt9KSk7XHJcbnZhciBDaGFuZ2VBbm5vdGF0aW9uSWRlbnRpZmllcjtcclxuKGZ1bmN0aW9uKENoYW5nZUFubm90YXRpb25JZGVudGlmaWVyMikge1xyXG4gIGZ1bmN0aW9uIGlzKHZhbHVlKSB7XHJcbiAgICBjb25zdCBjYW5kaWRhdGUgPSB2YWx1ZTtcclxuICAgIHJldHVybiBJcy5zdHJpbmcoY2FuZGlkYXRlKTtcclxuICB9XHJcbiAgQ2hhbmdlQW5ub3RhdGlvbklkZW50aWZpZXIyLmlzID0gaXM7XHJcbn0pKENoYW5nZUFubm90YXRpb25JZGVudGlmaWVyIHx8IChDaGFuZ2VBbm5vdGF0aW9uSWRlbnRpZmllciA9IHt9KSk7XHJcbnZhciBBbm5vdGF0ZWRUZXh0RWRpdDtcclxuKGZ1bmN0aW9uKEFubm90YXRlZFRleHRFZGl0Mikge1xyXG4gIGZ1bmN0aW9uIHJlcGxhY2UocmFuZ2UsIG5ld1RleHQsIGFubm90YXRpb24pIHtcclxuICAgIHJldHVybiB7IHJhbmdlLCBuZXdUZXh0LCBhbm5vdGF0aW9uSWQ6IGFubm90YXRpb24gfTtcclxuICB9XHJcbiAgQW5ub3RhdGVkVGV4dEVkaXQyLnJlcGxhY2UgPSByZXBsYWNlO1xyXG4gIGZ1bmN0aW9uIGluc2VydChwb3NpdGlvbiwgbmV3VGV4dCwgYW5ub3RhdGlvbikge1xyXG4gICAgcmV0dXJuIHsgcmFuZ2U6IHsgc3RhcnQ6IHBvc2l0aW9uLCBlbmQ6IHBvc2l0aW9uIH0sIG5ld1RleHQsIGFubm90YXRpb25JZDogYW5ub3RhdGlvbiB9O1xyXG4gIH1cclxuICBBbm5vdGF0ZWRUZXh0RWRpdDIuaW5zZXJ0ID0gaW5zZXJ0O1xyXG4gIGZ1bmN0aW9uIGRlbChyYW5nZSwgYW5ub3RhdGlvbikge1xyXG4gICAgcmV0dXJuIHsgcmFuZ2UsIG5ld1RleHQ6IFwiXCIsIGFubm90YXRpb25JZDogYW5ub3RhdGlvbiB9O1xyXG4gIH1cclxuICBBbm5vdGF0ZWRUZXh0RWRpdDIuZGVsID0gZGVsO1xyXG4gIGZ1bmN0aW9uIGlzKHZhbHVlKSB7XHJcbiAgICBjb25zdCBjYW5kaWRhdGUgPSB2YWx1ZTtcclxuICAgIHJldHVybiBUZXh0RWRpdC5pcyhjYW5kaWRhdGUpICYmIChDaGFuZ2VBbm5vdGF0aW9uLmlzKGNhbmRpZGF0ZS5hbm5vdGF0aW9uSWQpIHx8IENoYW5nZUFubm90YXRpb25JZGVudGlmaWVyLmlzKGNhbmRpZGF0ZS5hbm5vdGF0aW9uSWQpKTtcclxuICB9XHJcbiAgQW5ub3RhdGVkVGV4dEVkaXQyLmlzID0gaXM7XHJcbn0pKEFubm90YXRlZFRleHRFZGl0IHx8IChBbm5vdGF0ZWRUZXh0RWRpdCA9IHt9KSk7XHJcbnZhciBUZXh0RG9jdW1lbnRFZGl0O1xyXG4oZnVuY3Rpb24oVGV4dERvY3VtZW50RWRpdDIpIHtcclxuICBmdW5jdGlvbiBjcmVhdGUodGV4dERvY3VtZW50LCBlZGl0cykge1xyXG4gICAgcmV0dXJuIHsgdGV4dERvY3VtZW50LCBlZGl0cyB9O1xyXG4gIH1cclxuICBUZXh0RG9jdW1lbnRFZGl0Mi5jcmVhdGUgPSBjcmVhdGU7XHJcbiAgZnVuY3Rpb24gaXModmFsdWUpIHtcclxuICAgIGxldCBjYW5kaWRhdGUgPSB2YWx1ZTtcclxuICAgIHJldHVybiBJcy5kZWZpbmVkKGNhbmRpZGF0ZSkgJiYgT3B0aW9uYWxWZXJzaW9uZWRUZXh0RG9jdW1lbnRJZGVudGlmaWVyLmlzKGNhbmRpZGF0ZS50ZXh0RG9jdW1lbnQpICYmIEFycmF5LmlzQXJyYXkoY2FuZGlkYXRlLmVkaXRzKTtcclxuICB9XHJcbiAgVGV4dERvY3VtZW50RWRpdDIuaXMgPSBpcztcclxufSkoVGV4dERvY3VtZW50RWRpdCB8fCAoVGV4dERvY3VtZW50RWRpdCA9IHt9KSk7XHJcbnZhciBDcmVhdGVGaWxlO1xyXG4oZnVuY3Rpb24oQ3JlYXRlRmlsZTIpIHtcclxuICBmdW5jdGlvbiBjcmVhdGUodXJpLCBvcHRpb25zLCBhbm5vdGF0aW9uKSB7XHJcbiAgICBsZXQgcmVzdWx0ID0ge1xyXG4gICAgICBraW5kOiBcImNyZWF0ZVwiLFxyXG4gICAgICB1cmlcclxuICAgIH07XHJcbiAgICBpZiAob3B0aW9ucyAhPT0gdm9pZCAwICYmIChvcHRpb25zLm92ZXJ3cml0ZSAhPT0gdm9pZCAwIHx8IG9wdGlvbnMuaWdub3JlSWZFeGlzdHMgIT09IHZvaWQgMCkpIHtcclxuICAgICAgcmVzdWx0Lm9wdGlvbnMgPSBvcHRpb25zO1xyXG4gICAgfVxyXG4gICAgaWYgKGFubm90YXRpb24gIT09IHZvaWQgMCkge1xyXG4gICAgICByZXN1bHQuYW5ub3RhdGlvbklkID0gYW5ub3RhdGlvbjtcclxuICAgIH1cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfVxyXG4gIENyZWF0ZUZpbGUyLmNyZWF0ZSA9IGNyZWF0ZTtcclxuICBmdW5jdGlvbiBpcyh2YWx1ZSkge1xyXG4gICAgbGV0IGNhbmRpZGF0ZSA9IHZhbHVlO1xyXG4gICAgcmV0dXJuIGNhbmRpZGF0ZSAmJiBjYW5kaWRhdGUua2luZCA9PT0gXCJjcmVhdGVcIiAmJiBJcy5zdHJpbmcoY2FuZGlkYXRlLnVyaSkgJiYgKGNhbmRpZGF0ZS5vcHRpb25zID09PSB2b2lkIDAgfHwgKGNhbmRpZGF0ZS5vcHRpb25zLm92ZXJ3cml0ZSA9PT0gdm9pZCAwIHx8IElzLmJvb2xlYW4oY2FuZGlkYXRlLm9wdGlvbnMub3ZlcndyaXRlKSkgJiYgKGNhbmRpZGF0ZS5vcHRpb25zLmlnbm9yZUlmRXhpc3RzID09PSB2b2lkIDAgfHwgSXMuYm9vbGVhbihjYW5kaWRhdGUub3B0aW9ucy5pZ25vcmVJZkV4aXN0cykpKSAmJiAoY2FuZGlkYXRlLmFubm90YXRpb25JZCA9PT0gdm9pZCAwIHx8IENoYW5nZUFubm90YXRpb25JZGVudGlmaWVyLmlzKGNhbmRpZGF0ZS5hbm5vdGF0aW9uSWQpKTtcclxuICB9XHJcbiAgQ3JlYXRlRmlsZTIuaXMgPSBpcztcclxufSkoQ3JlYXRlRmlsZSB8fCAoQ3JlYXRlRmlsZSA9IHt9KSk7XHJcbnZhciBSZW5hbWVGaWxlO1xyXG4oZnVuY3Rpb24oUmVuYW1lRmlsZTIpIHtcclxuICBmdW5jdGlvbiBjcmVhdGUob2xkVXJpLCBuZXdVcmksIG9wdGlvbnMsIGFubm90YXRpb24pIHtcclxuICAgIGxldCByZXN1bHQgPSB7XHJcbiAgICAgIGtpbmQ6IFwicmVuYW1lXCIsXHJcbiAgICAgIG9sZFVyaSxcclxuICAgICAgbmV3VXJpXHJcbiAgICB9O1xyXG4gICAgaWYgKG9wdGlvbnMgIT09IHZvaWQgMCAmJiAob3B0aW9ucy5vdmVyd3JpdGUgIT09IHZvaWQgMCB8fCBvcHRpb25zLmlnbm9yZUlmRXhpc3RzICE9PSB2b2lkIDApKSB7XHJcbiAgICAgIHJlc3VsdC5vcHRpb25zID0gb3B0aW9ucztcclxuICAgIH1cclxuICAgIGlmIChhbm5vdGF0aW9uICE9PSB2b2lkIDApIHtcclxuICAgICAgcmVzdWx0LmFubm90YXRpb25JZCA9IGFubm90YXRpb247XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG4gIH1cclxuICBSZW5hbWVGaWxlMi5jcmVhdGUgPSBjcmVhdGU7XHJcbiAgZnVuY3Rpb24gaXModmFsdWUpIHtcclxuICAgIGxldCBjYW5kaWRhdGUgPSB2YWx1ZTtcclxuICAgIHJldHVybiBjYW5kaWRhdGUgJiYgY2FuZGlkYXRlLmtpbmQgPT09IFwicmVuYW1lXCIgJiYgSXMuc3RyaW5nKGNhbmRpZGF0ZS5vbGRVcmkpICYmIElzLnN0cmluZyhjYW5kaWRhdGUubmV3VXJpKSAmJiAoY2FuZGlkYXRlLm9wdGlvbnMgPT09IHZvaWQgMCB8fCAoY2FuZGlkYXRlLm9wdGlvbnMub3ZlcndyaXRlID09PSB2b2lkIDAgfHwgSXMuYm9vbGVhbihjYW5kaWRhdGUub3B0aW9ucy5vdmVyd3JpdGUpKSAmJiAoY2FuZGlkYXRlLm9wdGlvbnMuaWdub3JlSWZFeGlzdHMgPT09IHZvaWQgMCB8fCBJcy5ib29sZWFuKGNhbmRpZGF0ZS5vcHRpb25zLmlnbm9yZUlmRXhpc3RzKSkpICYmIChjYW5kaWRhdGUuYW5ub3RhdGlvbklkID09PSB2b2lkIDAgfHwgQ2hhbmdlQW5ub3RhdGlvbklkZW50aWZpZXIuaXMoY2FuZGlkYXRlLmFubm90YXRpb25JZCkpO1xyXG4gIH1cclxuICBSZW5hbWVGaWxlMi5pcyA9IGlzO1xyXG59KShSZW5hbWVGaWxlIHx8IChSZW5hbWVGaWxlID0ge30pKTtcclxudmFyIERlbGV0ZUZpbGU7XHJcbihmdW5jdGlvbihEZWxldGVGaWxlMikge1xyXG4gIGZ1bmN0aW9uIGNyZWF0ZSh1cmksIG9wdGlvbnMsIGFubm90YXRpb24pIHtcclxuICAgIGxldCByZXN1bHQgPSB7XHJcbiAgICAgIGtpbmQ6IFwiZGVsZXRlXCIsXHJcbiAgICAgIHVyaVxyXG4gICAgfTtcclxuICAgIGlmIChvcHRpb25zICE9PSB2b2lkIDAgJiYgKG9wdGlvbnMucmVjdXJzaXZlICE9PSB2b2lkIDAgfHwgb3B0aW9ucy5pZ25vcmVJZk5vdEV4aXN0cyAhPT0gdm9pZCAwKSkge1xyXG4gICAgICByZXN1bHQub3B0aW9ucyA9IG9wdGlvbnM7XHJcbiAgICB9XHJcbiAgICBpZiAoYW5ub3RhdGlvbiAhPT0gdm9pZCAwKSB7XHJcbiAgICAgIHJlc3VsdC5hbm5vdGF0aW9uSWQgPSBhbm5vdGF0aW9uO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9XHJcbiAgRGVsZXRlRmlsZTIuY3JlYXRlID0gY3JlYXRlO1xyXG4gIGZ1bmN0aW9uIGlzKHZhbHVlKSB7XHJcbiAgICBsZXQgY2FuZGlkYXRlID0gdmFsdWU7XHJcbiAgICByZXR1cm4gY2FuZGlkYXRlICYmIGNhbmRpZGF0ZS5raW5kID09PSBcImRlbGV0ZVwiICYmIElzLnN0cmluZyhjYW5kaWRhdGUudXJpKSAmJiAoY2FuZGlkYXRlLm9wdGlvbnMgPT09IHZvaWQgMCB8fCAoY2FuZGlkYXRlLm9wdGlvbnMucmVjdXJzaXZlID09PSB2b2lkIDAgfHwgSXMuYm9vbGVhbihjYW5kaWRhdGUub3B0aW9ucy5yZWN1cnNpdmUpKSAmJiAoY2FuZGlkYXRlLm9wdGlvbnMuaWdub3JlSWZOb3RFeGlzdHMgPT09IHZvaWQgMCB8fCBJcy5ib29sZWFuKGNhbmRpZGF0ZS5vcHRpb25zLmlnbm9yZUlmTm90RXhpc3RzKSkpICYmIChjYW5kaWRhdGUuYW5ub3RhdGlvbklkID09PSB2b2lkIDAgfHwgQ2hhbmdlQW5ub3RhdGlvbklkZW50aWZpZXIuaXMoY2FuZGlkYXRlLmFubm90YXRpb25JZCkpO1xyXG4gIH1cclxuICBEZWxldGVGaWxlMi5pcyA9IGlzO1xyXG59KShEZWxldGVGaWxlIHx8IChEZWxldGVGaWxlID0ge30pKTtcclxudmFyIFdvcmtzcGFjZUVkaXQ7XHJcbihmdW5jdGlvbihXb3Jrc3BhY2VFZGl0Mikge1xyXG4gIGZ1bmN0aW9uIGlzKHZhbHVlKSB7XHJcbiAgICBsZXQgY2FuZGlkYXRlID0gdmFsdWU7XHJcbiAgICByZXR1cm4gY2FuZGlkYXRlICYmIChjYW5kaWRhdGUuY2hhbmdlcyAhPT0gdm9pZCAwIHx8IGNhbmRpZGF0ZS5kb2N1bWVudENoYW5nZXMgIT09IHZvaWQgMCkgJiYgKGNhbmRpZGF0ZS5kb2N1bWVudENoYW5nZXMgPT09IHZvaWQgMCB8fCBjYW5kaWRhdGUuZG9jdW1lbnRDaGFuZ2VzLmV2ZXJ5KChjaGFuZ2UpID0+IHtcclxuICAgICAgaWYgKElzLnN0cmluZyhjaGFuZ2Uua2luZCkpIHtcclxuICAgICAgICByZXR1cm4gQ3JlYXRlRmlsZS5pcyhjaGFuZ2UpIHx8IFJlbmFtZUZpbGUuaXMoY2hhbmdlKSB8fCBEZWxldGVGaWxlLmlzKGNoYW5nZSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIFRleHREb2N1bWVudEVkaXQuaXMoY2hhbmdlKTtcclxuICAgICAgfVxyXG4gICAgfSkpO1xyXG4gIH1cclxuICBXb3Jrc3BhY2VFZGl0Mi5pcyA9IGlzO1xyXG59KShXb3Jrc3BhY2VFZGl0IHx8IChXb3Jrc3BhY2VFZGl0ID0ge30pKTtcclxudmFyIFRleHREb2N1bWVudElkZW50aWZpZXI7XHJcbihmdW5jdGlvbihUZXh0RG9jdW1lbnRJZGVudGlmaWVyMikge1xyXG4gIGZ1bmN0aW9uIGNyZWF0ZSh1cmkpIHtcclxuICAgIHJldHVybiB7IHVyaSB9O1xyXG4gIH1cclxuICBUZXh0RG9jdW1lbnRJZGVudGlmaWVyMi5jcmVhdGUgPSBjcmVhdGU7XHJcbiAgZnVuY3Rpb24gaXModmFsdWUpIHtcclxuICAgIGxldCBjYW5kaWRhdGUgPSB2YWx1ZTtcclxuICAgIHJldHVybiBJcy5kZWZpbmVkKGNhbmRpZGF0ZSkgJiYgSXMuc3RyaW5nKGNhbmRpZGF0ZS51cmkpO1xyXG4gIH1cclxuICBUZXh0RG9jdW1lbnRJZGVudGlmaWVyMi5pcyA9IGlzO1xyXG59KShUZXh0RG9jdW1lbnRJZGVudGlmaWVyIHx8IChUZXh0RG9jdW1lbnRJZGVudGlmaWVyID0ge30pKTtcclxudmFyIFZlcnNpb25lZFRleHREb2N1bWVudElkZW50aWZpZXI7XHJcbihmdW5jdGlvbihWZXJzaW9uZWRUZXh0RG9jdW1lbnRJZGVudGlmaWVyMikge1xyXG4gIGZ1bmN0aW9uIGNyZWF0ZSh1cmksIHZlcnNpb24pIHtcclxuICAgIHJldHVybiB7IHVyaSwgdmVyc2lvbiB9O1xyXG4gIH1cclxuICBWZXJzaW9uZWRUZXh0RG9jdW1lbnRJZGVudGlmaWVyMi5jcmVhdGUgPSBjcmVhdGU7XHJcbiAgZnVuY3Rpb24gaXModmFsdWUpIHtcclxuICAgIGxldCBjYW5kaWRhdGUgPSB2YWx1ZTtcclxuICAgIHJldHVybiBJcy5kZWZpbmVkKGNhbmRpZGF0ZSkgJiYgSXMuc3RyaW5nKGNhbmRpZGF0ZS51cmkpICYmIElzLmludGVnZXIoY2FuZGlkYXRlLnZlcnNpb24pO1xyXG4gIH1cclxuICBWZXJzaW9uZWRUZXh0RG9jdW1lbnRJZGVudGlmaWVyMi5pcyA9IGlzO1xyXG59KShWZXJzaW9uZWRUZXh0RG9jdW1lbnRJZGVudGlmaWVyIHx8IChWZXJzaW9uZWRUZXh0RG9jdW1lbnRJZGVudGlmaWVyID0ge30pKTtcclxudmFyIE9wdGlvbmFsVmVyc2lvbmVkVGV4dERvY3VtZW50SWRlbnRpZmllcjtcclxuKGZ1bmN0aW9uKE9wdGlvbmFsVmVyc2lvbmVkVGV4dERvY3VtZW50SWRlbnRpZmllcjIpIHtcclxuICBmdW5jdGlvbiBjcmVhdGUodXJpLCB2ZXJzaW9uKSB7XHJcbiAgICByZXR1cm4geyB1cmksIHZlcnNpb24gfTtcclxuICB9XHJcbiAgT3B0aW9uYWxWZXJzaW9uZWRUZXh0RG9jdW1lbnRJZGVudGlmaWVyMi5jcmVhdGUgPSBjcmVhdGU7XHJcbiAgZnVuY3Rpb24gaXModmFsdWUpIHtcclxuICAgIGxldCBjYW5kaWRhdGUgPSB2YWx1ZTtcclxuICAgIHJldHVybiBJcy5kZWZpbmVkKGNhbmRpZGF0ZSkgJiYgSXMuc3RyaW5nKGNhbmRpZGF0ZS51cmkpICYmIChjYW5kaWRhdGUudmVyc2lvbiA9PT0gbnVsbCB8fCBJcy5pbnRlZ2VyKGNhbmRpZGF0ZS52ZXJzaW9uKSk7XHJcbiAgfVxyXG4gIE9wdGlvbmFsVmVyc2lvbmVkVGV4dERvY3VtZW50SWRlbnRpZmllcjIuaXMgPSBpcztcclxufSkoT3B0aW9uYWxWZXJzaW9uZWRUZXh0RG9jdW1lbnRJZGVudGlmaWVyIHx8IChPcHRpb25hbFZlcnNpb25lZFRleHREb2N1bWVudElkZW50aWZpZXIgPSB7fSkpO1xyXG52YXIgVGV4dERvY3VtZW50SXRlbTtcclxuKGZ1bmN0aW9uKFRleHREb2N1bWVudEl0ZW0yKSB7XHJcbiAgZnVuY3Rpb24gY3JlYXRlKHVyaSwgbGFuZ3VhZ2VJZCwgdmVyc2lvbiwgdGV4dCkge1xyXG4gICAgcmV0dXJuIHsgdXJpLCBsYW5ndWFnZUlkLCB2ZXJzaW9uLCB0ZXh0IH07XHJcbiAgfVxyXG4gIFRleHREb2N1bWVudEl0ZW0yLmNyZWF0ZSA9IGNyZWF0ZTtcclxuICBmdW5jdGlvbiBpcyh2YWx1ZSkge1xyXG4gICAgbGV0IGNhbmRpZGF0ZSA9IHZhbHVlO1xyXG4gICAgcmV0dXJuIElzLmRlZmluZWQoY2FuZGlkYXRlKSAmJiBJcy5zdHJpbmcoY2FuZGlkYXRlLnVyaSkgJiYgSXMuc3RyaW5nKGNhbmRpZGF0ZS5sYW5ndWFnZUlkKSAmJiBJcy5pbnRlZ2VyKGNhbmRpZGF0ZS52ZXJzaW9uKSAmJiBJcy5zdHJpbmcoY2FuZGlkYXRlLnRleHQpO1xyXG4gIH1cclxuICBUZXh0RG9jdW1lbnRJdGVtMi5pcyA9IGlzO1xyXG59KShUZXh0RG9jdW1lbnRJdGVtIHx8IChUZXh0RG9jdW1lbnRJdGVtID0ge30pKTtcclxudmFyIE1hcmt1cEtpbmQ7XHJcbihmdW5jdGlvbihNYXJrdXBLaW5kMikge1xyXG4gIE1hcmt1cEtpbmQyLlBsYWluVGV4dCA9IFwicGxhaW50ZXh0XCI7XHJcbiAgTWFya3VwS2luZDIuTWFya2Rvd24gPSBcIm1hcmtkb3duXCI7XHJcbiAgZnVuY3Rpb24gaXModmFsdWUpIHtcclxuICAgIGNvbnN0IGNhbmRpZGF0ZSA9IHZhbHVlO1xyXG4gICAgcmV0dXJuIGNhbmRpZGF0ZSA9PT0gTWFya3VwS2luZDIuUGxhaW5UZXh0IHx8IGNhbmRpZGF0ZSA9PT0gTWFya3VwS2luZDIuTWFya2Rvd247XHJcbiAgfVxyXG4gIE1hcmt1cEtpbmQyLmlzID0gaXM7XHJcbn0pKE1hcmt1cEtpbmQgfHwgKE1hcmt1cEtpbmQgPSB7fSkpO1xyXG52YXIgTWFya3VwQ29udGVudDtcclxuKGZ1bmN0aW9uKE1hcmt1cENvbnRlbnQyKSB7XHJcbiAgZnVuY3Rpb24gaXModmFsdWUpIHtcclxuICAgIGNvbnN0IGNhbmRpZGF0ZSA9IHZhbHVlO1xyXG4gICAgcmV0dXJuIElzLm9iamVjdExpdGVyYWwodmFsdWUpICYmIE1hcmt1cEtpbmQuaXMoY2FuZGlkYXRlLmtpbmQpICYmIElzLnN0cmluZyhjYW5kaWRhdGUudmFsdWUpO1xyXG4gIH1cclxuICBNYXJrdXBDb250ZW50Mi5pcyA9IGlzO1xyXG59KShNYXJrdXBDb250ZW50IHx8IChNYXJrdXBDb250ZW50ID0ge30pKTtcclxudmFyIENvbXBsZXRpb25JdGVtS2luZDtcclxuKGZ1bmN0aW9uKENvbXBsZXRpb25JdGVtS2luZDIpIHtcclxuICBDb21wbGV0aW9uSXRlbUtpbmQyLlRleHQgPSAxO1xyXG4gIENvbXBsZXRpb25JdGVtS2luZDIuTWV0aG9kID0gMjtcclxuICBDb21wbGV0aW9uSXRlbUtpbmQyLkZ1bmN0aW9uID0gMztcclxuICBDb21wbGV0aW9uSXRlbUtpbmQyLkNvbnN0cnVjdG9yID0gNDtcclxuICBDb21wbGV0aW9uSXRlbUtpbmQyLkZpZWxkID0gNTtcclxuICBDb21wbGV0aW9uSXRlbUtpbmQyLlZhcmlhYmxlID0gNjtcclxuICBDb21wbGV0aW9uSXRlbUtpbmQyLkNsYXNzID0gNztcclxuICBDb21wbGV0aW9uSXRlbUtpbmQyLkludGVyZmFjZSA9IDg7XHJcbiAgQ29tcGxldGlvbkl0ZW1LaW5kMi5Nb2R1bGUgPSA5O1xyXG4gIENvbXBsZXRpb25JdGVtS2luZDIuUHJvcGVydHkgPSAxMDtcclxuICBDb21wbGV0aW9uSXRlbUtpbmQyLlVuaXQgPSAxMTtcclxuICBDb21wbGV0aW9uSXRlbUtpbmQyLlZhbHVlID0gMTI7XHJcbiAgQ29tcGxldGlvbkl0ZW1LaW5kMi5FbnVtID0gMTM7XHJcbiAgQ29tcGxldGlvbkl0ZW1LaW5kMi5LZXl3b3JkID0gMTQ7XHJcbiAgQ29tcGxldGlvbkl0ZW1LaW5kMi5TbmlwcGV0ID0gMTU7XHJcbiAgQ29tcGxldGlvbkl0ZW1LaW5kMi5Db2xvciA9IDE2O1xyXG4gIENvbXBsZXRpb25JdGVtS2luZDIuRmlsZSA9IDE3O1xyXG4gIENvbXBsZXRpb25JdGVtS2luZDIuUmVmZXJlbmNlID0gMTg7XHJcbiAgQ29tcGxldGlvbkl0ZW1LaW5kMi5Gb2xkZXIgPSAxOTtcclxuICBDb21wbGV0aW9uSXRlbUtpbmQyLkVudW1NZW1iZXIgPSAyMDtcclxuICBDb21wbGV0aW9uSXRlbUtpbmQyLkNvbnN0YW50ID0gMjE7XHJcbiAgQ29tcGxldGlvbkl0ZW1LaW5kMi5TdHJ1Y3QgPSAyMjtcclxuICBDb21wbGV0aW9uSXRlbUtpbmQyLkV2ZW50ID0gMjM7XHJcbiAgQ29tcGxldGlvbkl0ZW1LaW5kMi5PcGVyYXRvciA9IDI0O1xyXG4gIENvbXBsZXRpb25JdGVtS2luZDIuVHlwZVBhcmFtZXRlciA9IDI1O1xyXG59KShDb21wbGV0aW9uSXRlbUtpbmQgfHwgKENvbXBsZXRpb25JdGVtS2luZCA9IHt9KSk7XHJcbnZhciBJbnNlcnRUZXh0Rm9ybWF0O1xyXG4oZnVuY3Rpb24oSW5zZXJ0VGV4dEZvcm1hdDIpIHtcclxuICBJbnNlcnRUZXh0Rm9ybWF0Mi5QbGFpblRleHQgPSAxO1xyXG4gIEluc2VydFRleHRGb3JtYXQyLlNuaXBwZXQgPSAyO1xyXG59KShJbnNlcnRUZXh0Rm9ybWF0IHx8IChJbnNlcnRUZXh0Rm9ybWF0ID0ge30pKTtcclxudmFyIENvbXBsZXRpb25JdGVtVGFnO1xyXG4oZnVuY3Rpb24oQ29tcGxldGlvbkl0ZW1UYWcyKSB7XHJcbiAgQ29tcGxldGlvbkl0ZW1UYWcyLkRlcHJlY2F0ZWQgPSAxO1xyXG59KShDb21wbGV0aW9uSXRlbVRhZyB8fCAoQ29tcGxldGlvbkl0ZW1UYWcgPSB7fSkpO1xyXG52YXIgSW5zZXJ0UmVwbGFjZUVkaXQ7XHJcbihmdW5jdGlvbihJbnNlcnRSZXBsYWNlRWRpdDIpIHtcclxuICBmdW5jdGlvbiBjcmVhdGUobmV3VGV4dCwgaW5zZXJ0LCByZXBsYWNlKSB7XHJcbiAgICByZXR1cm4geyBuZXdUZXh0LCBpbnNlcnQsIHJlcGxhY2UgfTtcclxuICB9XHJcbiAgSW5zZXJ0UmVwbGFjZUVkaXQyLmNyZWF0ZSA9IGNyZWF0ZTtcclxuICBmdW5jdGlvbiBpcyh2YWx1ZSkge1xyXG4gICAgY29uc3QgY2FuZGlkYXRlID0gdmFsdWU7XHJcbiAgICByZXR1cm4gY2FuZGlkYXRlICYmIElzLnN0cmluZyhjYW5kaWRhdGUubmV3VGV4dCkgJiYgUmFuZ2UuaXMoY2FuZGlkYXRlLmluc2VydCkgJiYgUmFuZ2UuaXMoY2FuZGlkYXRlLnJlcGxhY2UpO1xyXG4gIH1cclxuICBJbnNlcnRSZXBsYWNlRWRpdDIuaXMgPSBpcztcclxufSkoSW5zZXJ0UmVwbGFjZUVkaXQgfHwgKEluc2VydFJlcGxhY2VFZGl0ID0ge30pKTtcclxudmFyIEluc2VydFRleHRNb2RlO1xyXG4oZnVuY3Rpb24oSW5zZXJ0VGV4dE1vZGUyKSB7XHJcbiAgSW5zZXJ0VGV4dE1vZGUyLmFzSXMgPSAxO1xyXG4gIEluc2VydFRleHRNb2RlMi5hZGp1c3RJbmRlbnRhdGlvbiA9IDI7XHJcbn0pKEluc2VydFRleHRNb2RlIHx8IChJbnNlcnRUZXh0TW9kZSA9IHt9KSk7XHJcbnZhciBDb21wbGV0aW9uSXRlbUxhYmVsRGV0YWlscztcclxuKGZ1bmN0aW9uKENvbXBsZXRpb25JdGVtTGFiZWxEZXRhaWxzMikge1xyXG4gIGZ1bmN0aW9uIGlzKHZhbHVlKSB7XHJcbiAgICBjb25zdCBjYW5kaWRhdGUgPSB2YWx1ZTtcclxuICAgIHJldHVybiBjYW5kaWRhdGUgJiYgKElzLnN0cmluZyhjYW5kaWRhdGUuZGV0YWlsKSB8fCBjYW5kaWRhdGUuZGV0YWlsID09PSB2b2lkIDApICYmIChJcy5zdHJpbmcoY2FuZGlkYXRlLmRlc2NyaXB0aW9uKSB8fCBjYW5kaWRhdGUuZGVzY3JpcHRpb24gPT09IHZvaWQgMCk7XHJcbiAgfVxyXG4gIENvbXBsZXRpb25JdGVtTGFiZWxEZXRhaWxzMi5pcyA9IGlzO1xyXG59KShDb21wbGV0aW9uSXRlbUxhYmVsRGV0YWlscyB8fCAoQ29tcGxldGlvbkl0ZW1MYWJlbERldGFpbHMgPSB7fSkpO1xyXG52YXIgQ29tcGxldGlvbkl0ZW07XHJcbihmdW5jdGlvbihDb21wbGV0aW9uSXRlbTIpIHtcclxuICBmdW5jdGlvbiBjcmVhdGUobGFiZWwpIHtcclxuICAgIHJldHVybiB7IGxhYmVsIH07XHJcbiAgfVxyXG4gIENvbXBsZXRpb25JdGVtMi5jcmVhdGUgPSBjcmVhdGU7XHJcbn0pKENvbXBsZXRpb25JdGVtIHx8IChDb21wbGV0aW9uSXRlbSA9IHt9KSk7XHJcbnZhciBDb21wbGV0aW9uTGlzdDtcclxuKGZ1bmN0aW9uKENvbXBsZXRpb25MaXN0Mikge1xyXG4gIGZ1bmN0aW9uIGNyZWF0ZShpdGVtcywgaXNJbmNvbXBsZXRlKSB7XHJcbiAgICByZXR1cm4geyBpdGVtczogaXRlbXMgPyBpdGVtcyA6IFtdLCBpc0luY29tcGxldGU6ICEhaXNJbmNvbXBsZXRlIH07XHJcbiAgfVxyXG4gIENvbXBsZXRpb25MaXN0Mi5jcmVhdGUgPSBjcmVhdGU7XHJcbn0pKENvbXBsZXRpb25MaXN0IHx8IChDb21wbGV0aW9uTGlzdCA9IHt9KSk7XHJcbnZhciBNYXJrZWRTdHJpbmc7XHJcbihmdW5jdGlvbihNYXJrZWRTdHJpbmcyKSB7XHJcbiAgZnVuY3Rpb24gZnJvbVBsYWluVGV4dChwbGFpblRleHQpIHtcclxuICAgIHJldHVybiBwbGFpblRleHQucmVwbGFjZSgvW1xcXFxgKl97fVtcXF0oKSMrXFwtLiFdL2csIFwiXFxcXCQmXCIpO1xyXG4gIH1cclxuICBNYXJrZWRTdHJpbmcyLmZyb21QbGFpblRleHQgPSBmcm9tUGxhaW5UZXh0O1xyXG4gIGZ1bmN0aW9uIGlzKHZhbHVlKSB7XHJcbiAgICBjb25zdCBjYW5kaWRhdGUgPSB2YWx1ZTtcclxuICAgIHJldHVybiBJcy5zdHJpbmcoY2FuZGlkYXRlKSB8fCBJcy5vYmplY3RMaXRlcmFsKGNhbmRpZGF0ZSkgJiYgSXMuc3RyaW5nKGNhbmRpZGF0ZS5sYW5ndWFnZSkgJiYgSXMuc3RyaW5nKGNhbmRpZGF0ZS52YWx1ZSk7XHJcbiAgfVxyXG4gIE1hcmtlZFN0cmluZzIuaXMgPSBpcztcclxufSkoTWFya2VkU3RyaW5nIHx8IChNYXJrZWRTdHJpbmcgPSB7fSkpO1xyXG52YXIgSG92ZXI7XHJcbihmdW5jdGlvbihIb3ZlcjIpIHtcclxuICBmdW5jdGlvbiBpcyh2YWx1ZSkge1xyXG4gICAgbGV0IGNhbmRpZGF0ZSA9IHZhbHVlO1xyXG4gICAgcmV0dXJuICEhY2FuZGlkYXRlICYmIElzLm9iamVjdExpdGVyYWwoY2FuZGlkYXRlKSAmJiAoTWFya3VwQ29udGVudC5pcyhjYW5kaWRhdGUuY29udGVudHMpIHx8IE1hcmtlZFN0cmluZy5pcyhjYW5kaWRhdGUuY29udGVudHMpIHx8IElzLnR5cGVkQXJyYXkoY2FuZGlkYXRlLmNvbnRlbnRzLCBNYXJrZWRTdHJpbmcuaXMpKSAmJiAodmFsdWUucmFuZ2UgPT09IHZvaWQgMCB8fCBSYW5nZS5pcyh2YWx1ZS5yYW5nZSkpO1xyXG4gIH1cclxuICBIb3ZlcjIuaXMgPSBpcztcclxufSkoSG92ZXIgfHwgKEhvdmVyID0ge30pKTtcclxudmFyIFBhcmFtZXRlckluZm9ybWF0aW9uO1xyXG4oZnVuY3Rpb24oUGFyYW1ldGVySW5mb3JtYXRpb24yKSB7XHJcbiAgZnVuY3Rpb24gY3JlYXRlKGxhYmVsLCBkb2N1bWVudGF0aW9uKSB7XHJcbiAgICByZXR1cm4gZG9jdW1lbnRhdGlvbiA/IHsgbGFiZWwsIGRvY3VtZW50YXRpb24gfSA6IHsgbGFiZWwgfTtcclxuICB9XHJcbiAgUGFyYW1ldGVySW5mb3JtYXRpb24yLmNyZWF0ZSA9IGNyZWF0ZTtcclxufSkoUGFyYW1ldGVySW5mb3JtYXRpb24gfHwgKFBhcmFtZXRlckluZm9ybWF0aW9uID0ge30pKTtcclxudmFyIFNpZ25hdHVyZUluZm9ybWF0aW9uO1xyXG4oZnVuY3Rpb24oU2lnbmF0dXJlSW5mb3JtYXRpb24yKSB7XHJcbiAgZnVuY3Rpb24gY3JlYXRlKGxhYmVsLCBkb2N1bWVudGF0aW9uLCAuLi5wYXJhbWV0ZXJzKSB7XHJcbiAgICBsZXQgcmVzdWx0ID0geyBsYWJlbCB9O1xyXG4gICAgaWYgKElzLmRlZmluZWQoZG9jdW1lbnRhdGlvbikpIHtcclxuICAgICAgcmVzdWx0LmRvY3VtZW50YXRpb24gPSBkb2N1bWVudGF0aW9uO1xyXG4gICAgfVxyXG4gICAgaWYgKElzLmRlZmluZWQocGFyYW1ldGVycykpIHtcclxuICAgICAgcmVzdWx0LnBhcmFtZXRlcnMgPSBwYXJhbWV0ZXJzO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmVzdWx0LnBhcmFtZXRlcnMgPSBbXTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfVxyXG4gIFNpZ25hdHVyZUluZm9ybWF0aW9uMi5jcmVhdGUgPSBjcmVhdGU7XHJcbn0pKFNpZ25hdHVyZUluZm9ybWF0aW9uIHx8IChTaWduYXR1cmVJbmZvcm1hdGlvbiA9IHt9KSk7XHJcbnZhciBEb2N1bWVudEhpZ2hsaWdodEtpbmQ7XHJcbihmdW5jdGlvbihEb2N1bWVudEhpZ2hsaWdodEtpbmQyKSB7XHJcbiAgRG9jdW1lbnRIaWdobGlnaHRLaW5kMi5UZXh0ID0gMTtcclxuICBEb2N1bWVudEhpZ2hsaWdodEtpbmQyLlJlYWQgPSAyO1xyXG4gIERvY3VtZW50SGlnaGxpZ2h0S2luZDIuV3JpdGUgPSAzO1xyXG59KShEb2N1bWVudEhpZ2hsaWdodEtpbmQgfHwgKERvY3VtZW50SGlnaGxpZ2h0S2luZCA9IHt9KSk7XHJcbnZhciBEb2N1bWVudEhpZ2hsaWdodDtcclxuKGZ1bmN0aW9uKERvY3VtZW50SGlnaGxpZ2h0Mikge1xyXG4gIGZ1bmN0aW9uIGNyZWF0ZShyYW5nZSwga2luZCkge1xyXG4gICAgbGV0IHJlc3VsdCA9IHsgcmFuZ2UgfTtcclxuICAgIGlmIChJcy5udW1iZXIoa2luZCkpIHtcclxuICAgICAgcmVzdWx0LmtpbmQgPSBraW5kO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9XHJcbiAgRG9jdW1lbnRIaWdobGlnaHQyLmNyZWF0ZSA9IGNyZWF0ZTtcclxufSkoRG9jdW1lbnRIaWdobGlnaHQgfHwgKERvY3VtZW50SGlnaGxpZ2h0ID0ge30pKTtcclxudmFyIFN5bWJvbEtpbmQ7XHJcbihmdW5jdGlvbihTeW1ib2xLaW5kMikge1xyXG4gIFN5bWJvbEtpbmQyLkZpbGUgPSAxO1xyXG4gIFN5bWJvbEtpbmQyLk1vZHVsZSA9IDI7XHJcbiAgU3ltYm9sS2luZDIuTmFtZXNwYWNlID0gMztcclxuICBTeW1ib2xLaW5kMi5QYWNrYWdlID0gNDtcclxuICBTeW1ib2xLaW5kMi5DbGFzcyA9IDU7XHJcbiAgU3ltYm9sS2luZDIuTWV0aG9kID0gNjtcclxuICBTeW1ib2xLaW5kMi5Qcm9wZXJ0eSA9IDc7XHJcbiAgU3ltYm9sS2luZDIuRmllbGQgPSA4O1xyXG4gIFN5bWJvbEtpbmQyLkNvbnN0cnVjdG9yID0gOTtcclxuICBTeW1ib2xLaW5kMi5FbnVtID0gMTA7XHJcbiAgU3ltYm9sS2luZDIuSW50ZXJmYWNlID0gMTE7XHJcbiAgU3ltYm9sS2luZDIuRnVuY3Rpb24gPSAxMjtcclxuICBTeW1ib2xLaW5kMi5WYXJpYWJsZSA9IDEzO1xyXG4gIFN5bWJvbEtpbmQyLkNvbnN0YW50ID0gMTQ7XHJcbiAgU3ltYm9sS2luZDIuU3RyaW5nID0gMTU7XHJcbiAgU3ltYm9sS2luZDIuTnVtYmVyID0gMTY7XHJcbiAgU3ltYm9sS2luZDIuQm9vbGVhbiA9IDE3O1xyXG4gIFN5bWJvbEtpbmQyLkFycmF5ID0gMTg7XHJcbiAgU3ltYm9sS2luZDIuT2JqZWN0ID0gMTk7XHJcbiAgU3ltYm9sS2luZDIuS2V5ID0gMjA7XHJcbiAgU3ltYm9sS2luZDIuTnVsbCA9IDIxO1xyXG4gIFN5bWJvbEtpbmQyLkVudW1NZW1iZXIgPSAyMjtcclxuICBTeW1ib2xLaW5kMi5TdHJ1Y3QgPSAyMztcclxuICBTeW1ib2xLaW5kMi5FdmVudCA9IDI0O1xyXG4gIFN5bWJvbEtpbmQyLk9wZXJhdG9yID0gMjU7XHJcbiAgU3ltYm9sS2luZDIuVHlwZVBhcmFtZXRlciA9IDI2O1xyXG59KShTeW1ib2xLaW5kIHx8IChTeW1ib2xLaW5kID0ge30pKTtcclxudmFyIFN5bWJvbFRhZztcclxuKGZ1bmN0aW9uKFN5bWJvbFRhZzIpIHtcclxuICBTeW1ib2xUYWcyLkRlcHJlY2F0ZWQgPSAxO1xyXG59KShTeW1ib2xUYWcgfHwgKFN5bWJvbFRhZyA9IHt9KSk7XHJcbnZhciBTeW1ib2xJbmZvcm1hdGlvbjtcclxuKGZ1bmN0aW9uKFN5bWJvbEluZm9ybWF0aW9uMikge1xyXG4gIGZ1bmN0aW9uIGNyZWF0ZShuYW1lLCBraW5kLCByYW5nZSwgdXJpLCBjb250YWluZXJOYW1lKSB7XHJcbiAgICBsZXQgcmVzdWx0ID0ge1xyXG4gICAgICBuYW1lLFxyXG4gICAgICBraW5kLFxyXG4gICAgICBsb2NhdGlvbjogeyB1cmksIHJhbmdlIH1cclxuICAgIH07XHJcbiAgICBpZiAoY29udGFpbmVyTmFtZSkge1xyXG4gICAgICByZXN1bHQuY29udGFpbmVyTmFtZSA9IGNvbnRhaW5lck5hbWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG4gIH1cclxuICBTeW1ib2xJbmZvcm1hdGlvbjIuY3JlYXRlID0gY3JlYXRlO1xyXG59KShTeW1ib2xJbmZvcm1hdGlvbiB8fCAoU3ltYm9sSW5mb3JtYXRpb24gPSB7fSkpO1xyXG52YXIgV29ya3NwYWNlU3ltYm9sO1xyXG4oZnVuY3Rpb24oV29ya3NwYWNlU3ltYm9sMikge1xyXG4gIGZ1bmN0aW9uIGNyZWF0ZShuYW1lLCBraW5kLCB1cmksIHJhbmdlKSB7XHJcbiAgICByZXR1cm4gcmFuZ2UgIT09IHZvaWQgMCA/IHsgbmFtZSwga2luZCwgbG9jYXRpb246IHsgdXJpLCByYW5nZSB9IH0gOiB7IG5hbWUsIGtpbmQsIGxvY2F0aW9uOiB7IHVyaSB9IH07XHJcbiAgfVxyXG4gIFdvcmtzcGFjZVN5bWJvbDIuY3JlYXRlID0gY3JlYXRlO1xyXG59KShXb3Jrc3BhY2VTeW1ib2wgfHwgKFdvcmtzcGFjZVN5bWJvbCA9IHt9KSk7XHJcbnZhciBEb2N1bWVudFN5bWJvbDtcclxuKGZ1bmN0aW9uKERvY3VtZW50U3ltYm9sMikge1xyXG4gIGZ1bmN0aW9uIGNyZWF0ZShuYW1lLCBkZXRhaWwsIGtpbmQsIHJhbmdlLCBzZWxlY3Rpb25SYW5nZSwgY2hpbGRyZW4pIHtcclxuICAgIGxldCByZXN1bHQgPSB7XHJcbiAgICAgIG5hbWUsXHJcbiAgICAgIGRldGFpbCxcclxuICAgICAga2luZCxcclxuICAgICAgcmFuZ2UsXHJcbiAgICAgIHNlbGVjdGlvblJhbmdlXHJcbiAgICB9O1xyXG4gICAgaWYgKGNoaWxkcmVuICE9PSB2b2lkIDApIHtcclxuICAgICAgcmVzdWx0LmNoaWxkcmVuID0gY2hpbGRyZW47XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG4gIH1cclxuICBEb2N1bWVudFN5bWJvbDIuY3JlYXRlID0gY3JlYXRlO1xyXG4gIGZ1bmN0aW9uIGlzKHZhbHVlKSB7XHJcbiAgICBsZXQgY2FuZGlkYXRlID0gdmFsdWU7XHJcbiAgICByZXR1cm4gY2FuZGlkYXRlICYmIElzLnN0cmluZyhjYW5kaWRhdGUubmFtZSkgJiYgSXMubnVtYmVyKGNhbmRpZGF0ZS5raW5kKSAmJiBSYW5nZS5pcyhjYW5kaWRhdGUucmFuZ2UpICYmIFJhbmdlLmlzKGNhbmRpZGF0ZS5zZWxlY3Rpb25SYW5nZSkgJiYgKGNhbmRpZGF0ZS5kZXRhaWwgPT09IHZvaWQgMCB8fCBJcy5zdHJpbmcoY2FuZGlkYXRlLmRldGFpbCkpICYmIChjYW5kaWRhdGUuZGVwcmVjYXRlZCA9PT0gdm9pZCAwIHx8IElzLmJvb2xlYW4oY2FuZGlkYXRlLmRlcHJlY2F0ZWQpKSAmJiAoY2FuZGlkYXRlLmNoaWxkcmVuID09PSB2b2lkIDAgfHwgQXJyYXkuaXNBcnJheShjYW5kaWRhdGUuY2hpbGRyZW4pKSAmJiAoY2FuZGlkYXRlLnRhZ3MgPT09IHZvaWQgMCB8fCBBcnJheS5pc0FycmF5KGNhbmRpZGF0ZS50YWdzKSk7XHJcbiAgfVxyXG4gIERvY3VtZW50U3ltYm9sMi5pcyA9IGlzO1xyXG59KShEb2N1bWVudFN5bWJvbCB8fCAoRG9jdW1lbnRTeW1ib2wgPSB7fSkpO1xyXG52YXIgQ29kZUFjdGlvbktpbmQ7XHJcbihmdW5jdGlvbihDb2RlQWN0aW9uS2luZDIpIHtcclxuICBDb2RlQWN0aW9uS2luZDIuRW1wdHkgPSBcIlwiO1xyXG4gIENvZGVBY3Rpb25LaW5kMi5RdWlja0ZpeCA9IFwicXVpY2tmaXhcIjtcclxuICBDb2RlQWN0aW9uS2luZDIuUmVmYWN0b3IgPSBcInJlZmFjdG9yXCI7XHJcbiAgQ29kZUFjdGlvbktpbmQyLlJlZmFjdG9yRXh0cmFjdCA9IFwicmVmYWN0b3IuZXh0cmFjdFwiO1xyXG4gIENvZGVBY3Rpb25LaW5kMi5SZWZhY3RvcklubGluZSA9IFwicmVmYWN0b3IuaW5saW5lXCI7XHJcbiAgQ29kZUFjdGlvbktpbmQyLlJlZmFjdG9yUmV3cml0ZSA9IFwicmVmYWN0b3IucmV3cml0ZVwiO1xyXG4gIENvZGVBY3Rpb25LaW5kMi5Tb3VyY2UgPSBcInNvdXJjZVwiO1xyXG4gIENvZGVBY3Rpb25LaW5kMi5Tb3VyY2VPcmdhbml6ZUltcG9ydHMgPSBcInNvdXJjZS5vcmdhbml6ZUltcG9ydHNcIjtcclxuICBDb2RlQWN0aW9uS2luZDIuU291cmNlRml4QWxsID0gXCJzb3VyY2UuZml4QWxsXCI7XHJcbn0pKENvZGVBY3Rpb25LaW5kIHx8IChDb2RlQWN0aW9uS2luZCA9IHt9KSk7XHJcbnZhciBDb2RlQWN0aW9uVHJpZ2dlcktpbmQ7XHJcbihmdW5jdGlvbihDb2RlQWN0aW9uVHJpZ2dlcktpbmQyKSB7XHJcbiAgQ29kZUFjdGlvblRyaWdnZXJLaW5kMi5JbnZva2VkID0gMTtcclxuICBDb2RlQWN0aW9uVHJpZ2dlcktpbmQyLkF1dG9tYXRpYyA9IDI7XHJcbn0pKENvZGVBY3Rpb25UcmlnZ2VyS2luZCB8fCAoQ29kZUFjdGlvblRyaWdnZXJLaW5kID0ge30pKTtcclxudmFyIENvZGVBY3Rpb25Db250ZXh0O1xyXG4oZnVuY3Rpb24oQ29kZUFjdGlvbkNvbnRleHQyKSB7XHJcbiAgZnVuY3Rpb24gY3JlYXRlKGRpYWdub3N0aWNzLCBvbmx5LCB0cmlnZ2VyS2luZCkge1xyXG4gICAgbGV0IHJlc3VsdCA9IHsgZGlhZ25vc3RpY3MgfTtcclxuICAgIGlmIChvbmx5ICE9PSB2b2lkIDAgJiYgb25seSAhPT0gbnVsbCkge1xyXG4gICAgICByZXN1bHQub25seSA9IG9ubHk7XHJcbiAgICB9XHJcbiAgICBpZiAodHJpZ2dlcktpbmQgIT09IHZvaWQgMCAmJiB0cmlnZ2VyS2luZCAhPT0gbnVsbCkge1xyXG4gICAgICByZXN1bHQudHJpZ2dlcktpbmQgPSB0cmlnZ2VyS2luZDtcclxuICAgIH1cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfVxyXG4gIENvZGVBY3Rpb25Db250ZXh0Mi5jcmVhdGUgPSBjcmVhdGU7XHJcbiAgZnVuY3Rpb24gaXModmFsdWUpIHtcclxuICAgIGxldCBjYW5kaWRhdGUgPSB2YWx1ZTtcclxuICAgIHJldHVybiBJcy5kZWZpbmVkKGNhbmRpZGF0ZSkgJiYgSXMudHlwZWRBcnJheShjYW5kaWRhdGUuZGlhZ25vc3RpY3MsIERpYWdub3N0aWMuaXMpICYmIChjYW5kaWRhdGUub25seSA9PT0gdm9pZCAwIHx8IElzLnR5cGVkQXJyYXkoY2FuZGlkYXRlLm9ubHksIElzLnN0cmluZykpICYmIChjYW5kaWRhdGUudHJpZ2dlcktpbmQgPT09IHZvaWQgMCB8fCBjYW5kaWRhdGUudHJpZ2dlcktpbmQgPT09IENvZGVBY3Rpb25UcmlnZ2VyS2luZC5JbnZva2VkIHx8IGNhbmRpZGF0ZS50cmlnZ2VyS2luZCA9PT0gQ29kZUFjdGlvblRyaWdnZXJLaW5kLkF1dG9tYXRpYyk7XHJcbiAgfVxyXG4gIENvZGVBY3Rpb25Db250ZXh0Mi5pcyA9IGlzO1xyXG59KShDb2RlQWN0aW9uQ29udGV4dCB8fCAoQ29kZUFjdGlvbkNvbnRleHQgPSB7fSkpO1xyXG52YXIgQ29kZUFjdGlvbjtcclxuKGZ1bmN0aW9uKENvZGVBY3Rpb24yKSB7XHJcbiAgZnVuY3Rpb24gY3JlYXRlKHRpdGxlLCBraW5kT3JDb21tYW5kT3JFZGl0LCBraW5kKSB7XHJcbiAgICBsZXQgcmVzdWx0ID0geyB0aXRsZSB9O1xyXG4gICAgbGV0IGNoZWNrS2luZCA9IHRydWU7XHJcbiAgICBpZiAodHlwZW9mIGtpbmRPckNvbW1hbmRPckVkaXQgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgY2hlY2tLaW5kID0gZmFsc2U7XHJcbiAgICAgIHJlc3VsdC5raW5kID0ga2luZE9yQ29tbWFuZE9yRWRpdDtcclxuICAgIH0gZWxzZSBpZiAoQ29tbWFuZC5pcyhraW5kT3JDb21tYW5kT3JFZGl0KSkge1xyXG4gICAgICByZXN1bHQuY29tbWFuZCA9IGtpbmRPckNvbW1hbmRPckVkaXQ7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXN1bHQuZWRpdCA9IGtpbmRPckNvbW1hbmRPckVkaXQ7XHJcbiAgICB9XHJcbiAgICBpZiAoY2hlY2tLaW5kICYmIGtpbmQgIT09IHZvaWQgMCkge1xyXG4gICAgICByZXN1bHQua2luZCA9IGtpbmQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG4gIH1cclxuICBDb2RlQWN0aW9uMi5jcmVhdGUgPSBjcmVhdGU7XHJcbiAgZnVuY3Rpb24gaXModmFsdWUpIHtcclxuICAgIGxldCBjYW5kaWRhdGUgPSB2YWx1ZTtcclxuICAgIHJldHVybiBjYW5kaWRhdGUgJiYgSXMuc3RyaW5nKGNhbmRpZGF0ZS50aXRsZSkgJiYgKGNhbmRpZGF0ZS5kaWFnbm9zdGljcyA9PT0gdm9pZCAwIHx8IElzLnR5cGVkQXJyYXkoY2FuZGlkYXRlLmRpYWdub3N0aWNzLCBEaWFnbm9zdGljLmlzKSkgJiYgKGNhbmRpZGF0ZS5raW5kID09PSB2b2lkIDAgfHwgSXMuc3RyaW5nKGNhbmRpZGF0ZS5raW5kKSkgJiYgKGNhbmRpZGF0ZS5lZGl0ICE9PSB2b2lkIDAgfHwgY2FuZGlkYXRlLmNvbW1hbmQgIT09IHZvaWQgMCkgJiYgKGNhbmRpZGF0ZS5jb21tYW5kID09PSB2b2lkIDAgfHwgQ29tbWFuZC5pcyhjYW5kaWRhdGUuY29tbWFuZCkpICYmIChjYW5kaWRhdGUuaXNQcmVmZXJyZWQgPT09IHZvaWQgMCB8fCBJcy5ib29sZWFuKGNhbmRpZGF0ZS5pc1ByZWZlcnJlZCkpICYmIChjYW5kaWRhdGUuZWRpdCA9PT0gdm9pZCAwIHx8IFdvcmtzcGFjZUVkaXQuaXMoY2FuZGlkYXRlLmVkaXQpKTtcclxuICB9XHJcbiAgQ29kZUFjdGlvbjIuaXMgPSBpcztcclxufSkoQ29kZUFjdGlvbiB8fCAoQ29kZUFjdGlvbiA9IHt9KSk7XHJcbnZhciBDb2RlTGVucztcclxuKGZ1bmN0aW9uKENvZGVMZW5zMikge1xyXG4gIGZ1bmN0aW9uIGNyZWF0ZShyYW5nZSwgZGF0YSkge1xyXG4gICAgbGV0IHJlc3VsdCA9IHsgcmFuZ2UgfTtcclxuICAgIGlmIChJcy5kZWZpbmVkKGRhdGEpKSB7XHJcbiAgICAgIHJlc3VsdC5kYXRhID0gZGF0YTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfVxyXG4gIENvZGVMZW5zMi5jcmVhdGUgPSBjcmVhdGU7XHJcbiAgZnVuY3Rpb24gaXModmFsdWUpIHtcclxuICAgIGxldCBjYW5kaWRhdGUgPSB2YWx1ZTtcclxuICAgIHJldHVybiBJcy5kZWZpbmVkKGNhbmRpZGF0ZSkgJiYgUmFuZ2UuaXMoY2FuZGlkYXRlLnJhbmdlKSAmJiAoSXMudW5kZWZpbmVkKGNhbmRpZGF0ZS5jb21tYW5kKSB8fCBDb21tYW5kLmlzKGNhbmRpZGF0ZS5jb21tYW5kKSk7XHJcbiAgfVxyXG4gIENvZGVMZW5zMi5pcyA9IGlzO1xyXG59KShDb2RlTGVucyB8fCAoQ29kZUxlbnMgPSB7fSkpO1xyXG52YXIgRm9ybWF0dGluZ09wdGlvbnM7XHJcbihmdW5jdGlvbihGb3JtYXR0aW5nT3B0aW9uczIpIHtcclxuICBmdW5jdGlvbiBjcmVhdGUodGFiU2l6ZSwgaW5zZXJ0U3BhY2VzKSB7XHJcbiAgICByZXR1cm4geyB0YWJTaXplLCBpbnNlcnRTcGFjZXMgfTtcclxuICB9XHJcbiAgRm9ybWF0dGluZ09wdGlvbnMyLmNyZWF0ZSA9IGNyZWF0ZTtcclxuICBmdW5jdGlvbiBpcyh2YWx1ZSkge1xyXG4gICAgbGV0IGNhbmRpZGF0ZSA9IHZhbHVlO1xyXG4gICAgcmV0dXJuIElzLmRlZmluZWQoY2FuZGlkYXRlKSAmJiBJcy51aW50ZWdlcihjYW5kaWRhdGUudGFiU2l6ZSkgJiYgSXMuYm9vbGVhbihjYW5kaWRhdGUuaW5zZXJ0U3BhY2VzKTtcclxuICB9XHJcbiAgRm9ybWF0dGluZ09wdGlvbnMyLmlzID0gaXM7XHJcbn0pKEZvcm1hdHRpbmdPcHRpb25zIHx8IChGb3JtYXR0aW5nT3B0aW9ucyA9IHt9KSk7XHJcbnZhciBEb2N1bWVudExpbms7XHJcbihmdW5jdGlvbihEb2N1bWVudExpbmsyKSB7XHJcbiAgZnVuY3Rpb24gY3JlYXRlKHJhbmdlLCB0YXJnZXQsIGRhdGEpIHtcclxuICAgIHJldHVybiB7IHJhbmdlLCB0YXJnZXQsIGRhdGEgfTtcclxuICB9XHJcbiAgRG9jdW1lbnRMaW5rMi5jcmVhdGUgPSBjcmVhdGU7XHJcbiAgZnVuY3Rpb24gaXModmFsdWUpIHtcclxuICAgIGxldCBjYW5kaWRhdGUgPSB2YWx1ZTtcclxuICAgIHJldHVybiBJcy5kZWZpbmVkKGNhbmRpZGF0ZSkgJiYgUmFuZ2UuaXMoY2FuZGlkYXRlLnJhbmdlKSAmJiAoSXMudW5kZWZpbmVkKGNhbmRpZGF0ZS50YXJnZXQpIHx8IElzLnN0cmluZyhjYW5kaWRhdGUudGFyZ2V0KSk7XHJcbiAgfVxyXG4gIERvY3VtZW50TGluazIuaXMgPSBpcztcclxufSkoRG9jdW1lbnRMaW5rIHx8IChEb2N1bWVudExpbmsgPSB7fSkpO1xyXG52YXIgU2VsZWN0aW9uUmFuZ2U7XHJcbihmdW5jdGlvbihTZWxlY3Rpb25SYW5nZTIpIHtcclxuICBmdW5jdGlvbiBjcmVhdGUocmFuZ2UsIHBhcmVudCkge1xyXG4gICAgcmV0dXJuIHsgcmFuZ2UsIHBhcmVudCB9O1xyXG4gIH1cclxuICBTZWxlY3Rpb25SYW5nZTIuY3JlYXRlID0gY3JlYXRlO1xyXG4gIGZ1bmN0aW9uIGlzKHZhbHVlKSB7XHJcbiAgICBsZXQgY2FuZGlkYXRlID0gdmFsdWU7XHJcbiAgICByZXR1cm4gSXMub2JqZWN0TGl0ZXJhbChjYW5kaWRhdGUpICYmIFJhbmdlLmlzKGNhbmRpZGF0ZS5yYW5nZSkgJiYgKGNhbmRpZGF0ZS5wYXJlbnQgPT09IHZvaWQgMCB8fCBTZWxlY3Rpb25SYW5nZTIuaXMoY2FuZGlkYXRlLnBhcmVudCkpO1xyXG4gIH1cclxuICBTZWxlY3Rpb25SYW5nZTIuaXMgPSBpcztcclxufSkoU2VsZWN0aW9uUmFuZ2UgfHwgKFNlbGVjdGlvblJhbmdlID0ge30pKTtcclxudmFyIFNlbWFudGljVG9rZW5UeXBlcztcclxuKGZ1bmN0aW9uKFNlbWFudGljVG9rZW5UeXBlczIpIHtcclxuICBTZW1hbnRpY1Rva2VuVHlwZXMyW1wibmFtZXNwYWNlXCJdID0gXCJuYW1lc3BhY2VcIjtcclxuICBTZW1hbnRpY1Rva2VuVHlwZXMyW1widHlwZVwiXSA9IFwidHlwZVwiO1xyXG4gIFNlbWFudGljVG9rZW5UeXBlczJbXCJjbGFzc1wiXSA9IFwiY2xhc3NcIjtcclxuICBTZW1hbnRpY1Rva2VuVHlwZXMyW1wiZW51bVwiXSA9IFwiZW51bVwiO1xyXG4gIFNlbWFudGljVG9rZW5UeXBlczJbXCJpbnRlcmZhY2VcIl0gPSBcImludGVyZmFjZVwiO1xyXG4gIFNlbWFudGljVG9rZW5UeXBlczJbXCJzdHJ1Y3RcIl0gPSBcInN0cnVjdFwiO1xyXG4gIFNlbWFudGljVG9rZW5UeXBlczJbXCJ0eXBlUGFyYW1ldGVyXCJdID0gXCJ0eXBlUGFyYW1ldGVyXCI7XHJcbiAgU2VtYW50aWNUb2tlblR5cGVzMltcInBhcmFtZXRlclwiXSA9IFwicGFyYW1ldGVyXCI7XHJcbiAgU2VtYW50aWNUb2tlblR5cGVzMltcInZhcmlhYmxlXCJdID0gXCJ2YXJpYWJsZVwiO1xyXG4gIFNlbWFudGljVG9rZW5UeXBlczJbXCJwcm9wZXJ0eVwiXSA9IFwicHJvcGVydHlcIjtcclxuICBTZW1hbnRpY1Rva2VuVHlwZXMyW1wiZW51bU1lbWJlclwiXSA9IFwiZW51bU1lbWJlclwiO1xyXG4gIFNlbWFudGljVG9rZW5UeXBlczJbXCJldmVudFwiXSA9IFwiZXZlbnRcIjtcclxuICBTZW1hbnRpY1Rva2VuVHlwZXMyW1wiZnVuY3Rpb25cIl0gPSBcImZ1bmN0aW9uXCI7XHJcbiAgU2VtYW50aWNUb2tlblR5cGVzMltcIm1ldGhvZFwiXSA9IFwibWV0aG9kXCI7XHJcbiAgU2VtYW50aWNUb2tlblR5cGVzMltcIm1hY3JvXCJdID0gXCJtYWNyb1wiO1xyXG4gIFNlbWFudGljVG9rZW5UeXBlczJbXCJrZXl3b3JkXCJdID0gXCJrZXl3b3JkXCI7XHJcbiAgU2VtYW50aWNUb2tlblR5cGVzMltcIm1vZGlmaWVyXCJdID0gXCJtb2RpZmllclwiO1xyXG4gIFNlbWFudGljVG9rZW5UeXBlczJbXCJjb21tZW50XCJdID0gXCJjb21tZW50XCI7XHJcbiAgU2VtYW50aWNUb2tlblR5cGVzMltcInN0cmluZ1wiXSA9IFwic3RyaW5nXCI7XHJcbiAgU2VtYW50aWNUb2tlblR5cGVzMltcIm51bWJlclwiXSA9IFwibnVtYmVyXCI7XHJcbiAgU2VtYW50aWNUb2tlblR5cGVzMltcInJlZ2V4cFwiXSA9IFwicmVnZXhwXCI7XHJcbiAgU2VtYW50aWNUb2tlblR5cGVzMltcIm9wZXJhdG9yXCJdID0gXCJvcGVyYXRvclwiO1xyXG4gIFNlbWFudGljVG9rZW5UeXBlczJbXCJkZWNvcmF0b3JcIl0gPSBcImRlY29yYXRvclwiO1xyXG59KShTZW1hbnRpY1Rva2VuVHlwZXMgfHwgKFNlbWFudGljVG9rZW5UeXBlcyA9IHt9KSk7XHJcbnZhciBTZW1hbnRpY1Rva2VuTW9kaWZpZXJzO1xyXG4oZnVuY3Rpb24oU2VtYW50aWNUb2tlbk1vZGlmaWVyczIpIHtcclxuICBTZW1hbnRpY1Rva2VuTW9kaWZpZXJzMltcImRlY2xhcmF0aW9uXCJdID0gXCJkZWNsYXJhdGlvblwiO1xyXG4gIFNlbWFudGljVG9rZW5Nb2RpZmllcnMyW1wiZGVmaW5pdGlvblwiXSA9IFwiZGVmaW5pdGlvblwiO1xyXG4gIFNlbWFudGljVG9rZW5Nb2RpZmllcnMyW1wicmVhZG9ubHlcIl0gPSBcInJlYWRvbmx5XCI7XHJcbiAgU2VtYW50aWNUb2tlbk1vZGlmaWVyczJbXCJzdGF0aWNcIl0gPSBcInN0YXRpY1wiO1xyXG4gIFNlbWFudGljVG9rZW5Nb2RpZmllcnMyW1wiZGVwcmVjYXRlZFwiXSA9IFwiZGVwcmVjYXRlZFwiO1xyXG4gIFNlbWFudGljVG9rZW5Nb2RpZmllcnMyW1wiYWJzdHJhY3RcIl0gPSBcImFic3RyYWN0XCI7XHJcbiAgU2VtYW50aWNUb2tlbk1vZGlmaWVyczJbXCJhc3luY1wiXSA9IFwiYXN5bmNcIjtcclxuICBTZW1hbnRpY1Rva2VuTW9kaWZpZXJzMltcIm1vZGlmaWNhdGlvblwiXSA9IFwibW9kaWZpY2F0aW9uXCI7XHJcbiAgU2VtYW50aWNUb2tlbk1vZGlmaWVyczJbXCJkb2N1bWVudGF0aW9uXCJdID0gXCJkb2N1bWVudGF0aW9uXCI7XHJcbiAgU2VtYW50aWNUb2tlbk1vZGlmaWVyczJbXCJkZWZhdWx0TGlicmFyeVwiXSA9IFwiZGVmYXVsdExpYnJhcnlcIjtcclxufSkoU2VtYW50aWNUb2tlbk1vZGlmaWVycyB8fCAoU2VtYW50aWNUb2tlbk1vZGlmaWVycyA9IHt9KSk7XHJcbnZhciBTZW1hbnRpY1Rva2VucztcclxuKGZ1bmN0aW9uKFNlbWFudGljVG9rZW5zMikge1xyXG4gIGZ1bmN0aW9uIGlzKHZhbHVlKSB7XHJcbiAgICBjb25zdCBjYW5kaWRhdGUgPSB2YWx1ZTtcclxuICAgIHJldHVybiBJcy5vYmplY3RMaXRlcmFsKGNhbmRpZGF0ZSkgJiYgKGNhbmRpZGF0ZS5yZXN1bHRJZCA9PT0gdm9pZCAwIHx8IHR5cGVvZiBjYW5kaWRhdGUucmVzdWx0SWQgPT09IFwic3RyaW5nXCIpICYmIEFycmF5LmlzQXJyYXkoY2FuZGlkYXRlLmRhdGEpICYmIChjYW5kaWRhdGUuZGF0YS5sZW5ndGggPT09IDAgfHwgdHlwZW9mIGNhbmRpZGF0ZS5kYXRhWzBdID09PSBcIm51bWJlclwiKTtcclxuICB9XHJcbiAgU2VtYW50aWNUb2tlbnMyLmlzID0gaXM7XHJcbn0pKFNlbWFudGljVG9rZW5zIHx8IChTZW1hbnRpY1Rva2VucyA9IHt9KSk7XHJcbnZhciBJbmxpbmVWYWx1ZVRleHQ7XHJcbihmdW5jdGlvbihJbmxpbmVWYWx1ZVRleHQyKSB7XHJcbiAgZnVuY3Rpb24gY3JlYXRlKHJhbmdlLCB0ZXh0KSB7XHJcbiAgICByZXR1cm4geyByYW5nZSwgdGV4dCB9O1xyXG4gIH1cclxuICBJbmxpbmVWYWx1ZVRleHQyLmNyZWF0ZSA9IGNyZWF0ZTtcclxuICBmdW5jdGlvbiBpcyh2YWx1ZSkge1xyXG4gICAgY29uc3QgY2FuZGlkYXRlID0gdmFsdWU7XHJcbiAgICByZXR1cm4gY2FuZGlkYXRlICE9PSB2b2lkIDAgJiYgY2FuZGlkYXRlICE9PSBudWxsICYmIFJhbmdlLmlzKGNhbmRpZGF0ZS5yYW5nZSkgJiYgSXMuc3RyaW5nKGNhbmRpZGF0ZS50ZXh0KTtcclxuICB9XHJcbiAgSW5saW5lVmFsdWVUZXh0Mi5pcyA9IGlzO1xyXG59KShJbmxpbmVWYWx1ZVRleHQgfHwgKElubGluZVZhbHVlVGV4dCA9IHt9KSk7XHJcbnZhciBJbmxpbmVWYWx1ZVZhcmlhYmxlTG9va3VwO1xyXG4oZnVuY3Rpb24oSW5saW5lVmFsdWVWYXJpYWJsZUxvb2t1cDIpIHtcclxuICBmdW5jdGlvbiBjcmVhdGUocmFuZ2UsIHZhcmlhYmxlTmFtZSwgY2FzZVNlbnNpdGl2ZUxvb2t1cCkge1xyXG4gICAgcmV0dXJuIHsgcmFuZ2UsIHZhcmlhYmxlTmFtZSwgY2FzZVNlbnNpdGl2ZUxvb2t1cCB9O1xyXG4gIH1cclxuICBJbmxpbmVWYWx1ZVZhcmlhYmxlTG9va3VwMi5jcmVhdGUgPSBjcmVhdGU7XHJcbiAgZnVuY3Rpb24gaXModmFsdWUpIHtcclxuICAgIGNvbnN0IGNhbmRpZGF0ZSA9IHZhbHVlO1xyXG4gICAgcmV0dXJuIGNhbmRpZGF0ZSAhPT0gdm9pZCAwICYmIGNhbmRpZGF0ZSAhPT0gbnVsbCAmJiBSYW5nZS5pcyhjYW5kaWRhdGUucmFuZ2UpICYmIElzLmJvb2xlYW4oY2FuZGlkYXRlLmNhc2VTZW5zaXRpdmVMb29rdXApICYmIChJcy5zdHJpbmcoY2FuZGlkYXRlLnZhcmlhYmxlTmFtZSkgfHwgY2FuZGlkYXRlLnZhcmlhYmxlTmFtZSA9PT0gdm9pZCAwKTtcclxuICB9XHJcbiAgSW5saW5lVmFsdWVWYXJpYWJsZUxvb2t1cDIuaXMgPSBpcztcclxufSkoSW5saW5lVmFsdWVWYXJpYWJsZUxvb2t1cCB8fCAoSW5saW5lVmFsdWVWYXJpYWJsZUxvb2t1cCA9IHt9KSk7XHJcbnZhciBJbmxpbmVWYWx1ZUV2YWx1YXRhYmxlRXhwcmVzc2lvbjtcclxuKGZ1bmN0aW9uKElubGluZVZhbHVlRXZhbHVhdGFibGVFeHByZXNzaW9uMikge1xyXG4gIGZ1bmN0aW9uIGNyZWF0ZShyYW5nZSwgZXhwcmVzc2lvbikge1xyXG4gICAgcmV0dXJuIHsgcmFuZ2UsIGV4cHJlc3Npb24gfTtcclxuICB9XHJcbiAgSW5saW5lVmFsdWVFdmFsdWF0YWJsZUV4cHJlc3Npb24yLmNyZWF0ZSA9IGNyZWF0ZTtcclxuICBmdW5jdGlvbiBpcyh2YWx1ZSkge1xyXG4gICAgY29uc3QgY2FuZGlkYXRlID0gdmFsdWU7XHJcbiAgICByZXR1cm4gY2FuZGlkYXRlICE9PSB2b2lkIDAgJiYgY2FuZGlkYXRlICE9PSBudWxsICYmIFJhbmdlLmlzKGNhbmRpZGF0ZS5yYW5nZSkgJiYgKElzLnN0cmluZyhjYW5kaWRhdGUuZXhwcmVzc2lvbikgfHwgY2FuZGlkYXRlLmV4cHJlc3Npb24gPT09IHZvaWQgMCk7XHJcbiAgfVxyXG4gIElubGluZVZhbHVlRXZhbHVhdGFibGVFeHByZXNzaW9uMi5pcyA9IGlzO1xyXG59KShJbmxpbmVWYWx1ZUV2YWx1YXRhYmxlRXhwcmVzc2lvbiB8fCAoSW5saW5lVmFsdWVFdmFsdWF0YWJsZUV4cHJlc3Npb24gPSB7fSkpO1xyXG52YXIgSW5saW5lVmFsdWVDb250ZXh0O1xyXG4oZnVuY3Rpb24oSW5saW5lVmFsdWVDb250ZXh0Mikge1xyXG4gIGZ1bmN0aW9uIGNyZWF0ZShmcmFtZUlkLCBzdG9wcGVkTG9jYXRpb24pIHtcclxuICAgIHJldHVybiB7IGZyYW1lSWQsIHN0b3BwZWRMb2NhdGlvbiB9O1xyXG4gIH1cclxuICBJbmxpbmVWYWx1ZUNvbnRleHQyLmNyZWF0ZSA9IGNyZWF0ZTtcclxuICBmdW5jdGlvbiBpcyh2YWx1ZSkge1xyXG4gICAgY29uc3QgY2FuZGlkYXRlID0gdmFsdWU7XHJcbiAgICByZXR1cm4gSXMuZGVmaW5lZChjYW5kaWRhdGUpICYmIFJhbmdlLmlzKHZhbHVlLnN0b3BwZWRMb2NhdGlvbik7XHJcbiAgfVxyXG4gIElubGluZVZhbHVlQ29udGV4dDIuaXMgPSBpcztcclxufSkoSW5saW5lVmFsdWVDb250ZXh0IHx8IChJbmxpbmVWYWx1ZUNvbnRleHQgPSB7fSkpO1xyXG52YXIgSW5sYXlIaW50S2luZDtcclxuKGZ1bmN0aW9uKElubGF5SGludEtpbmQyKSB7XHJcbiAgSW5sYXlIaW50S2luZDIuVHlwZSA9IDE7XHJcbiAgSW5sYXlIaW50S2luZDIuUGFyYW1ldGVyID0gMjtcclxuICBmdW5jdGlvbiBpcyh2YWx1ZSkge1xyXG4gICAgcmV0dXJuIHZhbHVlID09PSAxIHx8IHZhbHVlID09PSAyO1xyXG4gIH1cclxuICBJbmxheUhpbnRLaW5kMi5pcyA9IGlzO1xyXG59KShJbmxheUhpbnRLaW5kIHx8IChJbmxheUhpbnRLaW5kID0ge30pKTtcclxudmFyIElubGF5SGludExhYmVsUGFydDtcclxuKGZ1bmN0aW9uKElubGF5SGludExhYmVsUGFydDIpIHtcclxuICBmdW5jdGlvbiBjcmVhdGUodmFsdWUpIHtcclxuICAgIHJldHVybiB7IHZhbHVlIH07XHJcbiAgfVxyXG4gIElubGF5SGludExhYmVsUGFydDIuY3JlYXRlID0gY3JlYXRlO1xyXG4gIGZ1bmN0aW9uIGlzKHZhbHVlKSB7XHJcbiAgICBjb25zdCBjYW5kaWRhdGUgPSB2YWx1ZTtcclxuICAgIHJldHVybiBJcy5vYmplY3RMaXRlcmFsKGNhbmRpZGF0ZSkgJiYgKGNhbmRpZGF0ZS50b29sdGlwID09PSB2b2lkIDAgfHwgSXMuc3RyaW5nKGNhbmRpZGF0ZS50b29sdGlwKSB8fCBNYXJrdXBDb250ZW50LmlzKGNhbmRpZGF0ZS50b29sdGlwKSkgJiYgKGNhbmRpZGF0ZS5sb2NhdGlvbiA9PT0gdm9pZCAwIHx8IExvY2F0aW9uLmlzKGNhbmRpZGF0ZS5sb2NhdGlvbikpICYmIChjYW5kaWRhdGUuY29tbWFuZCA9PT0gdm9pZCAwIHx8IENvbW1hbmQuaXMoY2FuZGlkYXRlLmNvbW1hbmQpKTtcclxuICB9XHJcbiAgSW5sYXlIaW50TGFiZWxQYXJ0Mi5pcyA9IGlzO1xyXG59KShJbmxheUhpbnRMYWJlbFBhcnQgfHwgKElubGF5SGludExhYmVsUGFydCA9IHt9KSk7XHJcbnZhciBJbmxheUhpbnQ7XHJcbihmdW5jdGlvbihJbmxheUhpbnQyKSB7XHJcbiAgZnVuY3Rpb24gY3JlYXRlKHBvc2l0aW9uLCBsYWJlbCwga2luZCkge1xyXG4gICAgY29uc3QgcmVzdWx0ID0geyBwb3NpdGlvbiwgbGFiZWwgfTtcclxuICAgIGlmIChraW5kICE9PSB2b2lkIDApIHtcclxuICAgICAgcmVzdWx0LmtpbmQgPSBraW5kO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9XHJcbiAgSW5sYXlIaW50Mi5jcmVhdGUgPSBjcmVhdGU7XHJcbiAgZnVuY3Rpb24gaXModmFsdWUpIHtcclxuICAgIGNvbnN0IGNhbmRpZGF0ZSA9IHZhbHVlO1xyXG4gICAgcmV0dXJuIElzLm9iamVjdExpdGVyYWwoY2FuZGlkYXRlKSAmJiBQb3NpdGlvbi5pcyhjYW5kaWRhdGUucG9zaXRpb24pICYmIChJcy5zdHJpbmcoY2FuZGlkYXRlLmxhYmVsKSB8fCBJcy50eXBlZEFycmF5KGNhbmRpZGF0ZS5sYWJlbCwgSW5sYXlIaW50TGFiZWxQYXJ0LmlzKSkgJiYgKGNhbmRpZGF0ZS5raW5kID09PSB2b2lkIDAgfHwgSW5sYXlIaW50S2luZC5pcyhjYW5kaWRhdGUua2luZCkpICYmIGNhbmRpZGF0ZS50ZXh0RWRpdHMgPT09IHZvaWQgMCB8fCBJcy50eXBlZEFycmF5KGNhbmRpZGF0ZS50ZXh0RWRpdHMsIFRleHRFZGl0LmlzKSAmJiAoY2FuZGlkYXRlLnRvb2x0aXAgPT09IHZvaWQgMCB8fCBJcy5zdHJpbmcoY2FuZGlkYXRlLnRvb2x0aXApIHx8IE1hcmt1cENvbnRlbnQuaXMoY2FuZGlkYXRlLnRvb2x0aXApKSAmJiAoY2FuZGlkYXRlLnBhZGRpbmdMZWZ0ID09PSB2b2lkIDAgfHwgSXMuYm9vbGVhbihjYW5kaWRhdGUucGFkZGluZ0xlZnQpKSAmJiAoY2FuZGlkYXRlLnBhZGRpbmdSaWdodCA9PT0gdm9pZCAwIHx8IElzLmJvb2xlYW4oY2FuZGlkYXRlLnBhZGRpbmdSaWdodCkpO1xyXG4gIH1cclxuICBJbmxheUhpbnQyLmlzID0gaXM7XHJcbn0pKElubGF5SGludCB8fCAoSW5sYXlIaW50ID0ge30pKTtcclxudmFyIFN0cmluZ1ZhbHVlO1xyXG4oZnVuY3Rpb24oU3RyaW5nVmFsdWUyKSB7XHJcbiAgZnVuY3Rpb24gY3JlYXRlU25pcHBldCh2YWx1ZSkge1xyXG4gICAgcmV0dXJuIHsga2luZDogXCJzbmlwcGV0XCIsIHZhbHVlIH07XHJcbiAgfVxyXG4gIFN0cmluZ1ZhbHVlMi5jcmVhdGVTbmlwcGV0ID0gY3JlYXRlU25pcHBldDtcclxufSkoU3RyaW5nVmFsdWUgfHwgKFN0cmluZ1ZhbHVlID0ge30pKTtcclxudmFyIElubGluZUNvbXBsZXRpb25JdGVtO1xyXG4oZnVuY3Rpb24oSW5saW5lQ29tcGxldGlvbkl0ZW0yKSB7XHJcbiAgZnVuY3Rpb24gY3JlYXRlKGluc2VydFRleHQsIGZpbHRlclRleHQsIHJhbmdlLCBjb21tYW5kKSB7XHJcbiAgICByZXR1cm4geyBpbnNlcnRUZXh0LCBmaWx0ZXJUZXh0LCByYW5nZSwgY29tbWFuZCB9O1xyXG4gIH1cclxuICBJbmxpbmVDb21wbGV0aW9uSXRlbTIuY3JlYXRlID0gY3JlYXRlO1xyXG59KShJbmxpbmVDb21wbGV0aW9uSXRlbSB8fCAoSW5saW5lQ29tcGxldGlvbkl0ZW0gPSB7fSkpO1xyXG52YXIgSW5saW5lQ29tcGxldGlvbkxpc3Q7XHJcbihmdW5jdGlvbihJbmxpbmVDb21wbGV0aW9uTGlzdDIpIHtcclxuICBmdW5jdGlvbiBjcmVhdGUoaXRlbXMpIHtcclxuICAgIHJldHVybiB7IGl0ZW1zIH07XHJcbiAgfVxyXG4gIElubGluZUNvbXBsZXRpb25MaXN0Mi5jcmVhdGUgPSBjcmVhdGU7XHJcbn0pKElubGluZUNvbXBsZXRpb25MaXN0IHx8IChJbmxpbmVDb21wbGV0aW9uTGlzdCA9IHt9KSk7XHJcbnZhciBJbmxpbmVDb21wbGV0aW9uVHJpZ2dlcktpbmQ7XHJcbihmdW5jdGlvbihJbmxpbmVDb21wbGV0aW9uVHJpZ2dlcktpbmQyKSB7XHJcbiAgSW5saW5lQ29tcGxldGlvblRyaWdnZXJLaW5kMi5JbnZva2VkID0gMDtcclxuICBJbmxpbmVDb21wbGV0aW9uVHJpZ2dlcktpbmQyLkF1dG9tYXRpYyA9IDE7XHJcbn0pKElubGluZUNvbXBsZXRpb25UcmlnZ2VyS2luZCB8fCAoSW5saW5lQ29tcGxldGlvblRyaWdnZXJLaW5kID0ge30pKTtcclxudmFyIFNlbGVjdGVkQ29tcGxldGlvbkluZm87XHJcbihmdW5jdGlvbihTZWxlY3RlZENvbXBsZXRpb25JbmZvMikge1xyXG4gIGZ1bmN0aW9uIGNyZWF0ZShyYW5nZSwgdGV4dCkge1xyXG4gICAgcmV0dXJuIHsgcmFuZ2UsIHRleHQgfTtcclxuICB9XHJcbiAgU2VsZWN0ZWRDb21wbGV0aW9uSW5mbzIuY3JlYXRlID0gY3JlYXRlO1xyXG59KShTZWxlY3RlZENvbXBsZXRpb25JbmZvIHx8IChTZWxlY3RlZENvbXBsZXRpb25JbmZvID0ge30pKTtcclxudmFyIElubGluZUNvbXBsZXRpb25Db250ZXh0O1xyXG4oZnVuY3Rpb24oSW5saW5lQ29tcGxldGlvbkNvbnRleHQyKSB7XHJcbiAgZnVuY3Rpb24gY3JlYXRlKHRyaWdnZXJLaW5kLCBzZWxlY3RlZENvbXBsZXRpb25JbmZvKSB7XHJcbiAgICByZXR1cm4geyB0cmlnZ2VyS2luZCwgc2VsZWN0ZWRDb21wbGV0aW9uSW5mbyB9O1xyXG4gIH1cclxuICBJbmxpbmVDb21wbGV0aW9uQ29udGV4dDIuY3JlYXRlID0gY3JlYXRlO1xyXG59KShJbmxpbmVDb21wbGV0aW9uQ29udGV4dCB8fCAoSW5saW5lQ29tcGxldGlvbkNvbnRleHQgPSB7fSkpO1xyXG52YXIgV29ya3NwYWNlRm9sZGVyO1xyXG4oZnVuY3Rpb24oV29ya3NwYWNlRm9sZGVyMikge1xyXG4gIGZ1bmN0aW9uIGlzKHZhbHVlKSB7XHJcbiAgICBjb25zdCBjYW5kaWRhdGUgPSB2YWx1ZTtcclxuICAgIHJldHVybiBJcy5vYmplY3RMaXRlcmFsKGNhbmRpZGF0ZSkgJiYgVVJJLmlzKGNhbmRpZGF0ZS51cmkpICYmIElzLnN0cmluZyhjYW5kaWRhdGUubmFtZSk7XHJcbiAgfVxyXG4gIFdvcmtzcGFjZUZvbGRlcjIuaXMgPSBpcztcclxufSkoV29ya3NwYWNlRm9sZGVyIHx8IChXb3Jrc3BhY2VGb2xkZXIgPSB7fSkpO1xyXG52YXIgVGV4dERvY3VtZW50O1xyXG4oZnVuY3Rpb24oVGV4dERvY3VtZW50Mikge1xyXG4gIGZ1bmN0aW9uIGNyZWF0ZSh1cmksIGxhbmd1YWdlSWQsIHZlcnNpb24sIGNvbnRlbnQpIHtcclxuICAgIHJldHVybiBuZXcgRnVsbFRleHREb2N1bWVudCh1cmksIGxhbmd1YWdlSWQsIHZlcnNpb24sIGNvbnRlbnQpO1xyXG4gIH1cclxuICBUZXh0RG9jdW1lbnQyLmNyZWF0ZSA9IGNyZWF0ZTtcclxuICBmdW5jdGlvbiBpcyh2YWx1ZSkge1xyXG4gICAgbGV0IGNhbmRpZGF0ZSA9IHZhbHVlO1xyXG4gICAgcmV0dXJuIElzLmRlZmluZWQoY2FuZGlkYXRlKSAmJiBJcy5zdHJpbmcoY2FuZGlkYXRlLnVyaSkgJiYgKElzLnVuZGVmaW5lZChjYW5kaWRhdGUubGFuZ3VhZ2VJZCkgfHwgSXMuc3RyaW5nKGNhbmRpZGF0ZS5sYW5ndWFnZUlkKSkgJiYgSXMudWludGVnZXIoY2FuZGlkYXRlLmxpbmVDb3VudCkgJiYgSXMuZnVuYyhjYW5kaWRhdGUuZ2V0VGV4dCkgJiYgSXMuZnVuYyhjYW5kaWRhdGUucG9zaXRpb25BdCkgJiYgSXMuZnVuYyhjYW5kaWRhdGUub2Zmc2V0QXQpID8gdHJ1ZSA6IGZhbHNlO1xyXG4gIH1cclxuICBUZXh0RG9jdW1lbnQyLmlzID0gaXM7XHJcbiAgZnVuY3Rpb24gYXBwbHlFZGl0cyhkb2N1bWVudCwgZWRpdHMpIHtcclxuICAgIGxldCB0ZXh0ID0gZG9jdW1lbnQuZ2V0VGV4dCgpO1xyXG4gICAgbGV0IHNvcnRlZEVkaXRzID0gbWVyZ2VTb3J0KGVkaXRzLCAoYSwgYikgPT4ge1xyXG4gICAgICBsZXQgZGlmZiA9IGEucmFuZ2Uuc3RhcnQubGluZSAtIGIucmFuZ2Uuc3RhcnQubGluZTtcclxuICAgICAgaWYgKGRpZmYgPT09IDApIHtcclxuICAgICAgICByZXR1cm4gYS5yYW5nZS5zdGFydC5jaGFyYWN0ZXIgLSBiLnJhbmdlLnN0YXJ0LmNoYXJhY3RlcjtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gZGlmZjtcclxuICAgIH0pO1xyXG4gICAgbGV0IGxhc3RNb2RpZmllZE9mZnNldCA9IHRleHQubGVuZ3RoO1xyXG4gICAgZm9yIChsZXQgaSA9IHNvcnRlZEVkaXRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgIGxldCBlID0gc29ydGVkRWRpdHNbaV07XHJcbiAgICAgIGxldCBzdGFydE9mZnNldCA9IGRvY3VtZW50Lm9mZnNldEF0KGUucmFuZ2Uuc3RhcnQpO1xyXG4gICAgICBsZXQgZW5kT2Zmc2V0ID0gZG9jdW1lbnQub2Zmc2V0QXQoZS5yYW5nZS5lbmQpO1xyXG4gICAgICBpZiAoZW5kT2Zmc2V0IDw9IGxhc3RNb2RpZmllZE9mZnNldCkge1xyXG4gICAgICAgIHRleHQgPSB0ZXh0LnN1YnN0cmluZygwLCBzdGFydE9mZnNldCkgKyBlLm5ld1RleHQgKyB0ZXh0LnN1YnN0cmluZyhlbmRPZmZzZXQsIHRleHQubGVuZ3RoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJPdmVybGFwcGluZyBlZGl0XCIpO1xyXG4gICAgICB9XHJcbiAgICAgIGxhc3RNb2RpZmllZE9mZnNldCA9IHN0YXJ0T2Zmc2V0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRleHQ7XHJcbiAgfVxyXG4gIFRleHREb2N1bWVudDIuYXBwbHlFZGl0cyA9IGFwcGx5RWRpdHM7XHJcbiAgZnVuY3Rpb24gbWVyZ2VTb3J0KGRhdGEsIGNvbXBhcmUpIHtcclxuICAgIGlmIChkYXRhLmxlbmd0aCA8PSAxKSB7XHJcbiAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgfVxyXG4gICAgY29uc3QgcCA9IGRhdGEubGVuZ3RoIC8gMiB8IDA7XHJcbiAgICBjb25zdCBsZWZ0ID0gZGF0YS5zbGljZSgwLCBwKTtcclxuICAgIGNvbnN0IHJpZ2h0ID0gZGF0YS5zbGljZShwKTtcclxuICAgIG1lcmdlU29ydChsZWZ0LCBjb21wYXJlKTtcclxuICAgIG1lcmdlU29ydChyaWdodCwgY29tcGFyZSk7XHJcbiAgICBsZXQgbGVmdElkeCA9IDA7XHJcbiAgICBsZXQgcmlnaHRJZHggPSAwO1xyXG4gICAgbGV0IGkgPSAwO1xyXG4gICAgd2hpbGUgKGxlZnRJZHggPCBsZWZ0Lmxlbmd0aCAmJiByaWdodElkeCA8IHJpZ2h0Lmxlbmd0aCkge1xyXG4gICAgICBsZXQgcmV0ID0gY29tcGFyZShsZWZ0W2xlZnRJZHhdLCByaWdodFtyaWdodElkeF0pO1xyXG4gICAgICBpZiAocmV0IDw9IDApIHtcclxuICAgICAgICBkYXRhW2krK10gPSBsZWZ0W2xlZnRJZHgrK107XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZGF0YVtpKytdID0gcmlnaHRbcmlnaHRJZHgrK107XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHdoaWxlIChsZWZ0SWR4IDwgbGVmdC5sZW5ndGgpIHtcclxuICAgICAgZGF0YVtpKytdID0gbGVmdFtsZWZ0SWR4KytdO1xyXG4gICAgfVxyXG4gICAgd2hpbGUgKHJpZ2h0SWR4IDwgcmlnaHQubGVuZ3RoKSB7XHJcbiAgICAgIGRhdGFbaSsrXSA9IHJpZ2h0W3JpZ2h0SWR4KytdO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRhdGE7XHJcbiAgfVxyXG59KShUZXh0RG9jdW1lbnQgfHwgKFRleHREb2N1bWVudCA9IHt9KSk7XHJcbnZhciBGdWxsVGV4dERvY3VtZW50ID0gY2xhc3Mge1xyXG4gIGNvbnN0cnVjdG9yKHVyaSwgbGFuZ3VhZ2VJZCwgdmVyc2lvbiwgY29udGVudCkge1xyXG4gICAgdGhpcy5fdXJpID0gdXJpO1xyXG4gICAgdGhpcy5fbGFuZ3VhZ2VJZCA9IGxhbmd1YWdlSWQ7XHJcbiAgICB0aGlzLl92ZXJzaW9uID0gdmVyc2lvbjtcclxuICAgIHRoaXMuX2NvbnRlbnQgPSBjb250ZW50O1xyXG4gICAgdGhpcy5fbGluZU9mZnNldHMgPSB2b2lkIDA7XHJcbiAgfVxyXG4gIGdldCB1cmkoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fdXJpO1xyXG4gIH1cclxuICBnZXQgbGFuZ3VhZ2VJZCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9sYW5ndWFnZUlkO1xyXG4gIH1cclxuICBnZXQgdmVyc2lvbigpIHtcclxuICAgIHJldHVybiB0aGlzLl92ZXJzaW9uO1xyXG4gIH1cclxuICBnZXRUZXh0KHJhbmdlKSB7XHJcbiAgICBpZiAocmFuZ2UpIHtcclxuICAgICAgbGV0IHN0YXJ0ID0gdGhpcy5vZmZzZXRBdChyYW5nZS5zdGFydCk7XHJcbiAgICAgIGxldCBlbmQgPSB0aGlzLm9mZnNldEF0KHJhbmdlLmVuZCk7XHJcbiAgICAgIHJldHVybiB0aGlzLl9jb250ZW50LnN1YnN0cmluZyhzdGFydCwgZW5kKTtcclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzLl9jb250ZW50O1xyXG4gIH1cclxuICB1cGRhdGUoZXZlbnQsIHZlcnNpb24pIHtcclxuICAgIHRoaXMuX2NvbnRlbnQgPSBldmVudC50ZXh0O1xyXG4gICAgdGhpcy5fdmVyc2lvbiA9IHZlcnNpb247XHJcbiAgICB0aGlzLl9saW5lT2Zmc2V0cyA9IHZvaWQgMDtcclxuICB9XHJcbiAgZ2V0TGluZU9mZnNldHMoKSB7XHJcbiAgICBpZiAodGhpcy5fbGluZU9mZnNldHMgPT09IHZvaWQgMCkge1xyXG4gICAgICBsZXQgbGluZU9mZnNldHMgPSBbXTtcclxuICAgICAgbGV0IHRleHQgPSB0aGlzLl9jb250ZW50O1xyXG4gICAgICBsZXQgaXNMaW5lU3RhcnQgPSB0cnVlO1xyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRleHQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZiAoaXNMaW5lU3RhcnQpIHtcclxuICAgICAgICAgIGxpbmVPZmZzZXRzLnB1c2goaSk7XHJcbiAgICAgICAgICBpc0xpbmVTdGFydCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgY2ggPSB0ZXh0LmNoYXJBdChpKTtcclxuICAgICAgICBpc0xpbmVTdGFydCA9IGNoID09PSBcIlxcclwiIHx8IGNoID09PSBcIlxcblwiO1xyXG4gICAgICAgIGlmIChjaCA9PT0gXCJcXHJcIiAmJiBpICsgMSA8IHRleHQubGVuZ3RoICYmIHRleHQuY2hhckF0KGkgKyAxKSA9PT0gXCJcXG5cIikge1xyXG4gICAgICAgICAgaSsrO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBpZiAoaXNMaW5lU3RhcnQgJiYgdGV4dC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgbGluZU9mZnNldHMucHVzaCh0ZXh0Lmxlbmd0aCk7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5fbGluZU9mZnNldHMgPSBsaW5lT2Zmc2V0cztcclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzLl9saW5lT2Zmc2V0cztcclxuICB9XHJcbiAgcG9zaXRpb25BdChvZmZzZXQpIHtcclxuICAgIG9mZnNldCA9IE1hdGgubWF4KE1hdGgubWluKG9mZnNldCwgdGhpcy5fY29udGVudC5sZW5ndGgpLCAwKTtcclxuICAgIGxldCBsaW5lT2Zmc2V0cyA9IHRoaXMuZ2V0TGluZU9mZnNldHMoKTtcclxuICAgIGxldCBsb3cgPSAwLCBoaWdoID0gbGluZU9mZnNldHMubGVuZ3RoO1xyXG4gICAgaWYgKGhpZ2ggPT09IDApIHtcclxuICAgICAgcmV0dXJuIFBvc2l0aW9uLmNyZWF0ZSgwLCBvZmZzZXQpO1xyXG4gICAgfVxyXG4gICAgd2hpbGUgKGxvdyA8IGhpZ2gpIHtcclxuICAgICAgbGV0IG1pZCA9IE1hdGguZmxvb3IoKGxvdyArIGhpZ2gpIC8gMik7XHJcbiAgICAgIGlmIChsaW5lT2Zmc2V0c1ttaWRdID4gb2Zmc2V0KSB7XHJcbiAgICAgICAgaGlnaCA9IG1pZDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBsb3cgPSBtaWQgKyAxO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBsZXQgbGluZSA9IGxvdyAtIDE7XHJcbiAgICByZXR1cm4gUG9zaXRpb24uY3JlYXRlKGxpbmUsIG9mZnNldCAtIGxpbmVPZmZzZXRzW2xpbmVdKTtcclxuICB9XHJcbiAgb2Zmc2V0QXQocG9zaXRpb24pIHtcclxuICAgIGxldCBsaW5lT2Zmc2V0cyA9IHRoaXMuZ2V0TGluZU9mZnNldHMoKTtcclxuICAgIGlmIChwb3NpdGlvbi5saW5lID49IGxpbmVPZmZzZXRzLmxlbmd0aCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5fY29udGVudC5sZW5ndGg7XHJcbiAgICB9IGVsc2UgaWYgKHBvc2l0aW9uLmxpbmUgPCAwKSB7XHJcbiAgICAgIHJldHVybiAwO1xyXG4gICAgfVxyXG4gICAgbGV0IGxpbmVPZmZzZXQgPSBsaW5lT2Zmc2V0c1twb3NpdGlvbi5saW5lXTtcclxuICAgIGxldCBuZXh0TGluZU9mZnNldCA9IHBvc2l0aW9uLmxpbmUgKyAxIDwgbGluZU9mZnNldHMubGVuZ3RoID8gbGluZU9mZnNldHNbcG9zaXRpb24ubGluZSArIDFdIDogdGhpcy5fY29udGVudC5sZW5ndGg7XHJcbiAgICByZXR1cm4gTWF0aC5tYXgoTWF0aC5taW4obGluZU9mZnNldCArIHBvc2l0aW9uLmNoYXJhY3RlciwgbmV4dExpbmVPZmZzZXQpLCBsaW5lT2Zmc2V0KTtcclxuICB9XHJcbiAgZ2V0IGxpbmVDb3VudCgpIHtcclxuICAgIHJldHVybiB0aGlzLmdldExpbmVPZmZzZXRzKCkubGVuZ3RoO1xyXG4gIH1cclxufTtcclxudmFyIElzO1xyXG4oZnVuY3Rpb24oSXMyKSB7XHJcbiAgY29uc3QgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xyXG4gIGZ1bmN0aW9uIGRlZmluZWQodmFsdWUpIHtcclxuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgIT09IFwidW5kZWZpbmVkXCI7XHJcbiAgfVxyXG4gIElzMi5kZWZpbmVkID0gZGVmaW5lZDtcclxuICBmdW5jdGlvbiB1bmRlZmluZWQyKHZhbHVlKSB7XHJcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcInVuZGVmaW5lZFwiO1xyXG4gIH1cclxuICBJczIudW5kZWZpbmVkID0gdW5kZWZpbmVkMjtcclxuICBmdW5jdGlvbiBib29sZWFuKHZhbHVlKSB7XHJcbiAgICByZXR1cm4gdmFsdWUgPT09IHRydWUgfHwgdmFsdWUgPT09IGZhbHNlO1xyXG4gIH1cclxuICBJczIuYm9vbGVhbiA9IGJvb2xlYW47XHJcbiAgZnVuY3Rpb24gc3RyaW5nKHZhbHVlKSB7XHJcbiAgICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09IFwiW29iamVjdCBTdHJpbmddXCI7XHJcbiAgfVxyXG4gIElzMi5zdHJpbmcgPSBzdHJpbmc7XHJcbiAgZnVuY3Rpb24gbnVtYmVyKHZhbHVlKSB7XHJcbiAgICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09IFwiW29iamVjdCBOdW1iZXJdXCI7XHJcbiAgfVxyXG4gIElzMi5udW1iZXIgPSBudW1iZXI7XHJcbiAgZnVuY3Rpb24gbnVtYmVyUmFuZ2UodmFsdWUsIG1pbiwgbWF4KSB7XHJcbiAgICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09IFwiW29iamVjdCBOdW1iZXJdXCIgJiYgbWluIDw9IHZhbHVlICYmIHZhbHVlIDw9IG1heDtcclxuICB9XHJcbiAgSXMyLm51bWJlclJhbmdlID0gbnVtYmVyUmFuZ2U7XHJcbiAgZnVuY3Rpb24gaW50ZWdlcjIodmFsdWUpIHtcclxuICAgIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gXCJbb2JqZWN0IE51bWJlcl1cIiAmJiAtMjE0NzQ4MzY0OCA8PSB2YWx1ZSAmJiB2YWx1ZSA8PSAyMTQ3NDgzNjQ3O1xyXG4gIH1cclxuICBJczIuaW50ZWdlciA9IGludGVnZXIyO1xyXG4gIGZ1bmN0aW9uIHVpbnRlZ2VyMih2YWx1ZSkge1xyXG4gICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsdWUpID09PSBcIltvYmplY3QgTnVtYmVyXVwiICYmIDAgPD0gdmFsdWUgJiYgdmFsdWUgPD0gMjE0NzQ4MzY0NztcclxuICB9XHJcbiAgSXMyLnVpbnRlZ2VyID0gdWludGVnZXIyO1xyXG4gIGZ1bmN0aW9uIGZ1bmModmFsdWUpIHtcclxuICAgIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gXCJbb2JqZWN0IEZ1bmN0aW9uXVwiO1xyXG4gIH1cclxuICBJczIuZnVuYyA9IGZ1bmM7XHJcbiAgZnVuY3Rpb24gb2JqZWN0TGl0ZXJhbCh2YWx1ZSkge1xyXG4gICAgcmV0dXJuIHZhbHVlICE9PSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIjtcclxuICB9XHJcbiAgSXMyLm9iamVjdExpdGVyYWwgPSBvYmplY3RMaXRlcmFsO1xyXG4gIGZ1bmN0aW9uIHR5cGVkQXJyYXkodmFsdWUsIGNoZWNrKSB7XHJcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiYgdmFsdWUuZXZlcnkoY2hlY2spO1xyXG4gIH1cclxuICBJczIudHlwZWRBcnJheSA9IHR5cGVkQXJyYXk7XHJcbn0pKElzIHx8IChJcyA9IHt9KSk7XHJcblxyXG4vLyBzcmMvbGFuZ3VhZ2UvY29tbW9uL2xzcExhbmd1YWdlRmVhdHVyZXMudHNcclxudmFyIERpYWdub3N0aWNzQWRhcHRlciA9IGNsYXNzIHtcclxuICBjb25zdHJ1Y3RvcihfbGFuZ3VhZ2VJZCwgX3dvcmtlciwgY29uZmlnQ2hhbmdlRXZlbnQpIHtcclxuICAgIHRoaXMuX2xhbmd1YWdlSWQgPSBfbGFuZ3VhZ2VJZDtcclxuICAgIHRoaXMuX3dvcmtlciA9IF93b3JrZXI7XHJcbiAgICB0aGlzLl9kaXNwb3NhYmxlcyA9IFtdO1xyXG4gICAgdGhpcy5fbGlzdGVuZXIgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcclxuICAgIGNvbnN0IG9uTW9kZWxBZGQgPSAobW9kZWwpID0+IHtcclxuICAgICAgbGV0IG1vZGVJZCA9IG1vZGVsLmdldExhbmd1YWdlSWQoKTtcclxuICAgICAgaWYgKG1vZGVJZCAhPT0gdGhpcy5fbGFuZ3VhZ2VJZCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBsZXQgaGFuZGxlO1xyXG4gICAgICB0aGlzLl9saXN0ZW5lclttb2RlbC51cmkudG9TdHJpbmcoKV0gPSBtb2RlbC5vbkRpZENoYW5nZUNvbnRlbnQoKCkgPT4ge1xyXG4gICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQoaGFuZGxlKTtcclxuICAgICAgICBoYW5kbGUgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB0aGlzLl9kb1ZhbGlkYXRlKG1vZGVsLnVyaSwgbW9kZUlkKSwgNTAwKTtcclxuICAgICAgfSk7XHJcbiAgICAgIHRoaXMuX2RvVmFsaWRhdGUobW9kZWwudXJpLCBtb2RlSWQpO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IG9uTW9kZWxSZW1vdmVkID0gKG1vZGVsKSA9PiB7XHJcbiAgICAgIG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmVkaXRvci5zZXRNb2RlbE1hcmtlcnMobW9kZWwsIHRoaXMuX2xhbmd1YWdlSWQsIFtdKTtcclxuICAgICAgbGV0IHVyaVN0ciA9IG1vZGVsLnVyaS50b1N0cmluZygpO1xyXG4gICAgICBsZXQgbGlzdGVuZXIgPSB0aGlzLl9saXN0ZW5lclt1cmlTdHJdO1xyXG4gICAgICBpZiAobGlzdGVuZXIpIHtcclxuICAgICAgICBsaXN0ZW5lci5kaXNwb3NlKCk7XHJcbiAgICAgICAgZGVsZXRlIHRoaXMuX2xpc3RlbmVyW3VyaVN0cl07XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICB0aGlzLl9kaXNwb3NhYmxlcy5wdXNoKG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmVkaXRvci5vbkRpZENyZWF0ZU1vZGVsKG9uTW9kZWxBZGQpKTtcclxuICAgIHRoaXMuX2Rpc3Bvc2FibGVzLnB1c2gobW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMuZWRpdG9yLm9uV2lsbERpc3Bvc2VNb2RlbChvbk1vZGVsUmVtb3ZlZCkpO1xyXG4gICAgdGhpcy5fZGlzcG9zYWJsZXMucHVzaChcclxuICAgICAgbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMuZWRpdG9yLm9uRGlkQ2hhbmdlTW9kZWxMYW5ndWFnZSgoZXZlbnQpID0+IHtcclxuICAgICAgICBvbk1vZGVsUmVtb3ZlZChldmVudC5tb2RlbCk7XHJcbiAgICAgICAgb25Nb2RlbEFkZChldmVudC5tb2RlbCk7XHJcbiAgICAgIH0pXHJcbiAgICApO1xyXG4gICAgdGhpcy5fZGlzcG9zYWJsZXMucHVzaChcclxuICAgICAgY29uZmlnQ2hhbmdlRXZlbnQoKF8pID0+IHtcclxuICAgICAgICBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5lZGl0b3IuZ2V0TW9kZWxzKCkuZm9yRWFjaCgobW9kZWwpID0+IHtcclxuICAgICAgICAgIGlmIChtb2RlbC5nZXRMYW5ndWFnZUlkKCkgPT09IHRoaXMuX2xhbmd1YWdlSWQpIHtcclxuICAgICAgICAgICAgb25Nb2RlbFJlbW92ZWQobW9kZWwpO1xyXG4gICAgICAgICAgICBvbk1vZGVsQWRkKG1vZGVsKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfSlcclxuICAgICk7XHJcbiAgICB0aGlzLl9kaXNwb3NhYmxlcy5wdXNoKHtcclxuICAgICAgZGlzcG9zZTogKCkgPT4ge1xyXG4gICAgICAgIG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmVkaXRvci5nZXRNb2RlbHMoKS5mb3JFYWNoKG9uTW9kZWxSZW1vdmVkKTtcclxuICAgICAgICBmb3IgKGxldCBrZXkgaW4gdGhpcy5fbGlzdGVuZXIpIHtcclxuICAgICAgICAgIHRoaXMuX2xpc3RlbmVyW2tleV0uZGlzcG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5lZGl0b3IuZ2V0TW9kZWxzKCkuZm9yRWFjaChvbk1vZGVsQWRkKTtcclxuICB9XHJcbiAgZGlzcG9zZSgpIHtcclxuICAgIHRoaXMuX2Rpc3Bvc2FibGVzLmZvckVhY2goKGQpID0+IGQgJiYgZC5kaXNwb3NlKCkpO1xyXG4gICAgdGhpcy5fZGlzcG9zYWJsZXMubGVuZ3RoID0gMDtcclxuICB9XHJcbiAgX2RvVmFsaWRhdGUocmVzb3VyY2UsIGxhbmd1YWdlSWQpIHtcclxuICAgIHRoaXMuX3dvcmtlcihyZXNvdXJjZSkudGhlbigod29ya2VyMikgPT4ge1xyXG4gICAgICByZXR1cm4gd29ya2VyMi5kb1ZhbGlkYXRpb24ocmVzb3VyY2UudG9TdHJpbmcoKSk7XHJcbiAgICB9KS50aGVuKChkaWFnbm9zdGljcykgPT4ge1xyXG4gICAgICBjb25zdCBtYXJrZXJzID0gZGlhZ25vc3RpY3MubWFwKChkKSA9PiB0b0RpYWdub3N0aWNzKHJlc291cmNlLCBkKSk7XHJcbiAgICAgIGxldCBtb2RlbCA9IG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmVkaXRvci5nZXRNb2RlbChyZXNvdXJjZSk7XHJcbiAgICAgIGlmIChtb2RlbCAmJiBtb2RlbC5nZXRMYW5ndWFnZUlkKCkgPT09IGxhbmd1YWdlSWQpIHtcclxuICAgICAgICBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5lZGl0b3Iuc2V0TW9kZWxNYXJrZXJzKG1vZGVsLCBsYW5ndWFnZUlkLCBtYXJrZXJzKTtcclxuICAgICAgfVxyXG4gICAgfSkudGhlbih2b2lkIDAsIChlcnIpID0+IHtcclxuICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG5mdW5jdGlvbiB0b1NldmVyaXR5KGxzU2V2ZXJpdHkpIHtcclxuICBzd2l0Y2ggKGxzU2V2ZXJpdHkpIHtcclxuICAgIGNhc2UgRGlhZ25vc3RpY1NldmVyaXR5LkVycm9yOlxyXG4gICAgICByZXR1cm4gbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMuTWFya2VyU2V2ZXJpdHkuRXJyb3I7XHJcbiAgICBjYXNlIERpYWdub3N0aWNTZXZlcml0eS5XYXJuaW5nOlxyXG4gICAgICByZXR1cm4gbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMuTWFya2VyU2V2ZXJpdHkuV2FybmluZztcclxuICAgIGNhc2UgRGlhZ25vc3RpY1NldmVyaXR5LkluZm9ybWF0aW9uOlxyXG4gICAgICByZXR1cm4gbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMuTWFya2VyU2V2ZXJpdHkuSW5mbztcclxuICAgIGNhc2UgRGlhZ25vc3RpY1NldmVyaXR5LkhpbnQ6XHJcbiAgICAgIHJldHVybiBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5NYXJrZXJTZXZlcml0eS5IaW50O1xyXG4gICAgZGVmYXVsdDpcclxuICAgICAgcmV0dXJuIG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLk1hcmtlclNldmVyaXR5LkluZm87XHJcbiAgfVxyXG59XHJcbmZ1bmN0aW9uIHRvRGlhZ25vc3RpY3MocmVzb3VyY2UsIGRpYWcpIHtcclxuICBsZXQgY29kZSA9IHR5cGVvZiBkaWFnLmNvZGUgPT09IFwibnVtYmVyXCIgPyBTdHJpbmcoZGlhZy5jb2RlKSA6IGRpYWcuY29kZTtcclxuICByZXR1cm4ge1xyXG4gICAgc2V2ZXJpdHk6IHRvU2V2ZXJpdHkoZGlhZy5zZXZlcml0eSksXHJcbiAgICBzdGFydExpbmVOdW1iZXI6IGRpYWcucmFuZ2Uuc3RhcnQubGluZSArIDEsXHJcbiAgICBzdGFydENvbHVtbjogZGlhZy5yYW5nZS5zdGFydC5jaGFyYWN0ZXIgKyAxLFxyXG4gICAgZW5kTGluZU51bWJlcjogZGlhZy5yYW5nZS5lbmQubGluZSArIDEsXHJcbiAgICBlbmRDb2x1bW46IGRpYWcucmFuZ2UuZW5kLmNoYXJhY3RlciArIDEsXHJcbiAgICBtZXNzYWdlOiBkaWFnLm1lc3NhZ2UsXHJcbiAgICBjb2RlLFxyXG4gICAgc291cmNlOiBkaWFnLnNvdXJjZVxyXG4gIH07XHJcbn1cclxudmFyIENvbXBsZXRpb25BZGFwdGVyID0gY2xhc3Mge1xyXG4gIGNvbnN0cnVjdG9yKF93b3JrZXIsIF90cmlnZ2VyQ2hhcmFjdGVycykge1xyXG4gICAgdGhpcy5fd29ya2VyID0gX3dvcmtlcjtcclxuICAgIHRoaXMuX3RyaWdnZXJDaGFyYWN0ZXJzID0gX3RyaWdnZXJDaGFyYWN0ZXJzO1xyXG4gIH1cclxuICBnZXQgdHJpZ2dlckNoYXJhY3RlcnMoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fdHJpZ2dlckNoYXJhY3RlcnM7XHJcbiAgfVxyXG4gIHByb3ZpZGVDb21wbGV0aW9uSXRlbXMobW9kZWwsIHBvc2l0aW9uLCBjb250ZXh0LCB0b2tlbikge1xyXG4gICAgY29uc3QgcmVzb3VyY2UgPSBtb2RlbC51cmk7XHJcbiAgICByZXR1cm4gdGhpcy5fd29ya2VyKHJlc291cmNlKS50aGVuKCh3b3JrZXIyKSA9PiB7XHJcbiAgICAgIHJldHVybiB3b3JrZXIyLmRvQ29tcGxldGUocmVzb3VyY2UudG9TdHJpbmcoKSwgZnJvbVBvc2l0aW9uKHBvc2l0aW9uKSk7XHJcbiAgICB9KS50aGVuKChpbmZvKSA9PiB7XHJcbiAgICAgIGlmICghaW5mbykge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBjb25zdCB3b3JkSW5mbyA9IG1vZGVsLmdldFdvcmRVbnRpbFBvc2l0aW9uKHBvc2l0aW9uKTtcclxuICAgICAgY29uc3Qgd29yZFJhbmdlID0gbmV3IG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLlJhbmdlKFxyXG4gICAgICAgIHBvc2l0aW9uLmxpbmVOdW1iZXIsXHJcbiAgICAgICAgd29yZEluZm8uc3RhcnRDb2x1bW4sXHJcbiAgICAgICAgcG9zaXRpb24ubGluZU51bWJlcixcclxuICAgICAgICB3b3JkSW5mby5lbmRDb2x1bW5cclxuICAgICAgKTtcclxuICAgICAgY29uc3QgaXRlbXMgPSBpbmZvLml0ZW1zLm1hcCgoZW50cnkpID0+IHtcclxuICAgICAgICBjb25zdCBpdGVtID0ge1xyXG4gICAgICAgICAgbGFiZWw6IGVudHJ5LmxhYmVsLFxyXG4gICAgICAgICAgaW5zZXJ0VGV4dDogZW50cnkuaW5zZXJ0VGV4dCB8fCBlbnRyeS5sYWJlbCxcclxuICAgICAgICAgIHNvcnRUZXh0OiBlbnRyeS5zb3J0VGV4dCxcclxuICAgICAgICAgIGZpbHRlclRleHQ6IGVudHJ5LmZpbHRlclRleHQsXHJcbiAgICAgICAgICBkb2N1bWVudGF0aW9uOiBlbnRyeS5kb2N1bWVudGF0aW9uLFxyXG4gICAgICAgICAgZGV0YWlsOiBlbnRyeS5kZXRhaWwsXHJcbiAgICAgICAgICBjb21tYW5kOiB0b0NvbW1hbmQoZW50cnkuY29tbWFuZCksXHJcbiAgICAgICAgICByYW5nZTogd29yZFJhbmdlLFxyXG4gICAgICAgICAga2luZDogdG9Db21wbGV0aW9uSXRlbUtpbmQoZW50cnkua2luZClcclxuICAgICAgICB9O1xyXG4gICAgICAgIGlmIChlbnRyeS50ZXh0RWRpdCkge1xyXG4gICAgICAgICAgaWYgKGlzSW5zZXJ0UmVwbGFjZUVkaXQoZW50cnkudGV4dEVkaXQpKSB7XHJcbiAgICAgICAgICAgIGl0ZW0ucmFuZ2UgPSB7XHJcbiAgICAgICAgICAgICAgaW5zZXJ0OiB0b1JhbmdlKGVudHJ5LnRleHRFZGl0Lmluc2VydCksXHJcbiAgICAgICAgICAgICAgcmVwbGFjZTogdG9SYW5nZShlbnRyeS50ZXh0RWRpdC5yZXBsYWNlKVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaXRlbS5yYW5nZSA9IHRvUmFuZ2UoZW50cnkudGV4dEVkaXQucmFuZ2UpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaXRlbS5pbnNlcnRUZXh0ID0gZW50cnkudGV4dEVkaXQubmV3VGV4dDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGVudHJ5LmFkZGl0aW9uYWxUZXh0RWRpdHMpIHtcclxuICAgICAgICAgIGl0ZW0uYWRkaXRpb25hbFRleHRFZGl0cyA9IGVudHJ5LmFkZGl0aW9uYWxUZXh0RWRpdHMubWFwKHRvVGV4dEVkaXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZW50cnkuaW5zZXJ0VGV4dEZvcm1hdCA9PT0gSW5zZXJ0VGV4dEZvcm1hdC5TbmlwcGV0KSB7XHJcbiAgICAgICAgICBpdGVtLmluc2VydFRleHRSdWxlcyA9IG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmxhbmd1YWdlcy5Db21wbGV0aW9uSXRlbUluc2VydFRleHRSdWxlLkluc2VydEFzU25pcHBldDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGl0ZW07XHJcbiAgICAgIH0pO1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIGlzSW5jb21wbGV0ZTogaW5mby5pc0luY29tcGxldGUsXHJcbiAgICAgICAgc3VnZ2VzdGlvbnM6IGl0ZW1zXHJcbiAgICAgIH07XHJcbiAgICB9KTtcclxuICB9XHJcbn07XHJcbmZ1bmN0aW9uIGZyb21Qb3NpdGlvbihwb3NpdGlvbikge1xyXG4gIGlmICghcG9zaXRpb24pIHtcclxuICAgIHJldHVybiB2b2lkIDA7XHJcbiAgfVxyXG4gIHJldHVybiB7IGNoYXJhY3RlcjogcG9zaXRpb24uY29sdW1uIC0gMSwgbGluZTogcG9zaXRpb24ubGluZU51bWJlciAtIDEgfTtcclxufVxyXG5mdW5jdGlvbiBmcm9tUmFuZ2UocmFuZ2UpIHtcclxuICBpZiAoIXJhbmdlKSB7XHJcbiAgICByZXR1cm4gdm9pZCAwO1xyXG4gIH1cclxuICByZXR1cm4ge1xyXG4gICAgc3RhcnQ6IHtcclxuICAgICAgbGluZTogcmFuZ2Uuc3RhcnRMaW5lTnVtYmVyIC0gMSxcclxuICAgICAgY2hhcmFjdGVyOiByYW5nZS5zdGFydENvbHVtbiAtIDFcclxuICAgIH0sXHJcbiAgICBlbmQ6IHsgbGluZTogcmFuZ2UuZW5kTGluZU51bWJlciAtIDEsIGNoYXJhY3RlcjogcmFuZ2UuZW5kQ29sdW1uIC0gMSB9XHJcbiAgfTtcclxufVxyXG5mdW5jdGlvbiB0b1JhbmdlKHJhbmdlKSB7XHJcbiAgaWYgKCFyYW5nZSkge1xyXG4gICAgcmV0dXJuIHZvaWQgMDtcclxuICB9XHJcbiAgcmV0dXJuIG5ldyBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5SYW5nZShcclxuICAgIHJhbmdlLnN0YXJ0LmxpbmUgKyAxLFxyXG4gICAgcmFuZ2Uuc3RhcnQuY2hhcmFjdGVyICsgMSxcclxuICAgIHJhbmdlLmVuZC5saW5lICsgMSxcclxuICAgIHJhbmdlLmVuZC5jaGFyYWN0ZXIgKyAxXHJcbiAgKTtcclxufVxyXG5mdW5jdGlvbiBpc0luc2VydFJlcGxhY2VFZGl0KGVkaXQpIHtcclxuICByZXR1cm4gdHlwZW9mIGVkaXQuaW5zZXJ0ICE9PSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiBlZGl0LnJlcGxhY2UgIT09IFwidW5kZWZpbmVkXCI7XHJcbn1cclxuZnVuY3Rpb24gdG9Db21wbGV0aW9uSXRlbUtpbmQoa2luZCkge1xyXG4gIGNvbnN0IG1JdGVtS2luZCA9IG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmxhbmd1YWdlcy5Db21wbGV0aW9uSXRlbUtpbmQ7XHJcbiAgc3dpdGNoIChraW5kKSB7XHJcbiAgICBjYXNlIENvbXBsZXRpb25JdGVtS2luZC5UZXh0OlxyXG4gICAgICByZXR1cm4gbUl0ZW1LaW5kLlRleHQ7XHJcbiAgICBjYXNlIENvbXBsZXRpb25JdGVtS2luZC5NZXRob2Q6XHJcbiAgICAgIHJldHVybiBtSXRlbUtpbmQuTWV0aG9kO1xyXG4gICAgY2FzZSBDb21wbGV0aW9uSXRlbUtpbmQuRnVuY3Rpb246XHJcbiAgICAgIHJldHVybiBtSXRlbUtpbmQuRnVuY3Rpb247XHJcbiAgICBjYXNlIENvbXBsZXRpb25JdGVtS2luZC5Db25zdHJ1Y3RvcjpcclxuICAgICAgcmV0dXJuIG1JdGVtS2luZC5Db25zdHJ1Y3RvcjtcclxuICAgIGNhc2UgQ29tcGxldGlvbkl0ZW1LaW5kLkZpZWxkOlxyXG4gICAgICByZXR1cm4gbUl0ZW1LaW5kLkZpZWxkO1xyXG4gICAgY2FzZSBDb21wbGV0aW9uSXRlbUtpbmQuVmFyaWFibGU6XHJcbiAgICAgIHJldHVybiBtSXRlbUtpbmQuVmFyaWFibGU7XHJcbiAgICBjYXNlIENvbXBsZXRpb25JdGVtS2luZC5DbGFzczpcclxuICAgICAgcmV0dXJuIG1JdGVtS2luZC5DbGFzcztcclxuICAgIGNhc2UgQ29tcGxldGlvbkl0ZW1LaW5kLkludGVyZmFjZTpcclxuICAgICAgcmV0dXJuIG1JdGVtS2luZC5JbnRlcmZhY2U7XHJcbiAgICBjYXNlIENvbXBsZXRpb25JdGVtS2luZC5Nb2R1bGU6XHJcbiAgICAgIHJldHVybiBtSXRlbUtpbmQuTW9kdWxlO1xyXG4gICAgY2FzZSBDb21wbGV0aW9uSXRlbUtpbmQuUHJvcGVydHk6XHJcbiAgICAgIHJldHVybiBtSXRlbUtpbmQuUHJvcGVydHk7XHJcbiAgICBjYXNlIENvbXBsZXRpb25JdGVtS2luZC5Vbml0OlxyXG4gICAgICByZXR1cm4gbUl0ZW1LaW5kLlVuaXQ7XHJcbiAgICBjYXNlIENvbXBsZXRpb25JdGVtS2luZC5WYWx1ZTpcclxuICAgICAgcmV0dXJuIG1JdGVtS2luZC5WYWx1ZTtcclxuICAgIGNhc2UgQ29tcGxldGlvbkl0ZW1LaW5kLkVudW06XHJcbiAgICAgIHJldHVybiBtSXRlbUtpbmQuRW51bTtcclxuICAgIGNhc2UgQ29tcGxldGlvbkl0ZW1LaW5kLktleXdvcmQ6XHJcbiAgICAgIHJldHVybiBtSXRlbUtpbmQuS2V5d29yZDtcclxuICAgIGNhc2UgQ29tcGxldGlvbkl0ZW1LaW5kLlNuaXBwZXQ6XHJcbiAgICAgIHJldHVybiBtSXRlbUtpbmQuU25pcHBldDtcclxuICAgIGNhc2UgQ29tcGxldGlvbkl0ZW1LaW5kLkNvbG9yOlxyXG4gICAgICByZXR1cm4gbUl0ZW1LaW5kLkNvbG9yO1xyXG4gICAgY2FzZSBDb21wbGV0aW9uSXRlbUtpbmQuRmlsZTpcclxuICAgICAgcmV0dXJuIG1JdGVtS2luZC5GaWxlO1xyXG4gICAgY2FzZSBDb21wbGV0aW9uSXRlbUtpbmQuUmVmZXJlbmNlOlxyXG4gICAgICByZXR1cm4gbUl0ZW1LaW5kLlJlZmVyZW5jZTtcclxuICB9XHJcbiAgcmV0dXJuIG1JdGVtS2luZC5Qcm9wZXJ0eTtcclxufVxyXG5mdW5jdGlvbiB0b1RleHRFZGl0KHRleHRFZGl0KSB7XHJcbiAgaWYgKCF0ZXh0RWRpdCkge1xyXG4gICAgcmV0dXJuIHZvaWQgMDtcclxuICB9XHJcbiAgcmV0dXJuIHtcclxuICAgIHJhbmdlOiB0b1JhbmdlKHRleHRFZGl0LnJhbmdlKSxcclxuICAgIHRleHQ6IHRleHRFZGl0Lm5ld1RleHRcclxuICB9O1xyXG59XHJcbmZ1bmN0aW9uIHRvQ29tbWFuZChjKSB7XHJcbiAgcmV0dXJuIGMgJiYgYy5jb21tYW5kID09PSBcImVkaXRvci5hY3Rpb24udHJpZ2dlclN1Z2dlc3RcIiA/IHsgaWQ6IGMuY29tbWFuZCwgdGl0bGU6IGMudGl0bGUsIGFyZ3VtZW50czogYy5hcmd1bWVudHMgfSA6IHZvaWQgMDtcclxufVxyXG52YXIgSG92ZXJBZGFwdGVyID0gY2xhc3Mge1xyXG4gIGNvbnN0cnVjdG9yKF93b3JrZXIpIHtcclxuICAgIHRoaXMuX3dvcmtlciA9IF93b3JrZXI7XHJcbiAgfVxyXG4gIHByb3ZpZGVIb3Zlcihtb2RlbCwgcG9zaXRpb24sIHRva2VuKSB7XHJcbiAgICBsZXQgcmVzb3VyY2UgPSBtb2RlbC51cmk7XHJcbiAgICByZXR1cm4gdGhpcy5fd29ya2VyKHJlc291cmNlKS50aGVuKCh3b3JrZXIyKSA9PiB7XHJcbiAgICAgIHJldHVybiB3b3JrZXIyLmRvSG92ZXIocmVzb3VyY2UudG9TdHJpbmcoKSwgZnJvbVBvc2l0aW9uKHBvc2l0aW9uKSk7XHJcbiAgICB9KS50aGVuKChpbmZvKSA9PiB7XHJcbiAgICAgIGlmICghaW5mbykge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHJhbmdlOiB0b1JhbmdlKGluZm8ucmFuZ2UpLFxyXG4gICAgICAgIGNvbnRlbnRzOiB0b01hcmtlZFN0cmluZ0FycmF5KGluZm8uY29udGVudHMpXHJcbiAgICAgIH07XHJcbiAgICB9KTtcclxuICB9XHJcbn07XHJcbmZ1bmN0aW9uIGlzTWFya3VwQ29udGVudCh0aGluZykge1xyXG4gIHJldHVybiB0aGluZyAmJiB0eXBlb2YgdGhpbmcgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIHRoaW5nLmtpbmQgPT09IFwic3RyaW5nXCI7XHJcbn1cclxuZnVuY3Rpb24gdG9NYXJrZG93blN0cmluZyhlbnRyeSkge1xyXG4gIGlmICh0eXBlb2YgZW50cnkgPT09IFwic3RyaW5nXCIpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHZhbHVlOiBlbnRyeVxyXG4gICAgfTtcclxuICB9XHJcbiAgaWYgKGlzTWFya3VwQ29udGVudChlbnRyeSkpIHtcclxuICAgIGlmIChlbnRyeS5raW5kID09PSBcInBsYWludGV4dFwiKSB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgdmFsdWU6IGVudHJ5LnZhbHVlLnJlcGxhY2UoL1tcXFxcYCpfe31bXFxdKCkjK1xcLS4hXS9nLCBcIlxcXFwkJlwiKVxyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgdmFsdWU6IGVudHJ5LnZhbHVlXHJcbiAgICB9O1xyXG4gIH1cclxuICByZXR1cm4geyB2YWx1ZTogXCJgYGBcIiArIGVudHJ5Lmxhbmd1YWdlICsgXCJcXG5cIiArIGVudHJ5LnZhbHVlICsgXCJcXG5gYGBcXG5cIiB9O1xyXG59XHJcbmZ1bmN0aW9uIHRvTWFya2VkU3RyaW5nQXJyYXkoY29udGVudHMpIHtcclxuICBpZiAoIWNvbnRlbnRzKSB7XHJcbiAgICByZXR1cm4gdm9pZCAwO1xyXG4gIH1cclxuICBpZiAoQXJyYXkuaXNBcnJheShjb250ZW50cykpIHtcclxuICAgIHJldHVybiBjb250ZW50cy5tYXAodG9NYXJrZG93blN0cmluZyk7XHJcbiAgfVxyXG4gIHJldHVybiBbdG9NYXJrZG93blN0cmluZyhjb250ZW50cyldO1xyXG59XHJcbnZhciBEb2N1bWVudEhpZ2hsaWdodEFkYXB0ZXIgPSBjbGFzcyB7XHJcbiAgY29uc3RydWN0b3IoX3dvcmtlcikge1xyXG4gICAgdGhpcy5fd29ya2VyID0gX3dvcmtlcjtcclxuICB9XHJcbiAgcHJvdmlkZURvY3VtZW50SGlnaGxpZ2h0cyhtb2RlbCwgcG9zaXRpb24sIHRva2VuKSB7XHJcbiAgICBjb25zdCByZXNvdXJjZSA9IG1vZGVsLnVyaTtcclxuICAgIHJldHVybiB0aGlzLl93b3JrZXIocmVzb3VyY2UpLnRoZW4oKHdvcmtlcjIpID0+IHdvcmtlcjIuZmluZERvY3VtZW50SGlnaGxpZ2h0cyhyZXNvdXJjZS50b1N0cmluZygpLCBmcm9tUG9zaXRpb24ocG9zaXRpb24pKSkudGhlbigoZW50cmllcykgPT4ge1xyXG4gICAgICBpZiAoIWVudHJpZXMpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGVudHJpZXMubWFwKChlbnRyeSkgPT4ge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICByYW5nZTogdG9SYW5nZShlbnRyeS5yYW5nZSksXHJcbiAgICAgICAgICBraW5kOiB0b0RvY3VtZW50SGlnaGxpZ2h0S2luZChlbnRyeS5raW5kKVxyXG4gICAgICAgIH07XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG5mdW5jdGlvbiB0b0RvY3VtZW50SGlnaGxpZ2h0S2luZChraW5kKSB7XHJcbiAgc3dpdGNoIChraW5kKSB7XHJcbiAgICBjYXNlIERvY3VtZW50SGlnaGxpZ2h0S2luZC5SZWFkOlxyXG4gICAgICByZXR1cm4gbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLkRvY3VtZW50SGlnaGxpZ2h0S2luZC5SZWFkO1xyXG4gICAgY2FzZSBEb2N1bWVudEhpZ2hsaWdodEtpbmQuV3JpdGU6XHJcbiAgICAgIHJldHVybiBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5sYW5ndWFnZXMuRG9jdW1lbnRIaWdobGlnaHRLaW5kLldyaXRlO1xyXG4gICAgY2FzZSBEb2N1bWVudEhpZ2hsaWdodEtpbmQuVGV4dDpcclxuICAgICAgcmV0dXJuIG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmxhbmd1YWdlcy5Eb2N1bWVudEhpZ2hsaWdodEtpbmQuVGV4dDtcclxuICB9XHJcbiAgcmV0dXJuIG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmxhbmd1YWdlcy5Eb2N1bWVudEhpZ2hsaWdodEtpbmQuVGV4dDtcclxufVxyXG52YXIgRGVmaW5pdGlvbkFkYXB0ZXIgPSBjbGFzcyB7XHJcbiAgY29uc3RydWN0b3IoX3dvcmtlcikge1xyXG4gICAgdGhpcy5fd29ya2VyID0gX3dvcmtlcjtcclxuICB9XHJcbiAgcHJvdmlkZURlZmluaXRpb24obW9kZWwsIHBvc2l0aW9uLCB0b2tlbikge1xyXG4gICAgY29uc3QgcmVzb3VyY2UgPSBtb2RlbC51cmk7XHJcbiAgICByZXR1cm4gdGhpcy5fd29ya2VyKHJlc291cmNlKS50aGVuKCh3b3JrZXIyKSA9PiB7XHJcbiAgICAgIHJldHVybiB3b3JrZXIyLmZpbmREZWZpbml0aW9uKHJlc291cmNlLnRvU3RyaW5nKCksIGZyb21Qb3NpdGlvbihwb3NpdGlvbikpO1xyXG4gICAgfSkudGhlbigoZGVmaW5pdGlvbikgPT4ge1xyXG4gICAgICBpZiAoIWRlZmluaXRpb24pIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIFt0b0xvY2F0aW9uKGRlZmluaXRpb24pXTtcclxuICAgIH0pO1xyXG4gIH1cclxufTtcclxuZnVuY3Rpb24gdG9Mb2NhdGlvbihsb2NhdGlvbikge1xyXG4gIHJldHVybiB7XHJcbiAgICB1cmk6IG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLlVyaS5wYXJzZShsb2NhdGlvbi51cmkpLFxyXG4gICAgcmFuZ2U6IHRvUmFuZ2UobG9jYXRpb24ucmFuZ2UpXHJcbiAgfTtcclxufVxyXG52YXIgUmVmZXJlbmNlQWRhcHRlciA9IGNsYXNzIHtcclxuICBjb25zdHJ1Y3Rvcihfd29ya2VyKSB7XHJcbiAgICB0aGlzLl93b3JrZXIgPSBfd29ya2VyO1xyXG4gIH1cclxuICBwcm92aWRlUmVmZXJlbmNlcyhtb2RlbCwgcG9zaXRpb24sIGNvbnRleHQsIHRva2VuKSB7XHJcbiAgICBjb25zdCByZXNvdXJjZSA9IG1vZGVsLnVyaTtcclxuICAgIHJldHVybiB0aGlzLl93b3JrZXIocmVzb3VyY2UpLnRoZW4oKHdvcmtlcjIpID0+IHtcclxuICAgICAgcmV0dXJuIHdvcmtlcjIuZmluZFJlZmVyZW5jZXMocmVzb3VyY2UudG9TdHJpbmcoKSwgZnJvbVBvc2l0aW9uKHBvc2l0aW9uKSk7XHJcbiAgICB9KS50aGVuKChlbnRyaWVzKSA9PiB7XHJcbiAgICAgIGlmICghZW50cmllcykge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gZW50cmllcy5tYXAodG9Mb2NhdGlvbik7XHJcbiAgICB9KTtcclxuICB9XHJcbn07XHJcbnZhciBSZW5hbWVBZGFwdGVyID0gY2xhc3Mge1xyXG4gIGNvbnN0cnVjdG9yKF93b3JrZXIpIHtcclxuICAgIHRoaXMuX3dvcmtlciA9IF93b3JrZXI7XHJcbiAgfVxyXG4gIHByb3ZpZGVSZW5hbWVFZGl0cyhtb2RlbCwgcG9zaXRpb24sIG5ld05hbWUsIHRva2VuKSB7XHJcbiAgICBjb25zdCByZXNvdXJjZSA9IG1vZGVsLnVyaTtcclxuICAgIHJldHVybiB0aGlzLl93b3JrZXIocmVzb3VyY2UpLnRoZW4oKHdvcmtlcjIpID0+IHtcclxuICAgICAgcmV0dXJuIHdvcmtlcjIuZG9SZW5hbWUocmVzb3VyY2UudG9TdHJpbmcoKSwgZnJvbVBvc2l0aW9uKHBvc2l0aW9uKSwgbmV3TmFtZSk7XHJcbiAgICB9KS50aGVuKChlZGl0KSA9PiB7XHJcbiAgICAgIHJldHVybiB0b1dvcmtzcGFjZUVkaXQoZWRpdCk7XHJcbiAgICB9KTtcclxuICB9XHJcbn07XHJcbmZ1bmN0aW9uIHRvV29ya3NwYWNlRWRpdChlZGl0KSB7XHJcbiAgaWYgKCFlZGl0IHx8ICFlZGl0LmNoYW5nZXMpIHtcclxuICAgIHJldHVybiB2b2lkIDA7XHJcbiAgfVxyXG4gIGxldCByZXNvdXJjZUVkaXRzID0gW107XHJcbiAgZm9yIChsZXQgdXJpIGluIGVkaXQuY2hhbmdlcykge1xyXG4gICAgY29uc3QgX3VyaSA9IG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLlVyaS5wYXJzZSh1cmkpO1xyXG4gICAgZm9yIChsZXQgZSBvZiBlZGl0LmNoYW5nZXNbdXJpXSkge1xyXG4gICAgICByZXNvdXJjZUVkaXRzLnB1c2goe1xyXG4gICAgICAgIHJlc291cmNlOiBfdXJpLFxyXG4gICAgICAgIHZlcnNpb25JZDogdm9pZCAwLFxyXG4gICAgICAgIHRleHRFZGl0OiB7XHJcbiAgICAgICAgICByYW5nZTogdG9SYW5nZShlLnJhbmdlKSxcclxuICAgICAgICAgIHRleHQ6IGUubmV3VGV4dFxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiB7XHJcbiAgICBlZGl0czogcmVzb3VyY2VFZGl0c1xyXG4gIH07XHJcbn1cclxudmFyIERvY3VtZW50U3ltYm9sQWRhcHRlciA9IGNsYXNzIHtcclxuICBjb25zdHJ1Y3Rvcihfd29ya2VyKSB7XHJcbiAgICB0aGlzLl93b3JrZXIgPSBfd29ya2VyO1xyXG4gIH1cclxuICBwcm92aWRlRG9jdW1lbnRTeW1ib2xzKG1vZGVsLCB0b2tlbikge1xyXG4gICAgY29uc3QgcmVzb3VyY2UgPSBtb2RlbC51cmk7XHJcbiAgICByZXR1cm4gdGhpcy5fd29ya2VyKHJlc291cmNlKS50aGVuKCh3b3JrZXIyKSA9PiB3b3JrZXIyLmZpbmREb2N1bWVudFN5bWJvbHMocmVzb3VyY2UudG9TdHJpbmcoKSkpLnRoZW4oKGl0ZW1zKSA9PiB7XHJcbiAgICAgIGlmICghaXRlbXMpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGl0ZW1zLm1hcCgoaXRlbSkgPT4ge1xyXG4gICAgICAgIGlmIChpc0RvY3VtZW50U3ltYm9sKGl0ZW0pKSB7XHJcbiAgICAgICAgICByZXR1cm4gdG9Eb2N1bWVudFN5bWJvbChpdGVtKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIG5hbWU6IGl0ZW0ubmFtZSxcclxuICAgICAgICAgIGRldGFpbDogXCJcIixcclxuICAgICAgICAgIGNvbnRhaW5lck5hbWU6IGl0ZW0uY29udGFpbmVyTmFtZSxcclxuICAgICAgICAgIGtpbmQ6IHRvU3ltYm9sS2luZChpdGVtLmtpbmQpLFxyXG4gICAgICAgICAgcmFuZ2U6IHRvUmFuZ2UoaXRlbS5sb2NhdGlvbi5yYW5nZSksXHJcbiAgICAgICAgICBzZWxlY3Rpb25SYW5nZTogdG9SYW5nZShpdGVtLmxvY2F0aW9uLnJhbmdlKSxcclxuICAgICAgICAgIHRhZ3M6IFtdXHJcbiAgICAgICAgfTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcbn07XHJcbmZ1bmN0aW9uIGlzRG9jdW1lbnRTeW1ib2woc3ltYm9sKSB7XHJcbiAgcmV0dXJuIFwiY2hpbGRyZW5cIiBpbiBzeW1ib2w7XHJcbn1cclxuZnVuY3Rpb24gdG9Eb2N1bWVudFN5bWJvbChzeW1ib2wpIHtcclxuICByZXR1cm4ge1xyXG4gICAgbmFtZTogc3ltYm9sLm5hbWUsXHJcbiAgICBkZXRhaWw6IHN5bWJvbC5kZXRhaWwgPz8gXCJcIixcclxuICAgIGtpbmQ6IHRvU3ltYm9sS2luZChzeW1ib2wua2luZCksXHJcbiAgICByYW5nZTogdG9SYW5nZShzeW1ib2wucmFuZ2UpLFxyXG4gICAgc2VsZWN0aW9uUmFuZ2U6IHRvUmFuZ2Uoc3ltYm9sLnNlbGVjdGlvblJhbmdlKSxcclxuICAgIHRhZ3M6IHN5bWJvbC50YWdzID8/IFtdLFxyXG4gICAgY2hpbGRyZW46IChzeW1ib2wuY2hpbGRyZW4gPz8gW10pLm1hcCgoaXRlbSkgPT4gdG9Eb2N1bWVudFN5bWJvbChpdGVtKSlcclxuICB9O1xyXG59XHJcbmZ1bmN0aW9uIHRvU3ltYm9sS2luZChraW5kKSB7XHJcbiAgbGV0IG1LaW5kID0gbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLlN5bWJvbEtpbmQ7XHJcbiAgc3dpdGNoIChraW5kKSB7XHJcbiAgICBjYXNlIFN5bWJvbEtpbmQuRmlsZTpcclxuICAgICAgcmV0dXJuIG1LaW5kLkZpbGU7XHJcbiAgICBjYXNlIFN5bWJvbEtpbmQuTW9kdWxlOlxyXG4gICAgICByZXR1cm4gbUtpbmQuTW9kdWxlO1xyXG4gICAgY2FzZSBTeW1ib2xLaW5kLk5hbWVzcGFjZTpcclxuICAgICAgcmV0dXJuIG1LaW5kLk5hbWVzcGFjZTtcclxuICAgIGNhc2UgU3ltYm9sS2luZC5QYWNrYWdlOlxyXG4gICAgICByZXR1cm4gbUtpbmQuUGFja2FnZTtcclxuICAgIGNhc2UgU3ltYm9sS2luZC5DbGFzczpcclxuICAgICAgcmV0dXJuIG1LaW5kLkNsYXNzO1xyXG4gICAgY2FzZSBTeW1ib2xLaW5kLk1ldGhvZDpcclxuICAgICAgcmV0dXJuIG1LaW5kLk1ldGhvZDtcclxuICAgIGNhc2UgU3ltYm9sS2luZC5Qcm9wZXJ0eTpcclxuICAgICAgcmV0dXJuIG1LaW5kLlByb3BlcnR5O1xyXG4gICAgY2FzZSBTeW1ib2xLaW5kLkZpZWxkOlxyXG4gICAgICByZXR1cm4gbUtpbmQuRmllbGQ7XHJcbiAgICBjYXNlIFN5bWJvbEtpbmQuQ29uc3RydWN0b3I6XHJcbiAgICAgIHJldHVybiBtS2luZC5Db25zdHJ1Y3RvcjtcclxuICAgIGNhc2UgU3ltYm9sS2luZC5FbnVtOlxyXG4gICAgICByZXR1cm4gbUtpbmQuRW51bTtcclxuICAgIGNhc2UgU3ltYm9sS2luZC5JbnRlcmZhY2U6XHJcbiAgICAgIHJldHVybiBtS2luZC5JbnRlcmZhY2U7XHJcbiAgICBjYXNlIFN5bWJvbEtpbmQuRnVuY3Rpb246XHJcbiAgICAgIHJldHVybiBtS2luZC5GdW5jdGlvbjtcclxuICAgIGNhc2UgU3ltYm9sS2luZC5WYXJpYWJsZTpcclxuICAgICAgcmV0dXJuIG1LaW5kLlZhcmlhYmxlO1xyXG4gICAgY2FzZSBTeW1ib2xLaW5kLkNvbnN0YW50OlxyXG4gICAgICByZXR1cm4gbUtpbmQuQ29uc3RhbnQ7XHJcbiAgICBjYXNlIFN5bWJvbEtpbmQuU3RyaW5nOlxyXG4gICAgICByZXR1cm4gbUtpbmQuU3RyaW5nO1xyXG4gICAgY2FzZSBTeW1ib2xLaW5kLk51bWJlcjpcclxuICAgICAgcmV0dXJuIG1LaW5kLk51bWJlcjtcclxuICAgIGNhc2UgU3ltYm9sS2luZC5Cb29sZWFuOlxyXG4gICAgICByZXR1cm4gbUtpbmQuQm9vbGVhbjtcclxuICAgIGNhc2UgU3ltYm9sS2luZC5BcnJheTpcclxuICAgICAgcmV0dXJuIG1LaW5kLkFycmF5O1xyXG4gIH1cclxuICByZXR1cm4gbUtpbmQuRnVuY3Rpb247XHJcbn1cclxudmFyIERvY3VtZW50TGlua0FkYXB0ZXIgPSBjbGFzcyB7XHJcbiAgY29uc3RydWN0b3IoX3dvcmtlcikge1xyXG4gICAgdGhpcy5fd29ya2VyID0gX3dvcmtlcjtcclxuICB9XHJcbiAgcHJvdmlkZUxpbmtzKG1vZGVsLCB0b2tlbikge1xyXG4gICAgY29uc3QgcmVzb3VyY2UgPSBtb2RlbC51cmk7XHJcbiAgICByZXR1cm4gdGhpcy5fd29ya2VyKHJlc291cmNlKS50aGVuKCh3b3JrZXIyKSA9PiB3b3JrZXIyLmZpbmREb2N1bWVudExpbmtzKHJlc291cmNlLnRvU3RyaW5nKCkpKS50aGVuKChpdGVtcykgPT4ge1xyXG4gICAgICBpZiAoIWl0ZW1zKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgbGlua3M6IGl0ZW1zLm1hcCgoaXRlbSkgPT4gKHtcclxuICAgICAgICAgIHJhbmdlOiB0b1JhbmdlKGl0ZW0ucmFuZ2UpLFxyXG4gICAgICAgICAgdXJsOiBpdGVtLnRhcmdldFxyXG4gICAgICAgIH0pKVxyXG4gICAgICB9O1xyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG52YXIgRG9jdW1lbnRGb3JtYXR0aW5nRWRpdFByb3ZpZGVyID0gY2xhc3Mge1xyXG4gIGNvbnN0cnVjdG9yKF93b3JrZXIpIHtcclxuICAgIHRoaXMuX3dvcmtlciA9IF93b3JrZXI7XHJcbiAgfVxyXG4gIHByb3ZpZGVEb2N1bWVudEZvcm1hdHRpbmdFZGl0cyhtb2RlbCwgb3B0aW9ucywgdG9rZW4pIHtcclxuICAgIGNvbnN0IHJlc291cmNlID0gbW9kZWwudXJpO1xyXG4gICAgcmV0dXJuIHRoaXMuX3dvcmtlcihyZXNvdXJjZSkudGhlbigod29ya2VyMikgPT4ge1xyXG4gICAgICByZXR1cm4gd29ya2VyMi5mb3JtYXQocmVzb3VyY2UudG9TdHJpbmcoKSwgbnVsbCwgZnJvbUZvcm1hdHRpbmdPcHRpb25zKG9wdGlvbnMpKS50aGVuKChlZGl0cykgPT4ge1xyXG4gICAgICAgIGlmICghZWRpdHMgfHwgZWRpdHMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBlZGl0cy5tYXAodG9UZXh0RWRpdCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG52YXIgRG9jdW1lbnRSYW5nZUZvcm1hdHRpbmdFZGl0UHJvdmlkZXIgPSBjbGFzcyB7XHJcbiAgY29uc3RydWN0b3IoX3dvcmtlcikge1xyXG4gICAgdGhpcy5fd29ya2VyID0gX3dvcmtlcjtcclxuICAgIHRoaXMuY2FuRm9ybWF0TXVsdGlwbGVSYW5nZXMgPSBmYWxzZTtcclxuICB9XHJcbiAgcHJvdmlkZURvY3VtZW50UmFuZ2VGb3JtYXR0aW5nRWRpdHMobW9kZWwsIHJhbmdlLCBvcHRpb25zLCB0b2tlbikge1xyXG4gICAgY29uc3QgcmVzb3VyY2UgPSBtb2RlbC51cmk7XHJcbiAgICByZXR1cm4gdGhpcy5fd29ya2VyKHJlc291cmNlKS50aGVuKCh3b3JrZXIyKSA9PiB7XHJcbiAgICAgIHJldHVybiB3b3JrZXIyLmZvcm1hdChyZXNvdXJjZS50b1N0cmluZygpLCBmcm9tUmFuZ2UocmFuZ2UpLCBmcm9tRm9ybWF0dGluZ09wdGlvbnMob3B0aW9ucykpLnRoZW4oKGVkaXRzKSA9PiB7XHJcbiAgICAgICAgaWYgKCFlZGl0cyB8fCBlZGl0cy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGVkaXRzLm1hcCh0b1RleHRFZGl0KTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcbn07XHJcbmZ1bmN0aW9uIGZyb21Gb3JtYXR0aW5nT3B0aW9ucyhvcHRpb25zKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHRhYlNpemU6IG9wdGlvbnMudGFiU2l6ZSxcclxuICAgIGluc2VydFNwYWNlczogb3B0aW9ucy5pbnNlcnRTcGFjZXNcclxuICB9O1xyXG59XHJcbnZhciBEb2N1bWVudENvbG9yQWRhcHRlciA9IGNsYXNzIHtcclxuICBjb25zdHJ1Y3Rvcihfd29ya2VyKSB7XHJcbiAgICB0aGlzLl93b3JrZXIgPSBfd29ya2VyO1xyXG4gIH1cclxuICBwcm92aWRlRG9jdW1lbnRDb2xvcnMobW9kZWwsIHRva2VuKSB7XHJcbiAgICBjb25zdCByZXNvdXJjZSA9IG1vZGVsLnVyaTtcclxuICAgIHJldHVybiB0aGlzLl93b3JrZXIocmVzb3VyY2UpLnRoZW4oKHdvcmtlcjIpID0+IHdvcmtlcjIuZmluZERvY3VtZW50Q29sb3JzKHJlc291cmNlLnRvU3RyaW5nKCkpKS50aGVuKChpbmZvcykgPT4ge1xyXG4gICAgICBpZiAoIWluZm9zKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBpbmZvcy5tYXAoKGl0ZW0pID0+ICh7XHJcbiAgICAgICAgY29sb3I6IGl0ZW0uY29sb3IsXHJcbiAgICAgICAgcmFuZ2U6IHRvUmFuZ2UoaXRlbS5yYW5nZSlcclxuICAgICAgfSkpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIHByb3ZpZGVDb2xvclByZXNlbnRhdGlvbnMobW9kZWwsIGluZm8sIHRva2VuKSB7XHJcbiAgICBjb25zdCByZXNvdXJjZSA9IG1vZGVsLnVyaTtcclxuICAgIHJldHVybiB0aGlzLl93b3JrZXIocmVzb3VyY2UpLnRoZW4oXHJcbiAgICAgICh3b3JrZXIyKSA9PiB3b3JrZXIyLmdldENvbG9yUHJlc2VudGF0aW9ucyhyZXNvdXJjZS50b1N0cmluZygpLCBpbmZvLmNvbG9yLCBmcm9tUmFuZ2UoaW5mby5yYW5nZSkpXHJcbiAgICApLnRoZW4oKHByZXNlbnRhdGlvbnMpID0+IHtcclxuICAgICAgaWYgKCFwcmVzZW50YXRpb25zKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBwcmVzZW50YXRpb25zLm1hcCgocHJlc2VudGF0aW9uKSA9PiB7XHJcbiAgICAgICAgbGV0IGl0ZW0gPSB7XHJcbiAgICAgICAgICBsYWJlbDogcHJlc2VudGF0aW9uLmxhYmVsXHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAocHJlc2VudGF0aW9uLnRleHRFZGl0KSB7XHJcbiAgICAgICAgICBpdGVtLnRleHRFZGl0ID0gdG9UZXh0RWRpdChwcmVzZW50YXRpb24udGV4dEVkaXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocHJlc2VudGF0aW9uLmFkZGl0aW9uYWxUZXh0RWRpdHMpIHtcclxuICAgICAgICAgIGl0ZW0uYWRkaXRpb25hbFRleHRFZGl0cyA9IHByZXNlbnRhdGlvbi5hZGRpdGlvbmFsVGV4dEVkaXRzLm1hcCh0b1RleHRFZGl0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGl0ZW07XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG52YXIgRm9sZGluZ1JhbmdlQWRhcHRlciA9IGNsYXNzIHtcclxuICBjb25zdHJ1Y3Rvcihfd29ya2VyKSB7XHJcbiAgICB0aGlzLl93b3JrZXIgPSBfd29ya2VyO1xyXG4gIH1cclxuICBwcm92aWRlRm9sZGluZ1Jhbmdlcyhtb2RlbCwgY29udGV4dCwgdG9rZW4pIHtcclxuICAgIGNvbnN0IHJlc291cmNlID0gbW9kZWwudXJpO1xyXG4gICAgcmV0dXJuIHRoaXMuX3dvcmtlcihyZXNvdXJjZSkudGhlbigod29ya2VyMikgPT4gd29ya2VyMi5nZXRGb2xkaW5nUmFuZ2VzKHJlc291cmNlLnRvU3RyaW5nKCksIGNvbnRleHQpKS50aGVuKChyYW5nZXMpID0+IHtcclxuICAgICAgaWYgKCFyYW5nZXMpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHJhbmdlcy5tYXAoKHJhbmdlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0ge1xyXG4gICAgICAgICAgc3RhcnQ6IHJhbmdlLnN0YXJ0TGluZSArIDEsXHJcbiAgICAgICAgICBlbmQ6IHJhbmdlLmVuZExpbmUgKyAxXHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAodHlwZW9mIHJhbmdlLmtpbmQgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgIHJlc3VsdC5raW5kID0gdG9Gb2xkaW5nUmFuZ2VLaW5kKHJhbmdlLmtpbmQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxufTtcclxuZnVuY3Rpb24gdG9Gb2xkaW5nUmFuZ2VLaW5kKGtpbmQpIHtcclxuICBzd2l0Y2ggKGtpbmQpIHtcclxuICAgIGNhc2UgRm9sZGluZ1JhbmdlS2luZC5Db21tZW50OlxyXG4gICAgICByZXR1cm4gbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLkZvbGRpbmdSYW5nZUtpbmQuQ29tbWVudDtcclxuICAgIGNhc2UgRm9sZGluZ1JhbmdlS2luZC5JbXBvcnRzOlxyXG4gICAgICByZXR1cm4gbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLkZvbGRpbmdSYW5nZUtpbmQuSW1wb3J0cztcclxuICAgIGNhc2UgRm9sZGluZ1JhbmdlS2luZC5SZWdpb246XHJcbiAgICAgIHJldHVybiBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5sYW5ndWFnZXMuRm9sZGluZ1JhbmdlS2luZC5SZWdpb247XHJcbiAgfVxyXG4gIHJldHVybiB2b2lkIDA7XHJcbn1cclxudmFyIFNlbGVjdGlvblJhbmdlQWRhcHRlciA9IGNsYXNzIHtcclxuICBjb25zdHJ1Y3Rvcihfd29ya2VyKSB7XHJcbiAgICB0aGlzLl93b3JrZXIgPSBfd29ya2VyO1xyXG4gIH1cclxuICBwcm92aWRlU2VsZWN0aW9uUmFuZ2VzKG1vZGVsLCBwb3NpdGlvbnMsIHRva2VuKSB7XHJcbiAgICBjb25zdCByZXNvdXJjZSA9IG1vZGVsLnVyaTtcclxuICAgIHJldHVybiB0aGlzLl93b3JrZXIocmVzb3VyY2UpLnRoZW4oXHJcbiAgICAgICh3b3JrZXIyKSA9PiB3b3JrZXIyLmdldFNlbGVjdGlvblJhbmdlcyhcclxuICAgICAgICByZXNvdXJjZS50b1N0cmluZygpLFxyXG4gICAgICAgIHBvc2l0aW9ucy5tYXAoZnJvbVBvc2l0aW9uKVxyXG4gICAgICApXHJcbiAgICApLnRoZW4oKHNlbGVjdGlvblJhbmdlcykgPT4ge1xyXG4gICAgICBpZiAoIXNlbGVjdGlvblJhbmdlcykge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gc2VsZWN0aW9uUmFuZ2VzLm1hcCgoc2VsZWN0aW9uUmFuZ2UpID0+IHtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBbXTtcclxuICAgICAgICB3aGlsZSAoc2VsZWN0aW9uUmFuZ2UpIHtcclxuICAgICAgICAgIHJlc3VsdC5wdXNoKHsgcmFuZ2U6IHRvUmFuZ2Uoc2VsZWN0aW9uUmFuZ2UucmFuZ2UpIH0pO1xyXG4gICAgICAgICAgc2VsZWN0aW9uUmFuZ2UgPSBzZWxlY3Rpb25SYW5nZS5wYXJlbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuLy8gbm9kZV9tb2R1bGVzL2pzb25jLXBhcnNlci9saWIvZXNtL2ltcGwvc2Nhbm5lci5qc1xyXG5mdW5jdGlvbiBjcmVhdGVTY2FubmVyKHRleHQsIGlnbm9yZVRyaXZpYSA9IGZhbHNlKSB7XHJcbiAgY29uc3QgbGVuID0gdGV4dC5sZW5ndGg7XHJcbiAgbGV0IHBvcyA9IDAsIHZhbHVlID0gXCJcIiwgdG9rZW5PZmZzZXQgPSAwLCB0b2tlbiA9IDE2LCBsaW5lTnVtYmVyID0gMCwgbGluZVN0YXJ0T2Zmc2V0ID0gMCwgdG9rZW5MaW5lU3RhcnRPZmZzZXQgPSAwLCBwcmV2VG9rZW5MaW5lU3RhcnRPZmZzZXQgPSAwLCBzY2FuRXJyb3IgPSAwO1xyXG4gIGZ1bmN0aW9uIHNjYW5IZXhEaWdpdHMoY291bnQsIGV4YWN0KSB7XHJcbiAgICBsZXQgZGlnaXRzID0gMDtcclxuICAgIGxldCB2YWx1ZTIgPSAwO1xyXG4gICAgd2hpbGUgKGRpZ2l0cyA8IGNvdW50IHx8ICFleGFjdCkge1xyXG4gICAgICBsZXQgY2ggPSB0ZXh0LmNoYXJDb2RlQXQocG9zKTtcclxuICAgICAgaWYgKGNoID49IDQ4ICYmIGNoIDw9IDU3KSB7XHJcbiAgICAgICAgdmFsdWUyID0gdmFsdWUyICogMTYgKyBjaCAtIDQ4O1xyXG4gICAgICB9IGVsc2UgaWYgKGNoID49IDY1ICYmIGNoIDw9IDcwKSB7XHJcbiAgICAgICAgdmFsdWUyID0gdmFsdWUyICogMTYgKyBjaCAtIDY1ICsgMTA7XHJcbiAgICAgIH0gZWxzZSBpZiAoY2ggPj0gOTcgJiYgY2ggPD0gMTAyKSB7XHJcbiAgICAgICAgdmFsdWUyID0gdmFsdWUyICogMTYgKyBjaCAtIDk3ICsgMTA7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgICAgcG9zKys7XHJcbiAgICAgIGRpZ2l0cysrO1xyXG4gICAgfVxyXG4gICAgaWYgKGRpZ2l0cyA8IGNvdW50KSB7XHJcbiAgICAgIHZhbHVlMiA9IC0xO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZhbHVlMjtcclxuICB9XHJcbiAgZnVuY3Rpb24gc2V0UG9zaXRpb24obmV3UG9zaXRpb24pIHtcclxuICAgIHBvcyA9IG5ld1Bvc2l0aW9uO1xyXG4gICAgdmFsdWUgPSBcIlwiO1xyXG4gICAgdG9rZW5PZmZzZXQgPSAwO1xyXG4gICAgdG9rZW4gPSAxNjtcclxuICAgIHNjYW5FcnJvciA9IDA7XHJcbiAgfVxyXG4gIGZ1bmN0aW9uIHNjYW5OdW1iZXIoKSB7XHJcbiAgICBsZXQgc3RhcnQgPSBwb3M7XHJcbiAgICBpZiAodGV4dC5jaGFyQ29kZUF0KHBvcykgPT09IDQ4KSB7XHJcbiAgICAgIHBvcysrO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcG9zKys7XHJcbiAgICAgIHdoaWxlIChwb3MgPCB0ZXh0Lmxlbmd0aCAmJiBpc0RpZ2l0KHRleHQuY2hhckNvZGVBdChwb3MpKSkge1xyXG4gICAgICAgIHBvcysrO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAocG9zIDwgdGV4dC5sZW5ndGggJiYgdGV4dC5jaGFyQ29kZUF0KHBvcykgPT09IDQ2KSB7XHJcbiAgICAgIHBvcysrO1xyXG4gICAgICBpZiAocG9zIDwgdGV4dC5sZW5ndGggJiYgaXNEaWdpdCh0ZXh0LmNoYXJDb2RlQXQocG9zKSkpIHtcclxuICAgICAgICBwb3MrKztcclxuICAgICAgICB3aGlsZSAocG9zIDwgdGV4dC5sZW5ndGggJiYgaXNEaWdpdCh0ZXh0LmNoYXJDb2RlQXQocG9zKSkpIHtcclxuICAgICAgICAgIHBvcysrO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzY2FuRXJyb3IgPSAzO1xyXG4gICAgICAgIHJldHVybiB0ZXh0LnN1YnN0cmluZyhzdGFydCwgcG9zKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgbGV0IGVuZCA9IHBvcztcclxuICAgIGlmIChwb3MgPCB0ZXh0Lmxlbmd0aCAmJiAodGV4dC5jaGFyQ29kZUF0KHBvcykgPT09IDY5IHx8IHRleHQuY2hhckNvZGVBdChwb3MpID09PSAxMDEpKSB7XHJcbiAgICAgIHBvcysrO1xyXG4gICAgICBpZiAocG9zIDwgdGV4dC5sZW5ndGggJiYgdGV4dC5jaGFyQ29kZUF0KHBvcykgPT09IDQzIHx8IHRleHQuY2hhckNvZGVBdChwb3MpID09PSA0NSkge1xyXG4gICAgICAgIHBvcysrO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChwb3MgPCB0ZXh0Lmxlbmd0aCAmJiBpc0RpZ2l0KHRleHQuY2hhckNvZGVBdChwb3MpKSkge1xyXG4gICAgICAgIHBvcysrO1xyXG4gICAgICAgIHdoaWxlIChwb3MgPCB0ZXh0Lmxlbmd0aCAmJiBpc0RpZ2l0KHRleHQuY2hhckNvZGVBdChwb3MpKSkge1xyXG4gICAgICAgICAgcG9zKys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVuZCA9IHBvcztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzY2FuRXJyb3IgPSAzO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGV4dC5zdWJzdHJpbmcoc3RhcnQsIGVuZCk7XHJcbiAgfVxyXG4gIGZ1bmN0aW9uIHNjYW5TdHJpbmcoKSB7XHJcbiAgICBsZXQgcmVzdWx0ID0gXCJcIiwgc3RhcnQgPSBwb3M7XHJcbiAgICB3aGlsZSAodHJ1ZSkge1xyXG4gICAgICBpZiAocG9zID49IGxlbikge1xyXG4gICAgICAgIHJlc3VsdCArPSB0ZXh0LnN1YnN0cmluZyhzdGFydCwgcG9zKTtcclxuICAgICAgICBzY2FuRXJyb3IgPSAyO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICAgIGNvbnN0IGNoID0gdGV4dC5jaGFyQ29kZUF0KHBvcyk7XHJcbiAgICAgIGlmIChjaCA9PT0gMzQpIHtcclxuICAgICAgICByZXN1bHQgKz0gdGV4dC5zdWJzdHJpbmcoc3RhcnQsIHBvcyk7XHJcbiAgICAgICAgcG9zKys7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGNoID09PSA5Mikge1xyXG4gICAgICAgIHJlc3VsdCArPSB0ZXh0LnN1YnN0cmluZyhzdGFydCwgcG9zKTtcclxuICAgICAgICBwb3MrKztcclxuICAgICAgICBpZiAocG9zID49IGxlbikge1xyXG4gICAgICAgICAgc2NhbkVycm9yID0gMjtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBjaDIgPSB0ZXh0LmNoYXJDb2RlQXQocG9zKyspO1xyXG4gICAgICAgIHN3aXRjaCAoY2gyKSB7XHJcbiAgICAgICAgICBjYXNlIDM0OlxyXG4gICAgICAgICAgICByZXN1bHQgKz0gJ1wiJztcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICBjYXNlIDkyOlxyXG4gICAgICAgICAgICByZXN1bHQgKz0gXCJcXFxcXCI7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgY2FzZSA0NzpcclxuICAgICAgICAgICAgcmVzdWx0ICs9IFwiL1wiO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIGNhc2UgOTg6XHJcbiAgICAgICAgICAgIHJlc3VsdCArPSBcIlxcYlwiO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIGNhc2UgMTAyOlxyXG4gICAgICAgICAgICByZXN1bHQgKz0gXCJcXGZcIjtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICBjYXNlIDExMDpcclxuICAgICAgICAgICAgcmVzdWx0ICs9IFwiXFxuXCI7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgY2FzZSAxMTQ6XHJcbiAgICAgICAgICAgIHJlc3VsdCArPSBcIlxcclwiO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIGNhc2UgMTE2OlxyXG4gICAgICAgICAgICByZXN1bHQgKz0gXCJcdFwiO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIGNhc2UgMTE3OlxyXG4gICAgICAgICAgICBjb25zdCBjaDMgPSBzY2FuSGV4RGlnaXRzKDQsIHRydWUpO1xyXG4gICAgICAgICAgICBpZiAoY2gzID49IDApIHtcclxuICAgICAgICAgICAgICByZXN1bHQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShjaDMpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHNjYW5FcnJvciA9IDQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICBzY2FuRXJyb3IgPSA1O1xyXG4gICAgICAgIH1cclxuICAgICAgICBzdGFydCA9IHBvcztcclxuICAgICAgICBjb250aW51ZTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoY2ggPj0gMCAmJiBjaCA8PSAzMSkge1xyXG4gICAgICAgIGlmIChpc0xpbmVCcmVhayhjaCkpIHtcclxuICAgICAgICAgIHJlc3VsdCArPSB0ZXh0LnN1YnN0cmluZyhzdGFydCwgcG9zKTtcclxuICAgICAgICAgIHNjYW5FcnJvciA9IDI7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgc2NhbkVycm9yID0gNjtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgcG9zKys7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG4gIH1cclxuICBmdW5jdGlvbiBzY2FuTmV4dCgpIHtcclxuICAgIHZhbHVlID0gXCJcIjtcclxuICAgIHNjYW5FcnJvciA9IDA7XHJcbiAgICB0b2tlbk9mZnNldCA9IHBvcztcclxuICAgIGxpbmVTdGFydE9mZnNldCA9IGxpbmVOdW1iZXI7XHJcbiAgICBwcmV2VG9rZW5MaW5lU3RhcnRPZmZzZXQgPSB0b2tlbkxpbmVTdGFydE9mZnNldDtcclxuICAgIGlmIChwb3MgPj0gbGVuKSB7XHJcbiAgICAgIHRva2VuT2Zmc2V0ID0gbGVuO1xyXG4gICAgICByZXR1cm4gdG9rZW4gPSAxNztcclxuICAgIH1cclxuICAgIGxldCBjb2RlID0gdGV4dC5jaGFyQ29kZUF0KHBvcyk7XHJcbiAgICBpZiAoaXNXaGl0ZVNwYWNlKGNvZGUpKSB7XHJcbiAgICAgIGRvIHtcclxuICAgICAgICBwb3MrKztcclxuICAgICAgICB2YWx1ZSArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGNvZGUpO1xyXG4gICAgICAgIGNvZGUgPSB0ZXh0LmNoYXJDb2RlQXQocG9zKTtcclxuICAgICAgfSB3aGlsZSAoaXNXaGl0ZVNwYWNlKGNvZGUpKTtcclxuICAgICAgcmV0dXJuIHRva2VuID0gMTU7XHJcbiAgICB9XHJcbiAgICBpZiAoaXNMaW5lQnJlYWsoY29kZSkpIHtcclxuICAgICAgcG9zKys7XHJcbiAgICAgIHZhbHVlICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoY29kZSk7XHJcbiAgICAgIGlmIChjb2RlID09PSAxMyAmJiB0ZXh0LmNoYXJDb2RlQXQocG9zKSA9PT0gMTApIHtcclxuICAgICAgICBwb3MrKztcclxuICAgICAgICB2YWx1ZSArPSBcIlxcblwiO1xyXG4gICAgICB9XHJcbiAgICAgIGxpbmVOdW1iZXIrKztcclxuICAgICAgdG9rZW5MaW5lU3RhcnRPZmZzZXQgPSBwb3M7XHJcbiAgICAgIHJldHVybiB0b2tlbiA9IDE0O1xyXG4gICAgfVxyXG4gICAgc3dpdGNoIChjb2RlKSB7XHJcbiAgICAgIGNhc2UgMTIzOlxyXG4gICAgICAgIHBvcysrO1xyXG4gICAgICAgIHJldHVybiB0b2tlbiA9IDE7XHJcbiAgICAgIGNhc2UgMTI1OlxyXG4gICAgICAgIHBvcysrO1xyXG4gICAgICAgIHJldHVybiB0b2tlbiA9IDI7XHJcbiAgICAgIGNhc2UgOTE6XHJcbiAgICAgICAgcG9zKys7XHJcbiAgICAgICAgcmV0dXJuIHRva2VuID0gMztcclxuICAgICAgY2FzZSA5MzpcclxuICAgICAgICBwb3MrKztcclxuICAgICAgICByZXR1cm4gdG9rZW4gPSA0O1xyXG4gICAgICBjYXNlIDU4OlxyXG4gICAgICAgIHBvcysrO1xyXG4gICAgICAgIHJldHVybiB0b2tlbiA9IDY7XHJcbiAgICAgIGNhc2UgNDQ6XHJcbiAgICAgICAgcG9zKys7XHJcbiAgICAgICAgcmV0dXJuIHRva2VuID0gNTtcclxuICAgICAgY2FzZSAzNDpcclxuICAgICAgICBwb3MrKztcclxuICAgICAgICB2YWx1ZSA9IHNjYW5TdHJpbmcoKTtcclxuICAgICAgICByZXR1cm4gdG9rZW4gPSAxMDtcclxuICAgICAgY2FzZSA0NzpcclxuICAgICAgICBjb25zdCBzdGFydCA9IHBvcyAtIDE7XHJcbiAgICAgICAgaWYgKHRleHQuY2hhckNvZGVBdChwb3MgKyAxKSA9PT0gNDcpIHtcclxuICAgICAgICAgIHBvcyArPSAyO1xyXG4gICAgICAgICAgd2hpbGUgKHBvcyA8IGxlbikge1xyXG4gICAgICAgICAgICBpZiAoaXNMaW5lQnJlYWsodGV4dC5jaGFyQ29kZUF0KHBvcykpKSB7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcG9zKys7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB2YWx1ZSA9IHRleHQuc3Vic3RyaW5nKHN0YXJ0LCBwb3MpO1xyXG4gICAgICAgICAgcmV0dXJuIHRva2VuID0gMTI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0ZXh0LmNoYXJDb2RlQXQocG9zICsgMSkgPT09IDQyKSB7XHJcbiAgICAgICAgICBwb3MgKz0gMjtcclxuICAgICAgICAgIGNvbnN0IHNhZmVMZW5ndGggPSBsZW4gLSAxO1xyXG4gICAgICAgICAgbGV0IGNvbW1lbnRDbG9zZWQgPSBmYWxzZTtcclxuICAgICAgICAgIHdoaWxlIChwb3MgPCBzYWZlTGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNoID0gdGV4dC5jaGFyQ29kZUF0KHBvcyk7XHJcbiAgICAgICAgICAgIGlmIChjaCA9PT0gNDIgJiYgdGV4dC5jaGFyQ29kZUF0KHBvcyArIDEpID09PSA0Nykge1xyXG4gICAgICAgICAgICAgIHBvcyArPSAyO1xyXG4gICAgICAgICAgICAgIGNvbW1lbnRDbG9zZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHBvcysrO1xyXG4gICAgICAgICAgICBpZiAoaXNMaW5lQnJlYWsoY2gpKSB7XHJcbiAgICAgICAgICAgICAgaWYgKGNoID09PSAxMyAmJiB0ZXh0LmNoYXJDb2RlQXQocG9zKSA9PT0gMTApIHtcclxuICAgICAgICAgICAgICAgIHBvcysrO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBsaW5lTnVtYmVyKys7XHJcbiAgICAgICAgICAgICAgdG9rZW5MaW5lU3RhcnRPZmZzZXQgPSBwb3M7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmICghY29tbWVudENsb3NlZCkge1xyXG4gICAgICAgICAgICBwb3MrKztcclxuICAgICAgICAgICAgc2NhbkVycm9yID0gMTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHZhbHVlID0gdGV4dC5zdWJzdHJpbmcoc3RhcnQsIHBvcyk7XHJcbiAgICAgICAgICByZXR1cm4gdG9rZW4gPSAxMztcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFsdWUgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlKTtcclxuICAgICAgICBwb3MrKztcclxuICAgICAgICByZXR1cm4gdG9rZW4gPSAxNjtcclxuICAgICAgY2FzZSA0NTpcclxuICAgICAgICB2YWx1ZSArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGNvZGUpO1xyXG4gICAgICAgIHBvcysrO1xyXG4gICAgICAgIGlmIChwb3MgPT09IGxlbiB8fCAhaXNEaWdpdCh0ZXh0LmNoYXJDb2RlQXQocG9zKSkpIHtcclxuICAgICAgICAgIHJldHVybiB0b2tlbiA9IDE2O1xyXG4gICAgICAgIH1cclxuICAgICAgY2FzZSA0ODpcclxuICAgICAgY2FzZSA0OTpcclxuICAgICAgY2FzZSA1MDpcclxuICAgICAgY2FzZSA1MTpcclxuICAgICAgY2FzZSA1MjpcclxuICAgICAgY2FzZSA1MzpcclxuICAgICAgY2FzZSA1NDpcclxuICAgICAgY2FzZSA1NTpcclxuICAgICAgY2FzZSA1NjpcclxuICAgICAgY2FzZSA1NzpcclxuICAgICAgICB2YWx1ZSArPSBzY2FuTnVtYmVyKCk7XHJcbiAgICAgICAgcmV0dXJuIHRva2VuID0gMTE7XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgd2hpbGUgKHBvcyA8IGxlbiAmJiBpc1Vua25vd25Db250ZW50Q2hhcmFjdGVyKGNvZGUpKSB7XHJcbiAgICAgICAgICBwb3MrKztcclxuICAgICAgICAgIGNvZGUgPSB0ZXh0LmNoYXJDb2RlQXQocG9zKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRva2VuT2Zmc2V0ICE9PSBwb3MpIHtcclxuICAgICAgICAgIHZhbHVlID0gdGV4dC5zdWJzdHJpbmcodG9rZW5PZmZzZXQsIHBvcyk7XHJcbiAgICAgICAgICBzd2l0Y2ggKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJ0cnVlXCI6XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHRva2VuID0gODtcclxuICAgICAgICAgICAgY2FzZSBcImZhbHNlXCI6XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHRva2VuID0gOTtcclxuICAgICAgICAgICAgY2FzZSBcIm51bGxcIjpcclxuICAgICAgICAgICAgICByZXR1cm4gdG9rZW4gPSA3O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcmV0dXJuIHRva2VuID0gMTY7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhbHVlICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoY29kZSk7XHJcbiAgICAgICAgcG9zKys7XHJcbiAgICAgICAgcmV0dXJuIHRva2VuID0gMTY7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGZ1bmN0aW9uIGlzVW5rbm93bkNvbnRlbnRDaGFyYWN0ZXIoY29kZSkge1xyXG4gICAgaWYgKGlzV2hpdGVTcGFjZShjb2RlKSB8fCBpc0xpbmVCcmVhayhjb2RlKSkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBzd2l0Y2ggKGNvZGUpIHtcclxuICAgICAgY2FzZSAxMjU6XHJcbiAgICAgIGNhc2UgOTM6XHJcbiAgICAgIGNhc2UgMTIzOlxyXG4gICAgICBjYXNlIDkxOlxyXG4gICAgICBjYXNlIDM0OlxyXG4gICAgICBjYXNlIDU4OlxyXG4gICAgICBjYXNlIDQ0OlxyXG4gICAgICBjYXNlIDQ3OlxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuICBmdW5jdGlvbiBzY2FuTmV4dE5vblRyaXZpYSgpIHtcclxuICAgIGxldCByZXN1bHQ7XHJcbiAgICBkbyB7XHJcbiAgICAgIHJlc3VsdCA9IHNjYW5OZXh0KCk7XHJcbiAgICB9IHdoaWxlIChyZXN1bHQgPj0gMTIgJiYgcmVzdWx0IDw9IDE1KTtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfVxyXG4gIHJldHVybiB7XHJcbiAgICBzZXRQb3NpdGlvbixcclxuICAgIGdldFBvc2l0aW9uOiAoKSA9PiBwb3MsXHJcbiAgICBzY2FuOiBpZ25vcmVUcml2aWEgPyBzY2FuTmV4dE5vblRyaXZpYSA6IHNjYW5OZXh0LFxyXG4gICAgZ2V0VG9rZW46ICgpID0+IHRva2VuLFxyXG4gICAgZ2V0VG9rZW5WYWx1ZTogKCkgPT4gdmFsdWUsXHJcbiAgICBnZXRUb2tlbk9mZnNldDogKCkgPT4gdG9rZW5PZmZzZXQsXHJcbiAgICBnZXRUb2tlbkxlbmd0aDogKCkgPT4gcG9zIC0gdG9rZW5PZmZzZXQsXHJcbiAgICBnZXRUb2tlblN0YXJ0TGluZTogKCkgPT4gbGluZVN0YXJ0T2Zmc2V0LFxyXG4gICAgZ2V0VG9rZW5TdGFydENoYXJhY3RlcjogKCkgPT4gdG9rZW5PZmZzZXQgLSBwcmV2VG9rZW5MaW5lU3RhcnRPZmZzZXQsXHJcbiAgICBnZXRUb2tlbkVycm9yOiAoKSA9PiBzY2FuRXJyb3JcclxuICB9O1xyXG59XHJcbmZ1bmN0aW9uIGlzV2hpdGVTcGFjZShjaCkge1xyXG4gIHJldHVybiBjaCA9PT0gMzIgfHwgY2ggPT09IDk7XHJcbn1cclxuZnVuY3Rpb24gaXNMaW5lQnJlYWsoY2gpIHtcclxuICByZXR1cm4gY2ggPT09IDEwIHx8IGNoID09PSAxMztcclxufVxyXG5mdW5jdGlvbiBpc0RpZ2l0KGNoKSB7XHJcbiAgcmV0dXJuIGNoID49IDQ4ICYmIGNoIDw9IDU3O1xyXG59XHJcbnZhciBDaGFyYWN0ZXJDb2RlcztcclxuKGZ1bmN0aW9uKENoYXJhY3RlckNvZGVzMikge1xyXG4gIENoYXJhY3RlckNvZGVzMltDaGFyYWN0ZXJDb2RlczJbXCJsaW5lRmVlZFwiXSA9IDEwXSA9IFwibGluZUZlZWRcIjtcclxuICBDaGFyYWN0ZXJDb2RlczJbQ2hhcmFjdGVyQ29kZXMyW1wiY2FycmlhZ2VSZXR1cm5cIl0gPSAxM10gPSBcImNhcnJpYWdlUmV0dXJuXCI7XHJcbiAgQ2hhcmFjdGVyQ29kZXMyW0NoYXJhY3RlckNvZGVzMltcInNwYWNlXCJdID0gMzJdID0gXCJzcGFjZVwiO1xyXG4gIENoYXJhY3RlckNvZGVzMltDaGFyYWN0ZXJDb2RlczJbXCJfMFwiXSA9IDQ4XSA9IFwiXzBcIjtcclxuICBDaGFyYWN0ZXJDb2RlczJbQ2hhcmFjdGVyQ29kZXMyW1wiXzFcIl0gPSA0OV0gPSBcIl8xXCI7XHJcbiAgQ2hhcmFjdGVyQ29kZXMyW0NoYXJhY3RlckNvZGVzMltcIl8yXCJdID0gNTBdID0gXCJfMlwiO1xyXG4gIENoYXJhY3RlckNvZGVzMltDaGFyYWN0ZXJDb2RlczJbXCJfM1wiXSA9IDUxXSA9IFwiXzNcIjtcclxuICBDaGFyYWN0ZXJDb2RlczJbQ2hhcmFjdGVyQ29kZXMyW1wiXzRcIl0gPSA1Ml0gPSBcIl80XCI7XHJcbiAgQ2hhcmFjdGVyQ29kZXMyW0NoYXJhY3RlckNvZGVzMltcIl81XCJdID0gNTNdID0gXCJfNVwiO1xyXG4gIENoYXJhY3RlckNvZGVzMltDaGFyYWN0ZXJDb2RlczJbXCJfNlwiXSA9IDU0XSA9IFwiXzZcIjtcclxuICBDaGFyYWN0ZXJDb2RlczJbQ2hhcmFjdGVyQ29kZXMyW1wiXzdcIl0gPSA1NV0gPSBcIl83XCI7XHJcbiAgQ2hhcmFjdGVyQ29kZXMyW0NoYXJhY3RlckNvZGVzMltcIl84XCJdID0gNTZdID0gXCJfOFwiO1xyXG4gIENoYXJhY3RlckNvZGVzMltDaGFyYWN0ZXJDb2RlczJbXCJfOVwiXSA9IDU3XSA9IFwiXzlcIjtcclxuICBDaGFyYWN0ZXJDb2RlczJbQ2hhcmFjdGVyQ29kZXMyW1wiYVwiXSA9IDk3XSA9IFwiYVwiO1xyXG4gIENoYXJhY3RlckNvZGVzMltDaGFyYWN0ZXJDb2RlczJbXCJiXCJdID0gOThdID0gXCJiXCI7XHJcbiAgQ2hhcmFjdGVyQ29kZXMyW0NoYXJhY3RlckNvZGVzMltcImNcIl0gPSA5OV0gPSBcImNcIjtcclxuICBDaGFyYWN0ZXJDb2RlczJbQ2hhcmFjdGVyQ29kZXMyW1wiZFwiXSA9IDEwMF0gPSBcImRcIjtcclxuICBDaGFyYWN0ZXJDb2RlczJbQ2hhcmFjdGVyQ29kZXMyW1wiZVwiXSA9IDEwMV0gPSBcImVcIjtcclxuICBDaGFyYWN0ZXJDb2RlczJbQ2hhcmFjdGVyQ29kZXMyW1wiZlwiXSA9IDEwMl0gPSBcImZcIjtcclxuICBDaGFyYWN0ZXJDb2RlczJbQ2hhcmFjdGVyQ29kZXMyW1wiZ1wiXSA9IDEwM10gPSBcImdcIjtcclxuICBDaGFyYWN0ZXJDb2RlczJbQ2hhcmFjdGVyQ29kZXMyW1wiaFwiXSA9IDEwNF0gPSBcImhcIjtcclxuICBDaGFyYWN0ZXJDb2RlczJbQ2hhcmFjdGVyQ29kZXMyW1wiaVwiXSA9IDEwNV0gPSBcImlcIjtcclxuICBDaGFyYWN0ZXJDb2RlczJbQ2hhcmFjdGVyQ29kZXMyW1wialwiXSA9IDEwNl0gPSBcImpcIjtcclxuICBDaGFyYWN0ZXJDb2RlczJbQ2hhcmFjdGVyQ29kZXMyW1wia1wiXSA9IDEwN10gPSBcImtcIjtcclxuICBDaGFyYWN0ZXJDb2RlczJbQ2hhcmFjdGVyQ29kZXMyW1wibFwiXSA9IDEwOF0gPSBcImxcIjtcclxuICBDaGFyYWN0ZXJDb2RlczJbQ2hhcmFjdGVyQ29kZXMyW1wibVwiXSA9IDEwOV0gPSBcIm1cIjtcclxuICBDaGFyYWN0ZXJDb2RlczJbQ2hhcmFjdGVyQ29kZXMyW1wiblwiXSA9IDExMF0gPSBcIm5cIjtcclxuICBDaGFyYWN0ZXJDb2RlczJbQ2hhcmFjdGVyQ29kZXMyW1wib1wiXSA9IDExMV0gPSBcIm9cIjtcclxuICBDaGFyYWN0ZXJDb2RlczJbQ2hhcmFjdGVyQ29kZXMyW1wicFwiXSA9IDExMl0gPSBcInBcIjtcclxuICBDaGFyYWN0ZXJDb2RlczJbQ2hhcmFjdGVyQ29kZXMyW1wicVwiXSA9IDExM10gPSBcInFcIjtcclxuICBDaGFyYWN0ZXJDb2RlczJbQ2hhcmFjdGVyQ29kZXMyW1wiclwiXSA9IDExNF0gPSBcInJcIjtcclxuICBDaGFyYWN0ZXJDb2RlczJbQ2hhcmFjdGVyQ29kZXMyW1wic1wiXSA9IDExNV0gPSBcInNcIjtcclxuICBDaGFyYWN0ZXJDb2RlczJbQ2hhcmFjdGVyQ29kZXMyW1widFwiXSA9IDExNl0gPSBcInRcIjtcclxuICBDaGFyYWN0ZXJDb2RlczJbQ2hhcmFjdGVyQ29kZXMyW1widVwiXSA9IDExN10gPSBcInVcIjtcclxuICBDaGFyYWN0ZXJDb2RlczJbQ2hhcmFjdGVyQ29kZXMyW1widlwiXSA9IDExOF0gPSBcInZcIjtcclxuICBDaGFyYWN0ZXJDb2RlczJbQ2hhcmFjdGVyQ29kZXMyW1wid1wiXSA9IDExOV0gPSBcIndcIjtcclxuICBDaGFyYWN0ZXJDb2RlczJbQ2hhcmFjdGVyQ29kZXMyW1wieFwiXSA9IDEyMF0gPSBcInhcIjtcclxuICBDaGFyYWN0ZXJDb2RlczJbQ2hhcmFjdGVyQ29kZXMyW1wieVwiXSA9IDEyMV0gPSBcInlcIjtcclxuICBDaGFyYWN0ZXJDb2RlczJbQ2hhcmFjdGVyQ29kZXMyW1wielwiXSA9IDEyMl0gPSBcInpcIjtcclxuICBDaGFyYWN0ZXJDb2RlczJbQ2hhcmFjdGVyQ29kZXMyW1wiQVwiXSA9IDY1XSA9IFwiQVwiO1xyXG4gIENoYXJhY3RlckNvZGVzMltDaGFyYWN0ZXJDb2RlczJbXCJCXCJdID0gNjZdID0gXCJCXCI7XHJcbiAgQ2hhcmFjdGVyQ29kZXMyW0NoYXJhY3RlckNvZGVzMltcIkNcIl0gPSA2N10gPSBcIkNcIjtcclxuICBDaGFyYWN0ZXJDb2RlczJbQ2hhcmFjdGVyQ29kZXMyW1wiRFwiXSA9IDY4XSA9IFwiRFwiO1xyXG4gIENoYXJhY3RlckNvZGVzMltDaGFyYWN0ZXJDb2RlczJbXCJFXCJdID0gNjldID0gXCJFXCI7XHJcbiAgQ2hhcmFjdGVyQ29kZXMyW0NoYXJhY3RlckNvZGVzMltcIkZcIl0gPSA3MF0gPSBcIkZcIjtcclxuICBDaGFyYWN0ZXJDb2RlczJbQ2hhcmFjdGVyQ29kZXMyW1wiR1wiXSA9IDcxXSA9IFwiR1wiO1xyXG4gIENoYXJhY3RlckNvZGVzMltDaGFyYWN0ZXJDb2RlczJbXCJIXCJdID0gNzJdID0gXCJIXCI7XHJcbiAgQ2hhcmFjdGVyQ29kZXMyW0NoYXJhY3RlckNvZGVzMltcIklcIl0gPSA3M10gPSBcIklcIjtcclxuICBDaGFyYWN0ZXJDb2RlczJbQ2hhcmFjdGVyQ29kZXMyW1wiSlwiXSA9IDc0XSA9IFwiSlwiO1xyXG4gIENoYXJhY3RlckNvZGVzMltDaGFyYWN0ZXJDb2RlczJbXCJLXCJdID0gNzVdID0gXCJLXCI7XHJcbiAgQ2hhcmFjdGVyQ29kZXMyW0NoYXJhY3RlckNvZGVzMltcIkxcIl0gPSA3Nl0gPSBcIkxcIjtcclxuICBDaGFyYWN0ZXJDb2RlczJbQ2hhcmFjdGVyQ29kZXMyW1wiTVwiXSA9IDc3XSA9IFwiTVwiO1xyXG4gIENoYXJhY3RlckNvZGVzMltDaGFyYWN0ZXJDb2RlczJbXCJOXCJdID0gNzhdID0gXCJOXCI7XHJcbiAgQ2hhcmFjdGVyQ29kZXMyW0NoYXJhY3RlckNvZGVzMltcIk9cIl0gPSA3OV0gPSBcIk9cIjtcclxuICBDaGFyYWN0ZXJDb2RlczJbQ2hhcmFjdGVyQ29kZXMyW1wiUFwiXSA9IDgwXSA9IFwiUFwiO1xyXG4gIENoYXJhY3RlckNvZGVzMltDaGFyYWN0ZXJDb2RlczJbXCJRXCJdID0gODFdID0gXCJRXCI7XHJcbiAgQ2hhcmFjdGVyQ29kZXMyW0NoYXJhY3RlckNvZGVzMltcIlJcIl0gPSA4Ml0gPSBcIlJcIjtcclxuICBDaGFyYWN0ZXJDb2RlczJbQ2hhcmFjdGVyQ29kZXMyW1wiU1wiXSA9IDgzXSA9IFwiU1wiO1xyXG4gIENoYXJhY3RlckNvZGVzMltDaGFyYWN0ZXJDb2RlczJbXCJUXCJdID0gODRdID0gXCJUXCI7XHJcbiAgQ2hhcmFjdGVyQ29kZXMyW0NoYXJhY3RlckNvZGVzMltcIlVcIl0gPSA4NV0gPSBcIlVcIjtcclxuICBDaGFyYWN0ZXJDb2RlczJbQ2hhcmFjdGVyQ29kZXMyW1wiVlwiXSA9IDg2XSA9IFwiVlwiO1xyXG4gIENoYXJhY3RlckNvZGVzMltDaGFyYWN0ZXJDb2RlczJbXCJXXCJdID0gODddID0gXCJXXCI7XHJcbiAgQ2hhcmFjdGVyQ29kZXMyW0NoYXJhY3RlckNvZGVzMltcIlhcIl0gPSA4OF0gPSBcIlhcIjtcclxuICBDaGFyYWN0ZXJDb2RlczJbQ2hhcmFjdGVyQ29kZXMyW1wiWVwiXSA9IDg5XSA9IFwiWVwiO1xyXG4gIENoYXJhY3RlckNvZGVzMltDaGFyYWN0ZXJDb2RlczJbXCJaXCJdID0gOTBdID0gXCJaXCI7XHJcbiAgQ2hhcmFjdGVyQ29kZXMyW0NoYXJhY3RlckNvZGVzMltcImFzdGVyaXNrXCJdID0gNDJdID0gXCJhc3Rlcmlza1wiO1xyXG4gIENoYXJhY3RlckNvZGVzMltDaGFyYWN0ZXJDb2RlczJbXCJiYWNrc2xhc2hcIl0gPSA5Ml0gPSBcImJhY2tzbGFzaFwiO1xyXG4gIENoYXJhY3RlckNvZGVzMltDaGFyYWN0ZXJDb2RlczJbXCJjbG9zZUJyYWNlXCJdID0gMTI1XSA9IFwiY2xvc2VCcmFjZVwiO1xyXG4gIENoYXJhY3RlckNvZGVzMltDaGFyYWN0ZXJDb2RlczJbXCJjbG9zZUJyYWNrZXRcIl0gPSA5M10gPSBcImNsb3NlQnJhY2tldFwiO1xyXG4gIENoYXJhY3RlckNvZGVzMltDaGFyYWN0ZXJDb2RlczJbXCJjb2xvblwiXSA9IDU4XSA9IFwiY29sb25cIjtcclxuICBDaGFyYWN0ZXJDb2RlczJbQ2hhcmFjdGVyQ29kZXMyW1wiY29tbWFcIl0gPSA0NF0gPSBcImNvbW1hXCI7XHJcbiAgQ2hhcmFjdGVyQ29kZXMyW0NoYXJhY3RlckNvZGVzMltcImRvdFwiXSA9IDQ2XSA9IFwiZG90XCI7XHJcbiAgQ2hhcmFjdGVyQ29kZXMyW0NoYXJhY3RlckNvZGVzMltcImRvdWJsZVF1b3RlXCJdID0gMzRdID0gXCJkb3VibGVRdW90ZVwiO1xyXG4gIENoYXJhY3RlckNvZGVzMltDaGFyYWN0ZXJDb2RlczJbXCJtaW51c1wiXSA9IDQ1XSA9IFwibWludXNcIjtcclxuICBDaGFyYWN0ZXJDb2RlczJbQ2hhcmFjdGVyQ29kZXMyW1wib3BlbkJyYWNlXCJdID0gMTIzXSA9IFwib3BlbkJyYWNlXCI7XHJcbiAgQ2hhcmFjdGVyQ29kZXMyW0NoYXJhY3RlckNvZGVzMltcIm9wZW5CcmFja2V0XCJdID0gOTFdID0gXCJvcGVuQnJhY2tldFwiO1xyXG4gIENoYXJhY3RlckNvZGVzMltDaGFyYWN0ZXJDb2RlczJbXCJwbHVzXCJdID0gNDNdID0gXCJwbHVzXCI7XHJcbiAgQ2hhcmFjdGVyQ29kZXMyW0NoYXJhY3RlckNvZGVzMltcInNsYXNoXCJdID0gNDddID0gXCJzbGFzaFwiO1xyXG4gIENoYXJhY3RlckNvZGVzMltDaGFyYWN0ZXJDb2RlczJbXCJmb3JtRmVlZFwiXSA9IDEyXSA9IFwiZm9ybUZlZWRcIjtcclxuICBDaGFyYWN0ZXJDb2RlczJbQ2hhcmFjdGVyQ29kZXMyW1widGFiXCJdID0gOV0gPSBcInRhYlwiO1xyXG59KShDaGFyYWN0ZXJDb2RlcyB8fCAoQ2hhcmFjdGVyQ29kZXMgPSB7fSkpO1xyXG5cclxuLy8gbm9kZV9tb2R1bGVzL2pzb25jLXBhcnNlci9saWIvZXNtL2ltcGwvc3RyaW5nLWludGVybi5qc1xyXG52YXIgY2FjaGVkU3BhY2VzID0gbmV3IEFycmF5KDIwKS5maWxsKDApLm1hcCgoXywgaW5kZXgpID0+IHtcclxuICByZXR1cm4gXCIgXCIucmVwZWF0KGluZGV4KTtcclxufSk7XHJcbnZhciBtYXhDYWNoZWRWYWx1ZXMgPSAyMDA7XHJcbnZhciBjYWNoZWRCcmVha0xpbmVzV2l0aFNwYWNlcyA9IHtcclxuICBcIiBcIjoge1xyXG4gICAgXCJcXG5cIjogbmV3IEFycmF5KG1heENhY2hlZFZhbHVlcykuZmlsbCgwKS5tYXAoKF8sIGluZGV4KSA9PiB7XHJcbiAgICAgIHJldHVybiBcIlxcblwiICsgXCIgXCIucmVwZWF0KGluZGV4KTtcclxuICAgIH0pLFxyXG4gICAgXCJcXHJcIjogbmV3IEFycmF5KG1heENhY2hlZFZhbHVlcykuZmlsbCgwKS5tYXAoKF8sIGluZGV4KSA9PiB7XHJcbiAgICAgIHJldHVybiBcIlxcclwiICsgXCIgXCIucmVwZWF0KGluZGV4KTtcclxuICAgIH0pLFxyXG4gICAgXCJcXHJcXG5cIjogbmV3IEFycmF5KG1heENhY2hlZFZhbHVlcykuZmlsbCgwKS5tYXAoKF8sIGluZGV4KSA9PiB7XHJcbiAgICAgIHJldHVybiBcIlxcclxcblwiICsgXCIgXCIucmVwZWF0KGluZGV4KTtcclxuICAgIH0pXHJcbiAgfSxcclxuICBcIlx0XCI6IHtcclxuICAgIFwiXFxuXCI6IG5ldyBBcnJheShtYXhDYWNoZWRWYWx1ZXMpLmZpbGwoMCkubWFwKChfLCBpbmRleCkgPT4ge1xyXG4gICAgICByZXR1cm4gXCJcXG5cIiArIFwiXHRcIi5yZXBlYXQoaW5kZXgpO1xyXG4gICAgfSksXHJcbiAgICBcIlxcclwiOiBuZXcgQXJyYXkobWF4Q2FjaGVkVmFsdWVzKS5maWxsKDApLm1hcCgoXywgaW5kZXgpID0+IHtcclxuICAgICAgcmV0dXJuIFwiXFxyXCIgKyBcIlx0XCIucmVwZWF0KGluZGV4KTtcclxuICAgIH0pLFxyXG4gICAgXCJcXHJcXG5cIjogbmV3IEFycmF5KG1heENhY2hlZFZhbHVlcykuZmlsbCgwKS5tYXAoKF8sIGluZGV4KSA9PiB7XHJcbiAgICAgIHJldHVybiBcIlxcclxcblwiICsgXCJcdFwiLnJlcGVhdChpbmRleCk7XHJcbiAgICB9KVxyXG4gIH1cclxufTtcclxuXHJcbi8vIG5vZGVfbW9kdWxlcy9qc29uYy1wYXJzZXIvbGliL2VzbS9pbXBsL3BhcnNlci5qc1xyXG52YXIgUGFyc2VPcHRpb25zO1xyXG4oZnVuY3Rpb24oUGFyc2VPcHRpb25zMikge1xyXG4gIFBhcnNlT3B0aW9uczIuREVGQVVMVCA9IHtcclxuICAgIGFsbG93VHJhaWxpbmdDb21tYTogZmFsc2VcclxuICB9O1xyXG59KShQYXJzZU9wdGlvbnMgfHwgKFBhcnNlT3B0aW9ucyA9IHt9KSk7XHJcblxyXG4vLyBub2RlX21vZHVsZXMvanNvbmMtcGFyc2VyL2xpYi9lc20vbWFpbi5qc1xyXG52YXIgY3JlYXRlU2Nhbm5lcjIgPSBjcmVhdGVTY2FubmVyO1xyXG52YXIgU2NhbkVycm9yO1xyXG4oZnVuY3Rpb24oU2NhbkVycm9yMikge1xyXG4gIFNjYW5FcnJvcjJbU2NhbkVycm9yMltcIk5vbmVcIl0gPSAwXSA9IFwiTm9uZVwiO1xyXG4gIFNjYW5FcnJvcjJbU2NhbkVycm9yMltcIlVuZXhwZWN0ZWRFbmRPZkNvbW1lbnRcIl0gPSAxXSA9IFwiVW5leHBlY3RlZEVuZE9mQ29tbWVudFwiO1xyXG4gIFNjYW5FcnJvcjJbU2NhbkVycm9yMltcIlVuZXhwZWN0ZWRFbmRPZlN0cmluZ1wiXSA9IDJdID0gXCJVbmV4cGVjdGVkRW5kT2ZTdHJpbmdcIjtcclxuICBTY2FuRXJyb3IyW1NjYW5FcnJvcjJbXCJVbmV4cGVjdGVkRW5kT2ZOdW1iZXJcIl0gPSAzXSA9IFwiVW5leHBlY3RlZEVuZE9mTnVtYmVyXCI7XHJcbiAgU2NhbkVycm9yMltTY2FuRXJyb3IyW1wiSW52YWxpZFVuaWNvZGVcIl0gPSA0XSA9IFwiSW52YWxpZFVuaWNvZGVcIjtcclxuICBTY2FuRXJyb3IyW1NjYW5FcnJvcjJbXCJJbnZhbGlkRXNjYXBlQ2hhcmFjdGVyXCJdID0gNV0gPSBcIkludmFsaWRFc2NhcGVDaGFyYWN0ZXJcIjtcclxuICBTY2FuRXJyb3IyW1NjYW5FcnJvcjJbXCJJbnZhbGlkQ2hhcmFjdGVyXCJdID0gNl0gPSBcIkludmFsaWRDaGFyYWN0ZXJcIjtcclxufSkoU2NhbkVycm9yIHx8IChTY2FuRXJyb3IgPSB7fSkpO1xyXG52YXIgU3ludGF4S2luZDtcclxuKGZ1bmN0aW9uKFN5bnRheEtpbmQyKSB7XHJcbiAgU3ludGF4S2luZDJbU3ludGF4S2luZDJbXCJPcGVuQnJhY2VUb2tlblwiXSA9IDFdID0gXCJPcGVuQnJhY2VUb2tlblwiO1xyXG4gIFN5bnRheEtpbmQyW1N5bnRheEtpbmQyW1wiQ2xvc2VCcmFjZVRva2VuXCJdID0gMl0gPSBcIkNsb3NlQnJhY2VUb2tlblwiO1xyXG4gIFN5bnRheEtpbmQyW1N5bnRheEtpbmQyW1wiT3BlbkJyYWNrZXRUb2tlblwiXSA9IDNdID0gXCJPcGVuQnJhY2tldFRva2VuXCI7XHJcbiAgU3ludGF4S2luZDJbU3ludGF4S2luZDJbXCJDbG9zZUJyYWNrZXRUb2tlblwiXSA9IDRdID0gXCJDbG9zZUJyYWNrZXRUb2tlblwiO1xyXG4gIFN5bnRheEtpbmQyW1N5bnRheEtpbmQyW1wiQ29tbWFUb2tlblwiXSA9IDVdID0gXCJDb21tYVRva2VuXCI7XHJcbiAgU3ludGF4S2luZDJbU3ludGF4S2luZDJbXCJDb2xvblRva2VuXCJdID0gNl0gPSBcIkNvbG9uVG9rZW5cIjtcclxuICBTeW50YXhLaW5kMltTeW50YXhLaW5kMltcIk51bGxLZXl3b3JkXCJdID0gN10gPSBcIk51bGxLZXl3b3JkXCI7XHJcbiAgU3ludGF4S2luZDJbU3ludGF4S2luZDJbXCJUcnVlS2V5d29yZFwiXSA9IDhdID0gXCJUcnVlS2V5d29yZFwiO1xyXG4gIFN5bnRheEtpbmQyW1N5bnRheEtpbmQyW1wiRmFsc2VLZXl3b3JkXCJdID0gOV0gPSBcIkZhbHNlS2V5d29yZFwiO1xyXG4gIFN5bnRheEtpbmQyW1N5bnRheEtpbmQyW1wiU3RyaW5nTGl0ZXJhbFwiXSA9IDEwXSA9IFwiU3RyaW5nTGl0ZXJhbFwiO1xyXG4gIFN5bnRheEtpbmQyW1N5bnRheEtpbmQyW1wiTnVtZXJpY0xpdGVyYWxcIl0gPSAxMV0gPSBcIk51bWVyaWNMaXRlcmFsXCI7XHJcbiAgU3ludGF4S2luZDJbU3ludGF4S2luZDJbXCJMaW5lQ29tbWVudFRyaXZpYVwiXSA9IDEyXSA9IFwiTGluZUNvbW1lbnRUcml2aWFcIjtcclxuICBTeW50YXhLaW5kMltTeW50YXhLaW5kMltcIkJsb2NrQ29tbWVudFRyaXZpYVwiXSA9IDEzXSA9IFwiQmxvY2tDb21tZW50VHJpdmlhXCI7XHJcbiAgU3ludGF4S2luZDJbU3ludGF4S2luZDJbXCJMaW5lQnJlYWtUcml2aWFcIl0gPSAxNF0gPSBcIkxpbmVCcmVha1RyaXZpYVwiO1xyXG4gIFN5bnRheEtpbmQyW1N5bnRheEtpbmQyW1wiVHJpdmlhXCJdID0gMTVdID0gXCJUcml2aWFcIjtcclxuICBTeW50YXhLaW5kMltTeW50YXhLaW5kMltcIlVua25vd25cIl0gPSAxNl0gPSBcIlVua25vd25cIjtcclxuICBTeW50YXhLaW5kMltTeW50YXhLaW5kMltcIkVPRlwiXSA9IDE3XSA9IFwiRU9GXCI7XHJcbn0pKFN5bnRheEtpbmQgfHwgKFN5bnRheEtpbmQgPSB7fSkpO1xyXG52YXIgUGFyc2VFcnJvckNvZGU7XHJcbihmdW5jdGlvbihQYXJzZUVycm9yQ29kZTIpIHtcclxuICBQYXJzZUVycm9yQ29kZTJbUGFyc2VFcnJvckNvZGUyW1wiSW52YWxpZFN5bWJvbFwiXSA9IDFdID0gXCJJbnZhbGlkU3ltYm9sXCI7XHJcbiAgUGFyc2VFcnJvckNvZGUyW1BhcnNlRXJyb3JDb2RlMltcIkludmFsaWROdW1iZXJGb3JtYXRcIl0gPSAyXSA9IFwiSW52YWxpZE51bWJlckZvcm1hdFwiO1xyXG4gIFBhcnNlRXJyb3JDb2RlMltQYXJzZUVycm9yQ29kZTJbXCJQcm9wZXJ0eU5hbWVFeHBlY3RlZFwiXSA9IDNdID0gXCJQcm9wZXJ0eU5hbWVFeHBlY3RlZFwiO1xyXG4gIFBhcnNlRXJyb3JDb2RlMltQYXJzZUVycm9yQ29kZTJbXCJWYWx1ZUV4cGVjdGVkXCJdID0gNF0gPSBcIlZhbHVlRXhwZWN0ZWRcIjtcclxuICBQYXJzZUVycm9yQ29kZTJbUGFyc2VFcnJvckNvZGUyW1wiQ29sb25FeHBlY3RlZFwiXSA9IDVdID0gXCJDb2xvbkV4cGVjdGVkXCI7XHJcbiAgUGFyc2VFcnJvckNvZGUyW1BhcnNlRXJyb3JDb2RlMltcIkNvbW1hRXhwZWN0ZWRcIl0gPSA2XSA9IFwiQ29tbWFFeHBlY3RlZFwiO1xyXG4gIFBhcnNlRXJyb3JDb2RlMltQYXJzZUVycm9yQ29kZTJbXCJDbG9zZUJyYWNlRXhwZWN0ZWRcIl0gPSA3XSA9IFwiQ2xvc2VCcmFjZUV4cGVjdGVkXCI7XHJcbiAgUGFyc2VFcnJvckNvZGUyW1BhcnNlRXJyb3JDb2RlMltcIkNsb3NlQnJhY2tldEV4cGVjdGVkXCJdID0gOF0gPSBcIkNsb3NlQnJhY2tldEV4cGVjdGVkXCI7XHJcbiAgUGFyc2VFcnJvckNvZGUyW1BhcnNlRXJyb3JDb2RlMltcIkVuZE9mRmlsZUV4cGVjdGVkXCJdID0gOV0gPSBcIkVuZE9mRmlsZUV4cGVjdGVkXCI7XHJcbiAgUGFyc2VFcnJvckNvZGUyW1BhcnNlRXJyb3JDb2RlMltcIkludmFsaWRDb21tZW50VG9rZW5cIl0gPSAxMF0gPSBcIkludmFsaWRDb21tZW50VG9rZW5cIjtcclxuICBQYXJzZUVycm9yQ29kZTJbUGFyc2VFcnJvckNvZGUyW1wiVW5leHBlY3RlZEVuZE9mQ29tbWVudFwiXSA9IDExXSA9IFwiVW5leHBlY3RlZEVuZE9mQ29tbWVudFwiO1xyXG4gIFBhcnNlRXJyb3JDb2RlMltQYXJzZUVycm9yQ29kZTJbXCJVbmV4cGVjdGVkRW5kT2ZTdHJpbmdcIl0gPSAxMl0gPSBcIlVuZXhwZWN0ZWRFbmRPZlN0cmluZ1wiO1xyXG4gIFBhcnNlRXJyb3JDb2RlMltQYXJzZUVycm9yQ29kZTJbXCJVbmV4cGVjdGVkRW5kT2ZOdW1iZXJcIl0gPSAxM10gPSBcIlVuZXhwZWN0ZWRFbmRPZk51bWJlclwiO1xyXG4gIFBhcnNlRXJyb3JDb2RlMltQYXJzZUVycm9yQ29kZTJbXCJJbnZhbGlkVW5pY29kZVwiXSA9IDE0XSA9IFwiSW52YWxpZFVuaWNvZGVcIjtcclxuICBQYXJzZUVycm9yQ29kZTJbUGFyc2VFcnJvckNvZGUyW1wiSW52YWxpZEVzY2FwZUNoYXJhY3RlclwiXSA9IDE1XSA9IFwiSW52YWxpZEVzY2FwZUNoYXJhY3RlclwiO1xyXG4gIFBhcnNlRXJyb3JDb2RlMltQYXJzZUVycm9yQ29kZTJbXCJJbnZhbGlkQ2hhcmFjdGVyXCJdID0gMTZdID0gXCJJbnZhbGlkQ2hhcmFjdGVyXCI7XHJcbn0pKFBhcnNlRXJyb3JDb2RlIHx8IChQYXJzZUVycm9yQ29kZSA9IHt9KSk7XHJcblxyXG4vLyBzcmMvbGFuZ3VhZ2UvanNvbi90b2tlbml6YXRpb24udHNcclxuZnVuY3Rpb24gY3JlYXRlVG9rZW5pemF0aW9uU3VwcG9ydChzdXBwb3J0Q29tbWVudHMpIHtcclxuICByZXR1cm4ge1xyXG4gICAgZ2V0SW5pdGlhbFN0YXRlOiAoKSA9PiBuZXcgSlNPTlN0YXRlKG51bGwsIG51bGwsIGZhbHNlLCBudWxsKSxcclxuICAgIHRva2VuaXplOiAobGluZSwgc3RhdGUpID0+IHRva2VuaXplKHN1cHBvcnRDb21tZW50cywgbGluZSwgc3RhdGUpXHJcbiAgfTtcclxufVxyXG52YXIgVE9LRU5fREVMSU1fT0JKRUNUID0gXCJkZWxpbWl0ZXIuYnJhY2tldC5qc29uXCI7XHJcbnZhciBUT0tFTl9ERUxJTV9BUlJBWSA9IFwiZGVsaW1pdGVyLmFycmF5Lmpzb25cIjtcclxudmFyIFRPS0VOX0RFTElNX0NPTE9OID0gXCJkZWxpbWl0ZXIuY29sb24uanNvblwiO1xyXG52YXIgVE9LRU5fREVMSU1fQ09NTUEgPSBcImRlbGltaXRlci5jb21tYS5qc29uXCI7XHJcbnZhciBUT0tFTl9WQUxVRV9CT09MRUFOID0gXCJrZXl3b3JkLmpzb25cIjtcclxudmFyIFRPS0VOX1ZBTFVFX05VTEwgPSBcImtleXdvcmQuanNvblwiO1xyXG52YXIgVE9LRU5fVkFMVUVfU1RSSU5HID0gXCJzdHJpbmcudmFsdWUuanNvblwiO1xyXG52YXIgVE9LRU5fVkFMVUVfTlVNQkVSID0gXCJudW1iZXIuanNvblwiO1xyXG52YXIgVE9LRU5fUFJPUEVSVFlfTkFNRSA9IFwic3RyaW5nLmtleS5qc29uXCI7XHJcbnZhciBUT0tFTl9DT01NRU5UX0JMT0NLID0gXCJjb21tZW50LmJsb2NrLmpzb25cIjtcclxudmFyIFRPS0VOX0NPTU1FTlRfTElORSA9IFwiY29tbWVudC5saW5lLmpzb25cIjtcclxudmFyIFBhcmVudHNTdGFjayA9IGNsYXNzIF9QYXJlbnRzU3RhY2sge1xyXG4gIGNvbnN0cnVjdG9yKHBhcmVudCwgdHlwZSkge1xyXG4gICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XHJcbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xyXG4gIH1cclxuICBzdGF0aWMgcG9wKHBhcmVudHMpIHtcclxuICAgIGlmIChwYXJlbnRzKSB7XHJcbiAgICAgIHJldHVybiBwYXJlbnRzLnBhcmVudDtcclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuICBzdGF0aWMgcHVzaChwYXJlbnRzLCB0eXBlKSB7XHJcbiAgICByZXR1cm4gbmV3IF9QYXJlbnRzU3RhY2socGFyZW50cywgdHlwZSk7XHJcbiAgfVxyXG4gIHN0YXRpYyBlcXVhbHMoYSwgYikge1xyXG4gICAgaWYgKCFhICYmICFiKSB7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgaWYgKCFhIHx8ICFiKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHdoaWxlIChhICYmIGIpIHtcclxuICAgICAgaWYgKGEgPT09IGIpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoYS50eXBlICE9PSBiLnR5cGUpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgICAgYSA9IGEucGFyZW50O1xyXG4gICAgICBiID0gYi5wYXJlbnQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcbn07XHJcbnZhciBKU09OU3RhdGUgPSBjbGFzcyBfSlNPTlN0YXRlIHtcclxuICBjb25zdHJ1Y3RvcihzdGF0ZSwgc2NhbkVycm9yLCBsYXN0V2FzQ29sb24sIHBhcmVudHMpIHtcclxuICAgIHRoaXMuX3N0YXRlID0gc3RhdGU7XHJcbiAgICB0aGlzLnNjYW5FcnJvciA9IHNjYW5FcnJvcjtcclxuICAgIHRoaXMubGFzdFdhc0NvbG9uID0gbGFzdFdhc0NvbG9uO1xyXG4gICAgdGhpcy5wYXJlbnRzID0gcGFyZW50cztcclxuICB9XHJcbiAgY2xvbmUoKSB7XHJcbiAgICByZXR1cm4gbmV3IF9KU09OU3RhdGUodGhpcy5fc3RhdGUsIHRoaXMuc2NhbkVycm9yLCB0aGlzLmxhc3RXYXNDb2xvbiwgdGhpcy5wYXJlbnRzKTtcclxuICB9XHJcbiAgZXF1YWxzKG90aGVyKSB7XHJcbiAgICBpZiAob3RoZXIgPT09IHRoaXMpIHtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBpZiAoIW90aGVyIHx8ICEob3RoZXIgaW5zdGFuY2VvZiBfSlNPTlN0YXRlKSkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcy5zY2FuRXJyb3IgPT09IG90aGVyLnNjYW5FcnJvciAmJiB0aGlzLmxhc3RXYXNDb2xvbiA9PT0gb3RoZXIubGFzdFdhc0NvbG9uICYmIFBhcmVudHNTdGFjay5lcXVhbHModGhpcy5wYXJlbnRzLCBvdGhlci5wYXJlbnRzKTtcclxuICB9XHJcbiAgZ2V0U3RhdGVEYXRhKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3N0YXRlO1xyXG4gIH1cclxuICBzZXRTdGF0ZURhdGEoc3RhdGUpIHtcclxuICAgIHRoaXMuX3N0YXRlID0gc3RhdGU7XHJcbiAgfVxyXG59O1xyXG5mdW5jdGlvbiB0b2tlbml6ZShjb21tZW50cywgbGluZSwgc3RhdGUsIG9mZnNldERlbHRhID0gMCkge1xyXG4gIGxldCBudW1iZXJPZkluc2VydGVkQ2hhcmFjdGVycyA9IDA7XHJcbiAgbGV0IGFkanVzdE9mZnNldCA9IGZhbHNlO1xyXG4gIHN3aXRjaCAoc3RhdGUuc2NhbkVycm9yKSB7XHJcbiAgICBjYXNlIDIgLyogVW5leHBlY3RlZEVuZE9mU3RyaW5nICovOlxyXG4gICAgICBsaW5lID0gJ1wiJyArIGxpbmU7XHJcbiAgICAgIG51bWJlck9mSW5zZXJ0ZWRDaGFyYWN0ZXJzID0gMTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlIDEgLyogVW5leHBlY3RlZEVuZE9mQ29tbWVudCAqLzpcclxuICAgICAgbGluZSA9IFwiLypcIiArIGxpbmU7XHJcbiAgICAgIG51bWJlck9mSW5zZXJ0ZWRDaGFyYWN0ZXJzID0gMjtcclxuICAgICAgYnJlYWs7XHJcbiAgfVxyXG4gIGNvbnN0IHNjYW5uZXIgPSBjcmVhdGVTY2FubmVyMihsaW5lKTtcclxuICBsZXQgbGFzdFdhc0NvbG9uID0gc3RhdGUubGFzdFdhc0NvbG9uO1xyXG4gIGxldCBwYXJlbnRzID0gc3RhdGUucGFyZW50cztcclxuICBjb25zdCByZXQgPSB7XHJcbiAgICB0b2tlbnM6IFtdLFxyXG4gICAgZW5kU3RhdGU6IHN0YXRlLmNsb25lKClcclxuICB9O1xyXG4gIHdoaWxlICh0cnVlKSB7XHJcbiAgICBsZXQgb2Zmc2V0ID0gb2Zmc2V0RGVsdGEgKyBzY2FubmVyLmdldFBvc2l0aW9uKCk7XHJcbiAgICBsZXQgdHlwZSA9IFwiXCI7XHJcbiAgICBjb25zdCBraW5kID0gc2Nhbm5lci5zY2FuKCk7XHJcbiAgICBpZiAoa2luZCA9PT0gMTcgLyogRU9GICovKSB7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gICAgaWYgKG9mZnNldCA9PT0gb2Zmc2V0RGVsdGEgKyBzY2FubmVyLmdldFBvc2l0aW9uKCkpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxyXG4gICAgICAgIFwiU2Nhbm5lciBkaWQgbm90IGFkdmFuY2UsIG5leHQgMyBjaGFyYWN0ZXJzIGFyZTogXCIgKyBsaW5lLnN1YnN0cihzY2FubmVyLmdldFBvc2l0aW9uKCksIDMpXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICBpZiAoYWRqdXN0T2Zmc2V0KSB7XHJcbiAgICAgIG9mZnNldCAtPSBudW1iZXJPZkluc2VydGVkQ2hhcmFjdGVycztcclxuICAgIH1cclxuICAgIGFkanVzdE9mZnNldCA9IG51bWJlck9mSW5zZXJ0ZWRDaGFyYWN0ZXJzID4gMDtcclxuICAgIHN3aXRjaCAoa2luZCkge1xyXG4gICAgICBjYXNlIDEgLyogT3BlbkJyYWNlVG9rZW4gKi86XHJcbiAgICAgICAgcGFyZW50cyA9IFBhcmVudHNTdGFjay5wdXNoKHBhcmVudHMsIDAgLyogT2JqZWN0ICovKTtcclxuICAgICAgICB0eXBlID0gVE9LRU5fREVMSU1fT0JKRUNUO1xyXG4gICAgICAgIGxhc3RXYXNDb2xvbiA9IGZhbHNlO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIDIgLyogQ2xvc2VCcmFjZVRva2VuICovOlxyXG4gICAgICAgIHBhcmVudHMgPSBQYXJlbnRzU3RhY2sucG9wKHBhcmVudHMpO1xyXG4gICAgICAgIHR5cGUgPSBUT0tFTl9ERUxJTV9PQkpFQ1Q7XHJcbiAgICAgICAgbGFzdFdhc0NvbG9uID0gZmFsc2U7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgMyAvKiBPcGVuQnJhY2tldFRva2VuICovOlxyXG4gICAgICAgIHBhcmVudHMgPSBQYXJlbnRzU3RhY2sucHVzaChwYXJlbnRzLCAxIC8qIEFycmF5ICovKTtcclxuICAgICAgICB0eXBlID0gVE9LRU5fREVMSU1fQVJSQVk7XHJcbiAgICAgICAgbGFzdFdhc0NvbG9uID0gZmFsc2U7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgNCAvKiBDbG9zZUJyYWNrZXRUb2tlbiAqLzpcclxuICAgICAgICBwYXJlbnRzID0gUGFyZW50c1N0YWNrLnBvcChwYXJlbnRzKTtcclxuICAgICAgICB0eXBlID0gVE9LRU5fREVMSU1fQVJSQVk7XHJcbiAgICAgICAgbGFzdFdhc0NvbG9uID0gZmFsc2U7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgNiAvKiBDb2xvblRva2VuICovOlxyXG4gICAgICAgIHR5cGUgPSBUT0tFTl9ERUxJTV9DT0xPTjtcclxuICAgICAgICBsYXN0V2FzQ29sb24gPSB0cnVlO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIDUgLyogQ29tbWFUb2tlbiAqLzpcclxuICAgICAgICB0eXBlID0gVE9LRU5fREVMSU1fQ09NTUE7XHJcbiAgICAgICAgbGFzdFdhc0NvbG9uID0gZmFsc2U7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgOCAvKiBUcnVlS2V5d29yZCAqLzpcclxuICAgICAgY2FzZSA5IC8qIEZhbHNlS2V5d29yZCAqLzpcclxuICAgICAgICB0eXBlID0gVE9LRU5fVkFMVUVfQk9PTEVBTjtcclxuICAgICAgICBsYXN0V2FzQ29sb24gPSBmYWxzZTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSA3IC8qIE51bGxLZXl3b3JkICovOlxyXG4gICAgICAgIHR5cGUgPSBUT0tFTl9WQUxVRV9OVUxMO1xyXG4gICAgICAgIGxhc3RXYXNDb2xvbiA9IGZhbHNlO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIDEwIC8qIFN0cmluZ0xpdGVyYWwgKi86XHJcbiAgICAgICAgY29uc3QgY3VycmVudFBhcmVudCA9IHBhcmVudHMgPyBwYXJlbnRzLnR5cGUgOiAwIC8qIE9iamVjdCAqLztcclxuICAgICAgICBjb25zdCBpbkFycmF5ID0gY3VycmVudFBhcmVudCA9PT0gMSAvKiBBcnJheSAqLztcclxuICAgICAgICB0eXBlID0gbGFzdFdhc0NvbG9uIHx8IGluQXJyYXkgPyBUT0tFTl9WQUxVRV9TVFJJTkcgOiBUT0tFTl9QUk9QRVJUWV9OQU1FO1xyXG4gICAgICAgIGxhc3RXYXNDb2xvbiA9IGZhbHNlO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIDExIC8qIE51bWVyaWNMaXRlcmFsICovOlxyXG4gICAgICAgIHR5cGUgPSBUT0tFTl9WQUxVRV9OVU1CRVI7XHJcbiAgICAgICAgbGFzdFdhc0NvbG9uID0gZmFsc2U7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgICBpZiAoY29tbWVudHMpIHtcclxuICAgICAgc3dpdGNoIChraW5kKSB7XHJcbiAgICAgICAgY2FzZSAxMiAvKiBMaW5lQ29tbWVudFRyaXZpYSAqLzpcclxuICAgICAgICAgIHR5cGUgPSBUT0tFTl9DT01NRU5UX0xJTkU7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIDEzIC8qIEJsb2NrQ29tbWVudFRyaXZpYSAqLzpcclxuICAgICAgICAgIHR5cGUgPSBUT0tFTl9DT01NRU5UX0JMT0NLO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldC5lbmRTdGF0ZSA9IG5ldyBKU09OU3RhdGUoXHJcbiAgICAgIHN0YXRlLmdldFN0YXRlRGF0YSgpLFxyXG4gICAgICBzY2FubmVyLmdldFRva2VuRXJyb3IoKSxcclxuICAgICAgbGFzdFdhc0NvbG9uLFxyXG4gICAgICBwYXJlbnRzXHJcbiAgICApO1xyXG4gICAgcmV0LnRva2Vucy5wdXNoKHtcclxuICAgICAgc3RhcnRJbmRleDogb2Zmc2V0LFxyXG4gICAgICBzY29wZXM6IHR5cGVcclxuICAgIH0pO1xyXG4gIH1cclxuICByZXR1cm4gcmV0O1xyXG59XHJcblxyXG4vLyBzcmMvbGFuZ3VhZ2UvanNvbi9qc29uTW9kZS50c1xyXG52YXIgd29ya2VyO1xyXG5mdW5jdGlvbiBnZXRXb3JrZXIoKSB7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgIGlmICghd29ya2VyKSB7XHJcbiAgICAgIHJldHVybiByZWplY3QoXCJKU09OIG5vdCByZWdpc3RlcmVkIVwiKTtcclxuICAgIH1cclxuICAgIHJlc29sdmUod29ya2VyKTtcclxuICB9KTtcclxufVxyXG52YXIgSlNPTkRpYWdub3N0aWNzQWRhcHRlciA9IGNsYXNzIGV4dGVuZHMgRGlhZ25vc3RpY3NBZGFwdGVyIHtcclxuICBjb25zdHJ1Y3RvcihsYW5ndWFnZUlkLCB3b3JrZXIyLCBkZWZhdWx0cykge1xyXG4gICAgc3VwZXIobGFuZ3VhZ2VJZCwgd29ya2VyMiwgZGVmYXVsdHMub25EaWRDaGFuZ2UpO1xyXG4gICAgdGhpcy5fZGlzcG9zYWJsZXMucHVzaChcclxuICAgICAgbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMuZWRpdG9yLm9uV2lsbERpc3Bvc2VNb2RlbCgobW9kZWwpID0+IHtcclxuICAgICAgICB0aGlzLl9yZXNldFNjaGVtYShtb2RlbC51cmkpO1xyXG4gICAgICB9KVxyXG4gICAgKTtcclxuICAgIHRoaXMuX2Rpc3Bvc2FibGVzLnB1c2goXHJcbiAgICAgIG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmVkaXRvci5vbkRpZENoYW5nZU1vZGVsTGFuZ3VhZ2UoKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgdGhpcy5fcmVzZXRTY2hlbWEoZXZlbnQubW9kZWwudXJpKTtcclxuICAgICAgfSlcclxuICAgICk7XHJcbiAgfVxyXG4gIF9yZXNldFNjaGVtYShyZXNvdXJjZSkge1xyXG4gICAgdGhpcy5fd29ya2VyKCkudGhlbigod29ya2VyMikgPT4ge1xyXG4gICAgICB3b3JrZXIyLnJlc2V0U2NoZW1hKHJlc291cmNlLnRvU3RyaW5nKCkpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG5mdW5jdGlvbiBzZXR1cE1vZGUoZGVmYXVsdHMpIHtcclxuICBjb25zdCBkaXNwb3NhYmxlcyA9IFtdO1xyXG4gIGNvbnN0IHByb3ZpZGVycyA9IFtdO1xyXG4gIGNvbnN0IGNsaWVudCA9IG5ldyBXb3JrZXJNYW5hZ2VyKGRlZmF1bHRzKTtcclxuICBkaXNwb3NhYmxlcy5wdXNoKGNsaWVudCk7XHJcbiAgd29ya2VyID0gKC4uLnVyaXMpID0+IHtcclxuICAgIHJldHVybiBjbGllbnQuZ2V0TGFuZ3VhZ2VTZXJ2aWNlV29ya2VyKC4uLnVyaXMpO1xyXG4gIH07XHJcbiAgZnVuY3Rpb24gcmVnaXN0ZXJQcm92aWRlcnMoKSB7XHJcbiAgICBjb25zdCB7IGxhbmd1YWdlSWQsIG1vZGVDb25maWd1cmF0aW9uOiBtb2RlQ29uZmlndXJhdGlvbjIgfSA9IGRlZmF1bHRzO1xyXG4gICAgZGlzcG9zZUFsbChwcm92aWRlcnMpO1xyXG4gICAgaWYgKG1vZGVDb25maWd1cmF0aW9uMi5kb2N1bWVudEZvcm1hdHRpbmdFZGl0cykge1xyXG4gICAgICBwcm92aWRlcnMucHVzaChcclxuICAgICAgICBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5sYW5ndWFnZXMucmVnaXN0ZXJEb2N1bWVudEZvcm1hdHRpbmdFZGl0UHJvdmlkZXIoXHJcbiAgICAgICAgICBsYW5ndWFnZUlkLFxyXG4gICAgICAgICAgbmV3IERvY3VtZW50Rm9ybWF0dGluZ0VkaXRQcm92aWRlcih3b3JrZXIpXHJcbiAgICAgICAgKVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgaWYgKG1vZGVDb25maWd1cmF0aW9uMi5kb2N1bWVudFJhbmdlRm9ybWF0dGluZ0VkaXRzKSB7XHJcbiAgICAgIHByb3ZpZGVycy5wdXNoKFxyXG4gICAgICAgIG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmxhbmd1YWdlcy5yZWdpc3RlckRvY3VtZW50UmFuZ2VGb3JtYXR0aW5nRWRpdFByb3ZpZGVyKFxyXG4gICAgICAgICAgbGFuZ3VhZ2VJZCxcclxuICAgICAgICAgIG5ldyBEb2N1bWVudFJhbmdlRm9ybWF0dGluZ0VkaXRQcm92aWRlcih3b3JrZXIpXHJcbiAgICAgICAgKVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgaWYgKG1vZGVDb25maWd1cmF0aW9uMi5jb21wbGV0aW9uSXRlbXMpIHtcclxuICAgICAgcHJvdmlkZXJzLnB1c2goXHJcbiAgICAgICAgbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLnJlZ2lzdGVyQ29tcGxldGlvbkl0ZW1Qcm92aWRlcihcclxuICAgICAgICAgIGxhbmd1YWdlSWQsXHJcbiAgICAgICAgICBuZXcgQ29tcGxldGlvbkFkYXB0ZXIod29ya2VyLCBbXCIgXCIsIFwiOlwiLCAnXCInXSlcclxuICAgICAgICApXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICBpZiAobW9kZUNvbmZpZ3VyYXRpb24yLmhvdmVycykge1xyXG4gICAgICBwcm92aWRlcnMucHVzaChcclxuICAgICAgICBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5sYW5ndWFnZXMucmVnaXN0ZXJIb3ZlclByb3ZpZGVyKGxhbmd1YWdlSWQsIG5ldyBIb3ZlckFkYXB0ZXIod29ya2VyKSlcclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIGlmIChtb2RlQ29uZmlndXJhdGlvbjIuZG9jdW1lbnRTeW1ib2xzKSB7XHJcbiAgICAgIHByb3ZpZGVycy5wdXNoKFxyXG4gICAgICAgIG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmxhbmd1YWdlcy5yZWdpc3RlckRvY3VtZW50U3ltYm9sUHJvdmlkZXIoXHJcbiAgICAgICAgICBsYW5ndWFnZUlkLFxyXG4gICAgICAgICAgbmV3IERvY3VtZW50U3ltYm9sQWRhcHRlcih3b3JrZXIpXHJcbiAgICAgICAgKVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgaWYgKG1vZGVDb25maWd1cmF0aW9uMi50b2tlbnMpIHtcclxuICAgICAgcHJvdmlkZXJzLnB1c2gobW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLnNldFRva2Vuc1Byb3ZpZGVyKGxhbmd1YWdlSWQsIGNyZWF0ZVRva2VuaXphdGlvblN1cHBvcnQodHJ1ZSkpKTtcclxuICAgIH1cclxuICAgIGlmIChtb2RlQ29uZmlndXJhdGlvbjIuY29sb3JzKSB7XHJcbiAgICAgIHByb3ZpZGVycy5wdXNoKFxyXG4gICAgICAgIG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmxhbmd1YWdlcy5yZWdpc3RlckNvbG9yUHJvdmlkZXIoXHJcbiAgICAgICAgICBsYW5ndWFnZUlkLFxyXG4gICAgICAgICAgbmV3IERvY3VtZW50Q29sb3JBZGFwdGVyKHdvcmtlcilcclxuICAgICAgICApXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICBpZiAobW9kZUNvbmZpZ3VyYXRpb24yLmZvbGRpbmdSYW5nZXMpIHtcclxuICAgICAgcHJvdmlkZXJzLnB1c2goXHJcbiAgICAgICAgbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLnJlZ2lzdGVyRm9sZGluZ1JhbmdlUHJvdmlkZXIoXHJcbiAgICAgICAgICBsYW5ndWFnZUlkLFxyXG4gICAgICAgICAgbmV3IEZvbGRpbmdSYW5nZUFkYXB0ZXIod29ya2VyKVxyXG4gICAgICAgIClcclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIGlmIChtb2RlQ29uZmlndXJhdGlvbjIuZGlhZ25vc3RpY3MpIHtcclxuICAgICAgcHJvdmlkZXJzLnB1c2gobmV3IEpTT05EaWFnbm9zdGljc0FkYXB0ZXIobGFuZ3VhZ2VJZCwgd29ya2VyLCBkZWZhdWx0cykpO1xyXG4gICAgfVxyXG4gICAgaWYgKG1vZGVDb25maWd1cmF0aW9uMi5zZWxlY3Rpb25SYW5nZXMpIHtcclxuICAgICAgcHJvdmlkZXJzLnB1c2goXHJcbiAgICAgICAgbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLnJlZ2lzdGVyU2VsZWN0aW9uUmFuZ2VQcm92aWRlcihcclxuICAgICAgICAgIGxhbmd1YWdlSWQsXHJcbiAgICAgICAgICBuZXcgU2VsZWN0aW9uUmFuZ2VBZGFwdGVyKHdvcmtlcilcclxuICAgICAgICApXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJlZ2lzdGVyUHJvdmlkZXJzKCk7XHJcbiAgZGlzcG9zYWJsZXMucHVzaChtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5sYW5ndWFnZXMuc2V0TGFuZ3VhZ2VDb25maWd1cmF0aW9uKGRlZmF1bHRzLmxhbmd1YWdlSWQsIHJpY2hFZGl0Q29uZmlndXJhdGlvbikpO1xyXG4gIGxldCBtb2RlQ29uZmlndXJhdGlvbiA9IGRlZmF1bHRzLm1vZGVDb25maWd1cmF0aW9uO1xyXG4gIGRlZmF1bHRzLm9uRGlkQ2hhbmdlKChuZXdEZWZhdWx0cykgPT4ge1xyXG4gICAgaWYgKG5ld0RlZmF1bHRzLm1vZGVDb25maWd1cmF0aW9uICE9PSBtb2RlQ29uZmlndXJhdGlvbikge1xyXG4gICAgICBtb2RlQ29uZmlndXJhdGlvbiA9IG5ld0RlZmF1bHRzLm1vZGVDb25maWd1cmF0aW9uO1xyXG4gICAgICByZWdpc3RlclByb3ZpZGVycygpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG4gIGRpc3Bvc2FibGVzLnB1c2goYXNEaXNwb3NhYmxlKHByb3ZpZGVycykpO1xyXG4gIHJldHVybiBhc0Rpc3Bvc2FibGUoZGlzcG9zYWJsZXMpO1xyXG59XHJcbmZ1bmN0aW9uIGFzRGlzcG9zYWJsZShkaXNwb3NhYmxlcykge1xyXG4gIHJldHVybiB7IGRpc3Bvc2U6ICgpID0+IGRpc3Bvc2VBbGwoZGlzcG9zYWJsZXMpIH07XHJcbn1cclxuZnVuY3Rpb24gZGlzcG9zZUFsbChkaXNwb3NhYmxlcykge1xyXG4gIHdoaWxlIChkaXNwb3NhYmxlcy5sZW5ndGgpIHtcclxuICAgIGRpc3Bvc2FibGVzLnBvcCgpLmRpc3Bvc2UoKTtcclxuICB9XHJcbn1cclxudmFyIHJpY2hFZGl0Q29uZmlndXJhdGlvbiA9IHtcclxuICB3b3JkUGF0dGVybjogLygtP1xcZCpcXC5cXGRcXHcqKXwoW15cXFtcXHtcXF1cXH1cXDpcXFwiXFwsXFxzXSspL2csXHJcbiAgY29tbWVudHM6IHtcclxuICAgIGxpbmVDb21tZW50OiBcIi8vXCIsXHJcbiAgICBibG9ja0NvbW1lbnQ6IFtcIi8qXCIsIFwiKi9cIl1cclxuICB9LFxyXG4gIGJyYWNrZXRzOiBbXHJcbiAgICBbXCJ7XCIsIFwifVwiXSxcclxuICAgIFtcIltcIiwgXCJdXCJdXHJcbiAgXSxcclxuICBhdXRvQ2xvc2luZ1BhaXJzOiBbXHJcbiAgICB7IG9wZW46IFwie1wiLCBjbG9zZTogXCJ9XCIsIG5vdEluOiBbXCJzdHJpbmdcIl0gfSxcclxuICAgIHsgb3BlbjogXCJbXCIsIGNsb3NlOiBcIl1cIiwgbm90SW46IFtcInN0cmluZ1wiXSB9LFxyXG4gICAgeyBvcGVuOiAnXCInLCBjbG9zZTogJ1wiJywgbm90SW46IFtcInN0cmluZ1wiXSB9XHJcbiAgXVxyXG59O1xyXG5leHBvcnQge1xyXG4gIENvbXBsZXRpb25BZGFwdGVyLFxyXG4gIERlZmluaXRpb25BZGFwdGVyLFxyXG4gIERpYWdub3N0aWNzQWRhcHRlcixcclxuICBEb2N1bWVudENvbG9yQWRhcHRlcixcclxuICBEb2N1bWVudEZvcm1hdHRpbmdFZGl0UHJvdmlkZXIsXHJcbiAgRG9jdW1lbnRIaWdobGlnaHRBZGFwdGVyLFxyXG4gIERvY3VtZW50TGlua0FkYXB0ZXIsXHJcbiAgRG9jdW1lbnRSYW5nZUZvcm1hdHRpbmdFZGl0UHJvdmlkZXIsXHJcbiAgRG9jdW1lbnRTeW1ib2xBZGFwdGVyLFxyXG4gIEZvbGRpbmdSYW5nZUFkYXB0ZXIsXHJcbiAgSG92ZXJBZGFwdGVyLFxyXG4gIFJlZmVyZW5jZUFkYXB0ZXIsXHJcbiAgUmVuYW1lQWRhcHRlcixcclxuICBTZWxlY3Rpb25SYW5nZUFkYXB0ZXIsXHJcbiAgV29ya2VyTWFuYWdlcixcclxuICBmcm9tUG9zaXRpb24sXHJcbiAgZnJvbVJhbmdlLFxyXG4gIGdldFdvcmtlcixcclxuICBzZXR1cE1vZGUsXHJcbiAgdG9SYW5nZSxcclxuICB0b1RleHRFZGl0XHJcbn07XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/monaco-editor/esm/vs/language/json/jsonMode.js\n");

/***/ })

}]);